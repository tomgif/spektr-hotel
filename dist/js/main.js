fotoramaVersion="4.6.4",function(t,e,i,o,n){"use strict";function s(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var i=function(t,e){var i=[null,null],o=[null,null],n=[null,null],s=function(s,r){return n[r]=3*t[r],o[r]=3*(e[r]-t[r])-n[r],i[r]=1-n[r]-o[r],s*(n[r]+s*(o[r]+s*i[r]))},r=function(t){return n[0]+t*(2*o[0]+3*i[0]*t)},a=function(t){for(var e,i=t,o=0;++o<14&&(e=s(i,0)-t,!(Math.abs(e)<.001));)i-=e/r(i);return i};return function(t){return s(a(t),1)}};o.easing[e]=function(e,o,n,s,r){return s*i([t[0],t[1]],[t[2],t[3]])(o/r)+n}}return e}function r(){}function a(t,e,i){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(i)?1/0:i,t))}function l(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function d(t){return Ie?+l(t.css("transform")):+t.css("left").replace("px","")}function h(t){var e={};return Ie?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function c(t){return{"transition-duration":t+"ms"}}function u(t,e){return isNaN(t)?e:t}function p(t,e){return u(+String(t).replace(e||"px",""))}function f(t){return/%$/.test(t)?p(t,"%"):n}function m(t,e){return u(f(t)/100*e,p(t))}function g(t){return(!isNaN(p(t))||!isNaN(p(t,"%")))&&t}function v(t,e,i,o){return(t-(o||0))*(e+(i||0))}function b(t,e,i,o){return-Math.round(t/(e+(i||0))-(o||0))}function _(t){var e=t.data();if(!e.tEnd){var i=t[0],o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};U(i,o[we.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0}}function w(t,e,i,o){var n,s=t.data();s&&(s.onEndFn=function(){n||(n=!0,clearTimeout(s.tT),i())},s.tProp=e,clearTimeout(s.tT),s.tT=setTimeout(function(){s.onEndFn()},1.5*o),_(t))}function x(t,e){if(t.length){var i=t.data();Ie?(t.css(c(0)),i.onEndFn=r,clearTimeout(i.tT)):t.stop();var o=y(e,function(){return d(t)});return t.css(h(o)),o}}function y(){for(var t,e=0,i=arguments.length;i>e&&(t=e?arguments[e]():arguments[e],"number"!=typeof t);e++);return t}function C(t,e){return Math.round(t+(e-t)/1.5)}function S(){return S.p=S.p||("https:"===i.protocol?"https://":"http://"),S.p}function T(t){var i=e.createElement("a");return i.href=t,i}function k(t,e){if("string"!=typeof t)return t;t=T(t);var i,o;if(t.host.match(/youtube\.com/)&&t.search){if(i=t.search.split("v=")[1]){var n=i.indexOf("&");-1!==n&&(i=i.substring(0,n)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(i=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",i=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return i&&o||!e||(i=t.href,o="custom"),!!i&&{id:i,type:o,s:t.search.replace(/^\?/,""),p:S()}}function $(t,e,i){var n,s,r=t.video;return"youtube"===r.type?(s=S()+"img.youtube.com/vi/"+r.id+"/default.jpg",n=s.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.ajax({url:S()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,M(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,i)}}):t.thumbsReady=!0,{img:n,thumb:s}}function M(t,e,i,n){for(var s=0,r=t.length;r>s;s++){var a=t[s];if(a.i===i&&a.thumbsReady){var l={videoReady:!0};l[Ke]=l[Ze]=l[Qe]=!1,n.splice(s,1,o.extend({},a,l,e));break}}}function P(t){function e(t,e,n){var s=t.children("img").eq(0),r=t.attr("href"),a=t.attr("src"),l=s.attr("src"),d=e.video,h=!!n&&k(r,d===!0);h?r=!1:h=d,i(t,s,o.extend(e,{video:h,img:e.img||r||a||l,thumb:e.thumb||l||a||r}))}function i(t,e,i){var n=i.thumb&&i.img!==i.thumb,s=p(i.width||t.attr("width")),r=p(i.height||t.attr("height"));o.extend(i,{width:s,height:r,thumbratio:N(i.thumbratio||p(i.thumbwidth||e&&e.attr("width")||n||s)/p(i.thumbheight||e&&e.attr("height")||n||r))})}var n=[];return t.children().each(function(){var t=o(this),s=q(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,s,!0);else{if(t.is(":empty"))return;i(t,null,o.extend(s,{html:this,_html:t.html()}))}n.push(s)}),n}function B(t){return 0===t.offsetWidth&&0===t.offsetHeight}function O(t){return!o.contains(e.documentElement,t)}function E(t,e,i,o){return E.i||(E.i=1,E.ii=[!0]),o=o||E.i,"undefined"==typeof E.ii[o]&&(E.ii[o]=!0),t()?e():E.ii[o]&&setTimeout(function(){E.ii[o]&&E(t,e,i,o)},i||100),E.i++}function z(t){i.replace(i.protocol+"//"+i.host+i.pathname.replace(/^\/?/,"/")+i.search+"#"+t)}function I(t,e,i,o){var n=t.data(),s=n.measures;if(s&&(!n.l||n.l.W!==s.width||n.l.H!==s.height||n.l.r!==s.ratio||n.l.w!==e.w||n.l.h!==e.h||n.l.m!==i||n.l.p!==o)){var r=s.width,l=s.height,d=e.w/e.h,h=s.ratio>=d,c="scaledown"===i,u="contain"===i,p="cover"===i,f=G(o);h&&(c||u)||!h&&p?(r=a(e.w,0,c?r:1/0),l=r/s.ratio):(h&&p||!h&&(c||u))&&(l=a(e.h,0,c?l:1/0),r=l*s.ratio),t.css({width:r,height:l,left:m(f.x,e.w-r),top:m(f.y,e.h-l)}),n.l={W:s.width,H:s.height,r:s.ratio,w:e.w,h:e.h,m:i,p:o}}return!0}function W(t,e){var i=t[0];i.styleSheet?i.styleSheet.cssText=e:t.html(e)}function D(t,e,i){return e!==i&&(e>=t?"left":t>=i?"right":"left right")}function L(t,e,i,o){if(!i)return!1;if(!isNaN(t))return t-(o?0:1);for(var n,s=0,r=e.length;r>s;s++){var a=e[s];if(a.id===t){n=s;break}}return n}function A(t,e,i){i=i||{},t.each(function(){var t,n=o(this),s=n.data();s.clickOn||(s.clickOn=!0,o.extend(it(n,{onStart:function(e){t=e,(i.onStart||r).call(this,e)},onMove:i.onMove||r,onTouchEnd:i.onTouchEnd||r,onEnd:function(i){i.moved||e.call(this,t)}}),{noMove:!0}))})}function F(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function j(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),o=t[e];t[e]=t[i],t[i]=o}return t}function R(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function H(t,e,i){t.scrollLeft(e||0).scrollTop(i||0)}function q(t){if(t){var e={};return o.each(t,function(t,i){e[t.toLowerCase()]=i}),e}}function N(t){if(t){var e=+t;return isNaN(e)?(e=t.split("/"),+e[0]/+e[1]||n):e}}function U(t,e,i,o){e&&(t.addEventListener?t.addEventListener(e,i,!!o):t.attachEvent("on"+e,i))}function V(t){return!!t.getAttribute("disabled")}function X(t){return{tabindex:-1*t+"",disabled:t}}function Y(t,e){U(t,"keyup",function(i){V(t)||13==i.keyCode&&e.call(t,i)})}function K(t,e){U(t,"focus",t.onfocusin=function(i){e.call(t,i)},!0)}function Q(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function Z(t){return t?">":"<"}function G(t){return t=(t+"").split(/\s+/),{x:g(t[0])||ei,y:g(t[1])||ei}}function J(t,e){var i=t.data(),n=Math.round(e.pos),s=function(){i.sliding=!1,(e.onEnd||r)()};"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(n=e.overPos,s=function(){J(t,o.extend({},e,{overPos:e.pos,time:Math.max(He,e.time/2)}))});var a=o.extend(h(n),e.width&&{width:e.width});i.sliding=!0,Ie?(t.css(o.extend(c(e.time),a)),e.time>10?w(t,"transform",s,e.time):s()):t.stop().animate(a,e.time,Je,s)}function tt(t,e,i,n,s,a){var l="undefined"!=typeof a;if(l||(s.push(arguments),Array.prototype.push.call(arguments,s.length),!(s.length>1))){t=t||o(t),e=e||o(e);var d=t[0],h=e[0],c="crossfade"===n.method,u=function(){if(!u.done){u.done=!0;var t=(l||s.shift())&&s.shift();t&&tt.apply(this,t),(n.onEnd||r)(!!t)}},p=n.time/(a||1);i.removeClass(qt+" "+Ht),t.stop().addClass(qt),e.stop().addClass(Ht),c&&h&&t.fadeTo(0,0),t.fadeTo(c?p:0,1,c&&u),e.fadeTo(p,0,u),d&&c||h||u()}}function et(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=o.now()}function it(t,i){function n(t){return u=o(t.target),w.checked=m=g=b=!1,h||w.flow||t.touches&&t.touches.length>1||t.which>1||ni&&ni.type!==t.type&&ri||(m=i.select&&u.is(i.select,_))?m:(f="touchstart"===t.type,g=u.is("a, a *",_),p=w.control,v=w.noMove||w.noSwipe||p?16:w.snap?0:4,et(t),c=ni=t,si=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(i.onStart||r).call(_,t,{control:p,$target:u}),h=w.flow=!0,void((!f||w.go)&&Q(t)))}function s(t){if(t.touches&&t.touches.length>1||Fe&&!t.isPrimary||si!==t.type||!h)return h&&a(),void(i.onTouchEnd||r)();et(t);var e=Math.abs(t._x-c._x),o=Math.abs(t._y-c._y),n=e-o,s=(w.go||w.x||n>=0)&&!w.noSwipe,l=0>n;f&&!w.checked?(h=s)&&Q(t):(Q(t),(i.onMove||r).call(_,t,{touch:f})),!b&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>v&&(b=!0),w.checked=w.checked||s||l}function a(t){(i.onTouchEnd||r)();var e=h;w.control=h=!1,e&&(w.flow=!1),!e||g&&!w.checked||(t&&Q(t),ri=!0,clearTimeout(ai),ai=setTimeout(function(){ri=!1},1e3),(i.onEnd||r).call(_,{moved:b,$target:u,control:p,touch:f,startEvent:c,aborted:!t||"MSPointerCancel"===t.type}))}function l(){w.flow||setTimeout(function(){w.flow=!0},10)}function d(){w.flow&&setTimeout(function(){w.flow=!1},Re)}var h,c,u,p,f,m,g,v,b,_=t[0],w={};return Fe?(U(_,"MSPointerDown",n),U(e,"MSPointerMove",s),U(e,"MSPointerCancel",a),U(e,"MSPointerUp",a)):(U(_,"touchstart",n),U(_,"touchmove",s),U(_,"touchend",a),U(e,"touchstart",l),U(e,"touchend",d),U(e,"touchcancel",d),Be.on("scroll",d),t.on("mousedown",n),Oe.on("mousemove",s).on("mouseup",a)),t.on("click","a",function(t){w.checked&&Q(t)}),w}function ot(t,e){function i(i,o){k=!0,d=c=i._x,g=i._now,m=[[g,d]],u=p=P.noMove||o?0:x(t,(e.getPos||r)()),(e.onStart||r).call($,i)}function n(t,e){b=P.min,_=P.max,w=P.snap,y=t.altKey,k=T=!1,S=e.control,S||M.sliding||i(t)}function s(o,n){P.noSwipe||(k||i(o),c=o._x,m.push([o._now,c]),p=u-(d-c),f=D(p,b,_),b>=p?p=C(p,b):p>=_&&(p=C(p,_)),P.noMove||(t.css(h(p)),T||(T=!0,n.touch||Fe||t.addClass(ne)),(e.onMove||r).call($,o,{pos:p,edge:f})))}function l(n){if(!P.noSwipe||!n.moved){k||i(n.startEvent,!0),n.touch||Fe||t.removeClass(ne),v=o.now();for(var s,l,d,h,f,g,x,C,S,T=v-Re,M=null,B=He,O=e.friction,E=m.length-1;E>=0;E--){if(s=m[E][0],l=Math.abs(s-T),null===M||d>l)M=s,h=m[E][1];else if(M===T||l>d)break;d=l}x=a(p,b,_);var z=h-c,I=z>=0,W=v-M,D=W>Re,L=!D&&p!==u&&x===p;w&&(x=a(Math[L?I?"floor":"ceil":"round"](p/w)*w,b,_),b=_=x),L&&(w||x===p)&&(S=-(z/W),B*=a(Math.abs(S),e.timeLow,e.timeHigh),f=Math.round(p+S*B/O),w||(x=f),(!I&&f>_||I&&b>f)&&(g=I?b:_,C=f-g,w||(x=g),C=a(x+.03*C,g-50,g+50),B=Math.abs((p-C)/(S/O)))),B*=y?10:1,(e.onEnd||r).call($,o.extend(n,{moved:n.moved||D&&w,pos:p,newPos:x,overPos:C,time:B}))}}var d,c,u,p,f,m,g,v,b,_,w,y,S,T,k,$=t[0],M=t.data(),P={};return P=o.extend(it(e.$wrap,o.extend({},e,{onStart:n,onMove:s,onEnd:l})),P)}function nt(t,e){var i,n,s,a=t[0],l={prevent:{}};return U(a,je,function(t){var a=t.wheelDeltaY||-1*t.deltaY||0,d=t.wheelDeltaX||-1*t.deltaX||0,h=Math.abs(d)&&!Math.abs(a),c=Z(0>d),u=n===c,p=o.now(),f=Re>p-s;n=c,s=p,h&&l.ok&&(!l.prevent[c]||i)&&(Q(t,!0),i&&u&&f||(e.shift&&(i=!0,clearTimeout(l.t),l.t=setTimeout(function(){i=!1},qe)),(e.onEnd||r)(t,e.shift?c:d)))}),l}function st(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}function rt(t){o.Fotorama.instances.push(t),st()}function at(t){o.Fotorama.instances.splice(t.index,1),st()}var lt="fotorama",dt="fullscreen",ht=lt+"__wrap",ct=ht+"--css2",ut=ht+"--css3",pt=ht+"--video",ft=ht+"--fade",mt=ht+"--slide",gt=ht+"--no-controls",vt=ht+"--no-shadows",bt=ht+"--pan-y",_t=ht+"--rtl",wt=ht+"--only-active",xt=ht+"--no-captions",yt=ht+"--toggle-arrows",Ct=lt+"__stage",St=Ct+"__frame",Tt=St+"--video",kt=Ct+"__shaft",$t=lt+"__grab",Mt=lt+"__pointer",Pt=lt+"__arr",Bt=Pt+"--disabled",Ot=Pt+"--prev",Et=Pt+"--next",zt=lt+"__nav",It=zt+"-wrap",Wt=zt+"__shaft",Dt=zt+"--dots",Lt=zt+"--thumbs",At=zt+"__frame",Ft=At+"--dot",jt=At+"--thumb",Rt=lt+"__fade",Ht=Rt+"-front",qt=Rt+"-rear",Nt=lt+"__shadow",Ut=Nt+"s",Vt=Ut+"--left",Xt=Ut+"--right",Yt=lt+"__active",Kt=lt+"__select",Qt=lt+"--hidden",Zt=lt+"--fullscreen",Gt=lt+"__fullscreen-icon",Jt=lt+"__error",te=lt+"__loading",ee=lt+"__loaded",ie=ee+"--full",oe=ee+"--img",ne=lt+"__grabbing",se=lt+"__img",re=se+"--full",ae=lt+"__dot",le=lt+"__thumb",de=le+"-border",he=lt+"__html",ce=lt+"__video",ue=ce+"-play",pe=ce+"-close",fe=lt+"__caption",me=lt+"__caption__wrap",ge=lt+"__spinner",ve='" tabindex="0" role="button',be=o&&o.fn.jquery.split(".");if(!be||be[0]<1||1==be[0]&&be[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var _e={},we=function(t,e,i){function o(t){v.cssText=t}function n(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var o in t){var n=t[o];if(!s(n,"-")&&v[n]!==i)return"pfx"!=e||n}return!1}function a(t,e,o){for(var s in t){var r=e[t[s]];if(r!==i)return o===!1?t[s]:n(r,"function")?r.bind(o||e):r}return!1}function l(t,e,i){var o=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+w.join(o+" ")+o).split(" ");return n(e,"string")||n(e,"undefined")?r(s,e):(s=(t+" "+x.join(o+" ")+o).split(" "),a(s,e,i))}var d,h,c,u="2.6.2",p={},f=e.documentElement,m="modernizr",g=e.createElement(m),v=g.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),_="Webkit Moz O ms",w=_.split(" "),x=_.toLowerCase().split(" "),y={},C=[],S=C.slice,T=function(t,i,o,n){var s,r,a,l,d=e.createElement("div"),h=e.body,c=h||e.createElement("body");if(parseInt(o,10))for(;o--;)a=e.createElement("div"),a.id=n?n[o]:m+(o+1),d.appendChild(a);return s=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),d.id=m,(h?d:c).innerHTML+=s,c.appendChild(d),h||(c.style.background="",c.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(c)),r=i(d,t),h?d.parentNode.removeChild(d):(c.parentNode.removeChild(c),f.style.overflow=l),!!r},k={}.hasOwnProperty;c=n(k,"undefined")||n(k.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(t,e){return k.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=S.call(arguments,1),o=function(){if(this instanceof o){var n=function(){};n.prototype=e.prototype;var s=new n,r=e.apply(s,i.concat(S.call(arguments)));return Object(r)===r?r:s}return e.apply(t,i.concat(S.call(arguments)))};return o}),y.csstransforms3d=function(){var t=!!l("perspective");return t};for(var $ in y)c(y,$)&&(h=$.toLowerCase(),p[h]=y[$](),C.push((p[h]?"":"no-")+h));return p.addTest=function(t,e){if("object"==typeof t)for(var o in t)c(t,o)&&p.addTest(o,t[o]);else{if(t=t.toLowerCase(),p[t]!==i)return p;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(e?"":"no-")+t),p[t]=e}return p},o(""),g=d=null,p._version=u,p._prefixes=b,p._domPrefixes=x,p._cssomPrefixes=w,p.testProp=function(t){return r([t])},p.testAllProps=l,p.testStyles=T,p.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},p}(t,e),xe={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},ye="webkit moz o ms khtml".split(" ");if("undefined"!=typeof e.cancelFullScreen)xe.ok=!0;else for(var Ce=0,Se=ye.length;Se>Ce;Ce++)if(xe.prefix=ye[Ce],"undefined"!=typeof e[xe.prefix+"CancelFullScreen"]){xe.ok=!0;break}xe.ok&&(xe.event=xe.prefix+"fullscreenchange",xe.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},xe.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},xe.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Te,ke={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},$e={top:"auto",left:"auto",className:""};!function(t,e){Te=e()}(this,function(){function t(t,i){var o,n=e.createElement(t||"div");for(o in i)n[o]=i[o];return n}function i(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function o(t,e,i,o){var n=["opacity",e,~~(100*t),i,o].join("-"),s=.01+i/o*100,r=Math.max(1-(1-t)/e*(100-s),t),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return f[n]||(m.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+r+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",m.cssRules.length),f[n]=1),n}function s(t,e){var i,o,s=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<p.length;o++)if(i=p[o]+e,s[i]!==n)return i;return s[e]!==n?e:void 0}function r(t,e){for(var i in e)t.style[s(t,i)||i]=e[i];return t}function a(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)t[o]===n&&(t[o]=i[o])}return t}function l(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function d(t,e){return"string"==typeof t?t:t[e%t.length]}function h(t){return"undefined"==typeof this?new h(t):void(this.opts=a(t||{},h.defaults,g))}function c(){function e(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(t,o){function n(){return r(e("group",{coordsize:h+" "+h,coordorigin:-l+" "+-l}),{width:h,height:h})}function s(t,s,a){i(u,i(r(n(),{rotation:360/o.lines*t+"deg",left:~~s}),i(r(e("roundrect",{arcsize:o.corners}),{width:l,height:o.width,left:o.radius,top:-o.width>>1,filter:a}),e("fill",{color:d(o.color,t),opacity:o.opacity}),e("stroke",{opacity:0}))))}var a,l=o.length+o.width,h=2*l,c=2*-(o.width+o.length)+"px",u=r(n(),{position:"absolute",top:c,left:c});if(o.shadow)for(a=1;a<=o.lines;a++)s(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=o.lines;a++)s(a);return i(t,u)},h.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&(n=n.childNodes[e+o],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=i))}}var u,p=["webkit","Moz","ms","O"],f={},m=function(){var o=t("style",{type:"text/css"});return i(e.getElementsByTagName("head")[0],o),o.sheet||o.styleSheet}(),g={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};h.defaults={},a(h.prototype,{spin:function(e){this.stop();var i,o,n=this,s=n.opts,a=n.el=r(t(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),d=s.radius+s.length+s.width;if(e&&(e.insertBefore(a,e.firstChild||null),o=l(e),i=l(a),r(a,{left:("auto"==s.left?o.x-i.x+(e.offsetWidth>>1):parseInt(s.left,10)+d)+"px",top:("auto"==s.top?o.y-i.y+(e.offsetHeight>>1):parseInt(s.top,10)+d)+"px"})),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!u){var h,c=0,p=(s.lines-1)*(1-s.direction)/2,f=s.fps,m=f/s.speed,g=(1-s.opacity)/(m*s.trail/100),v=m/s.lines;!function b(){c++;for(var t=0;t<s.lines;t++)h=Math.max(1-(c+(s.lines-t)*v)%m*g,s.opacity),n.opacity(a,t*s.direction+p,h,s);n.timeout=n.el&&setTimeout(b,~~(1e3/f))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=n),this},lines:function(e,n){function s(e,i){return r(t(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*l+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var a,l=0,h=(n.lines-1)*(1-n.direction)/2;l<n.lines;l++)a=r(t(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:u&&o(n.opacity,n.trail,h+l*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&i(a,r(s("#000","0 0 4px #000"),{top:"2px"})),i(e,i(a,s(d(n.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var v=r(t("group"),{behavior:"url(#default#VML)"});return!s(v,"transform")&&v.adj?c():u=s(v,"animation"),h});var Me,Pe,Be=o(t),Oe=o(e),Ee="quirks"===i.hash.replace("#",""),ze=we.csstransforms3d,Ie=ze&&!Ee,We=ze||"CSS1Compat"===e.compatMode,De=xe.ok,Le=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Ae=!Ie||Le,Fe=navigator.msPointerEnabled,je="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==n?"mousewheel":"DOMMouseScroll",Re=250,He=300,qe=1400,Ne=5e3,Ue=2,Ve=64,Xe=500,Ye=333,Ke="$stageFrame",Qe="$navDotFrame",Ze="$navThumbFrame",Ge="auto",Je=s([.1,0,.25,1]),ti=99999,ei="50%",ii={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Ue,glimpse:0,fit:"contain",position:ei,thumbposition:ei,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Ve,thumbheight:Ve,thumbmargin:Ue,thumbborderwidth:Ue,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:He,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},oi={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};E.stop=function(t){E.ii[t]=!1};var ni,si,ri,ai;jQuery.Fotorama=function(t,n){function s(){o.each(Si,function(t,e){if(!e.i){e.i=po++;var i=k(e.video,!0);if(i){var o={};e.video=i,e.img||e.thumb?e.thumbsReady=!0:o=$(e,Si,lo),M(Si,{img:o.img,thumb:o.thumb},e.i,lo)}}})}function r(t){return Zi[t]||lo.fullScreen}function l(t){var e="keydown."+lt,i=lt+ho,o="keydown."+i,s="resize."+i+" orientationchange."+i;t?(Oe.on(o,function(t){var e,i;Mi&&27===t.keyCode?(e=!0,ui(Mi,!0,!0)):(lo.fullScreen||n.keyboard&&!lo.index)&&(27===t.keyCode?(e=!0,lo.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&r("space")||37===t.keyCode&&r("left")||38===t.keyCode&&r("up")?i="<":32===t.keyCode&&r("space")||39===t.keyCode&&r("right")||40===t.keyCode&&r("down")?i=">":36===t.keyCode&&r("home")?i="<<":35===t.keyCode&&r("end")&&(i=">>")),(e||i)&&Q(t),i&&lo.show({index:i,slow:t.altKey,user:!0})}),lo.index||Oe.off(e).on(e,"textarea, input, select",function(t){!Pe.hasClass(dt)&&t.stopPropagation()}),Be.on(s,lo.resize)):(Oe.off(o),Be.off(s))}function d(e){e!==d.f&&(e?(t.html("").addClass(lt+" "+co).append(vo).before(mo).before(go),rt(lo)):(vo.detach(),mo.detach(),go.detach(),t.html(fo.urtext).removeClass(co),at(lo)),l(e),d.f=e)}function u(){Si=lo.data=Si||R(n.data)||P(t),Ti=lo.size=Si.length,!Ci.ok&&n.shuffle&&j(Si),s(),Do=S(Do),Ti&&d(!0)}function f(){var t=2>Ti&&!n.enableifsingleframe||Mi;Fo.noMove=t||Ni,Fo.noSwipe=t||!n.swipe,!Yi&&_o.toggleClass($t,!n.click&&!Fo.noMove&&!Fo.noSwipe),Fe&&vo.toggleClass(bt,!Fo.noSwipe)}function _(t){t===!0&&(t=""),n.autoplay=Math.max(+t||Ne,1.5*Xi)}function w(){function t(t,i){e[t?"add":"remove"].push(i)}lo.options=n=q(n),Ni="crossfade"===n.transition||"dissolve"===n.transition,Ai=n.loop&&(Ti>2||Ni&&(!Yi||"slide"!==Yi)),Xi=+n.transitionduration||He,Qi="rtl"===n.direction,Zi=o.extend({},n.keyboard&&oi,n.keyboard);var e={add:[],remove:[]};Ti>1||n.enableifsingleframe?(Fi=n.nav,Ri="top"===n.navposition,e.remove.push(Kt),Co.toggle(!!n.arrows)):(Fi=!1,Co.hide()),qt(),$i=new Te(o.extend(ke,n.spinner,$e,{direction:Qi?-1:1})),Ee(),ze(),n.autoplay&&_(n.autoplay),Ui=p(n.thumbwidth)||Ve,Vi=p(n.thumbheight)||Ve,jo.ok=Ho.ok=n.trackpad&&!Ae,f(),ni(n,[Ao]),ji="thumbs"===Fi,ji?(ce(Ti,"navThumb"),ki=Mo,ao=Ze,W(mo,o.Fotorama.jst.style({w:Ui,h:Vi,b:n.thumbborderwidth,m:n.thumbmargin,s:ho,q:!We})),To.addClass(Lt).removeClass(Dt)):"dots"===Fi?(ce(Ti,"navDot"),ki=$o,ao=Qe,To.addClass(Dt).removeClass(Lt)):(Fi=!1,To.removeClass(Lt+" "+Dt)),Fi&&(Ri?So.insertBefore(bo):So.insertAfter(bo),ye.nav=!1,ye(ki,ko,"nav")),Hi=n.allowfullscreen,Hi?(Bo.prependTo(bo),qi=De&&"native"===Hi):(Bo.detach(),qi=!1),t(Ni,ft),t(!Ni,mt),t(!n.captions,xt),t(Qi,_t),t("always"!==n.arrows,yt),Ki=n.shadows&&!Ae,t(!Ki,vt),vo.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),Lo=o.extend({},n)}function C(t){return 0>t?(Ti+t%Ti)%Ti:t>=Ti?t%Ti:t}function S(t){return a(t,0,Ti-1)}function T(t){return Ai?C(t):S(t)}function B(t){return!!(t>0||Ai)&&t-1}function V(t){return!!(Ti-1>t||Ai)&&t+1}function G(){Fo.min=Ai?-1/0:-v(Ti-1,Ao.w,n.margin,Oi),Fo.max=Ai?1/0:-v(0,Ao.w,n.margin,Oi),Fo.snap=Ao.w+n.margin}function et(){Ro.min=Math.min(0,Ao.nw-ko.width()),Ro.max=0,ko.toggleClass($t,!(Ro.noMove=Ro.min===Ro.max))}function it(t,e,i){if("number"==typeof t){t=new Array(t);var n=!0}return o.each(t,function(t,o){if(n&&(o=t),"number"==typeof o){var s=Si[C(o)];if(s){var r="$"+e+"Frame",a=s[r];i.call(this,t,o,s,a,r,a&&a.data())}}})}function st(t,e,i,o){(!Gi||"*"===Gi&&o===Li)&&(t=g(n.width)||g(t)||Xe,e=g(n.height)||g(e)||Ye,lo.resize({width:t,ratio:n.ratio||i||t/e},0,o!==Li&&"*"))}function Rt(t,e,i,s,r,a){it(t,e,function(t,l,d,h,c,u){function p(t){var e=C(l);si(t,{index:e,src:y,frame:Si[e]})}function f(){_.remove(),o.Fotorama.cache[y]="error",d.html&&"stage"===e||!S||S===y?(!y||d.html||v?"stage"===e&&(h.trigger("f:load").removeClass(te+" "+Jt).addClass(ee),p("load"),st()):(h.trigger("f:error").removeClass(te).addClass(Jt),p("error")),u.state="error",!(Ti>1&&Si[l]===d)||d.html||d.deleted||d.video||v||(d.deleted=!0,lo.splice(l,1))):(d[x]=y=S,Rt([l],e,i,s,r,!0))}function m(){o.Fotorama.measures[y]=w.measures=o.Fotorama.measures[y]||{width:b.width,height:b.height,ratio:b.width/b.height},st(w.measures.width,w.measures.height,w.measures.ratio,l),_.off("load error").addClass(se+(v?" "+re:"")).prependTo(h),I(_,(o.isFunction(i)?i():i)||Ao,s||d.fit||n.fit,r||d.position||n.position),o.Fotorama.cache[y]=u.state="loaded",setTimeout(function(){h.trigger("f:load").removeClass(te+" "+Jt).addClass(ee+" "+(v?ie:oe)),"stage"===e?p("load"):(d.thumbratio===Ge||!d.thumbratio&&n.thumbratio===Ge)&&(d.thumbratio=w.measures.ratio,xi())},0)}function g(){var t=10;E(function(){return!so||!t--&&!Ae},function(){m()})}if(h){var v=lo.fullScreen&&d.full&&d.full!==d.img&&!u.$full&&"stage"===e;if(!u.$img||a||v){var b=new Image,_=o(b),w=_.data();u[v?"$full":"$img"]=_;var x="stage"===e?v?"full":"img":"thumb",y=d[x],S=v?null:d["stage"===e?"thumb":"img"];if("navThumb"===e&&(h=u.$wrap),!y)return void f();o.Fotorama.cache[y]?!function T(){"error"===o.Fotorama.cache[y]?f():"loaded"===o.Fotorama.cache[y]?setTimeout(g,0):setTimeout(T,100)}():(o.Fotorama.cache[y]="*",_.on("load",g).on("error",f)),u.state="",b.src=y}}})}function Ht(t){Wo.append($i.spin().el).appendTo(t)}function qt(){Wo.detach(),$i&&$i.stop()}function Nt(){var t=Pi[Ke];t&&!t.data().state&&(Ht(t),t.on("f:load f:error",function(){t.off("f:load f:error"),qt()}))}function ne(t){Y(t,bi),K(t,function(){setTimeout(function(){H(To)},0),qe({time:Xi,guessIndex:o(this).data().eq,minMax:Ro})})}function ce(t,e){it(t,e,function(t,i,n,s,r,a){if(!s){s=n[r]=vo[r].clone(),a=s.data(),a.data=n;var l=s[0];"stage"===e?(n.html&&o('<div class="'+he+'"></div>').append(n._html?o(n.html).removeAttr("id").html(n._html):n.html).appendTo(s),n.caption&&o(F(fe,F(me,n.caption))).appendTo(s),n.video&&s.addClass(Tt).append(Eo.clone()),K(l,function(){setTimeout(function(){H(bo)},0),mi({index:a.eq,user:!0})}),wo=wo.add(s)):"navDot"===e?(ne(l),$o=$o.add(s)):"navThumb"===e&&(ne(l),a.$wrap=s.children(":first"),Mo=Mo.add(s),n.video&&a.$wrap.append(Eo.clone()))}})}function be(t,e,i,o){return t&&t.length&&I(t,e,i,o)}function _e(t){it(t,"stage",function(t,e,i,s,r,a){if(s){var l=C(e),d=i.fit||n.fit,h=i.position||n.position;a.eq=l,No[Ke][l]=s.css(o.extend({left:Ni?0:v(e,Ao.w,n.margin,Oi)},Ni&&c(0))),O(s[0])&&(s.appendTo(_o),ui(i.$video)),be(a.$img,Ao,d,h),be(a.$full,Ao,d,h)}})}function we(t,e){if("thumbs"===Fi&&!isNaN(t)){var i=-t,s=-t+Ao.nw;Mo.each(function(){var t=o(this),r=t.data(),a=r.eq,l=function(){return{h:Vi,w:r.w}},d=l(),h=Si[a]||{},c=h.thumbfit||n.thumbfit,u=h.thumbposition||n.thumbposition;d.w=r.w,r.l+r.w<i||r.l>s||be(r.$img,d,c,u)||e&&Rt([a],"navThumb",l,c,u)})}}function ye(t,e,i){if(!ye[i]){var s="nav"===i&&ji,r=0;e.append(t.filter(function(){for(var t,e=o(this),i=e.data(),n=0,s=Si.length;s>n;n++)if(i.data===Si[n]){t=!0,i.eq=n;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){if(s){var t=o(this),e=t.data(),i=Math.round(Vi*e.data.thumbratio)||Ui;e.l=r,e.w=i,t.css({width:i}),r+=i+n.thumbmargin}})),ye[i]=!0}}function Ce(t){return t-Uo>Ao.w/3}function Se(t){return!(Ai||Do+t&&Do-Ti+t||Mi)}function Ee(){var t=Se(0),e=Se(1);xo.toggleClass(Bt,t).attr(X(t)),yo.toggleClass(Bt,e).attr(X(e))}function ze(){jo.ok&&(jo.prevent={"<":Se(0),">":Se(1)})}function Le(t){var e,i,o=t.data();return ji?(e=o.l,i=o.w):(e=t.position().left,i=t.width()),{c:e+i/2,min:-e+10*n.thumbmargin,max:-e+Ao.w-i-10*n.thumbmargin}}function je(t){var e=Pi[ao].data();J(Po,{time:1.2*t,pos:e.l,width:e.w-2*n.thumbborderwidth})}function qe(t){var e=Si[t.guessIndex][ao];if(e){var i=Ro.min!==Ro.max,o=t.minMax||i&&Le(Pi[ao]),n=i&&(t.keep&&qe.l?qe.l:a((t.coo||Ao.nw/2)-Le(e).c,o.min,o.max)),s=i&&a(n,Ro.min,Ro.max),r=1.1*t.time;J(ko,{time:r,pos:s||0,onEnd:function(){we(s,!0)}}),ci(To,D(s,Ro.min,Ro.max)),qe.l=n}}function Ue(){Je(ao),qo[ao].push(Pi[ao].addClass(Yt))}function Je(t){for(var e=qo[t];e.length;)e.shift().removeClass(Yt)}function ei(t){var e=No[t];o.each(Bi,function(t,i){delete e[C(i)]}),o.each(e,function(t,i){delete e[t],i.detach()})}function ii(t){Oi=Ei=Do;var e=Pi[Ke];e&&(Je(Ke),qo[Ke].push(e.addClass(Yt)),t||lo.show.onEnd(!0),x(_o,0,!0),ei(Ke),_e(Bi),G(),et())}function ni(t,e){t&&o.each(e,function(e,i){i&&o.extend(i,{width:t.width||i.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:N(t.ratio)})})}function si(e,i){t.trigger(lt+":"+e,[lo,i])}function ri(){clearTimeout(ai.t),so=1,n.stopautoplayontouch?lo.stopAutoplay():io=!0}function ai(){so&&(n.stopautoplayontouch||(li(),di()),ai.t=setTimeout(function(){so=0},He+Re))}function li(){io=!(!Mi&&!oo)}function di(){if(clearTimeout(di.t),E.stop(di.w),!n.autoplay||io)return void(lo.autoplay&&(lo.autoplay=!1,si("stopautoplay")));lo.autoplay||(lo.autoplay=!0,si("startautoplay"));var t=Do,e=Pi[Ke].data();di.w=E(function(){return e.state||t!==Do},function(){di.t=setTimeout(function(){if(!io&&t===Do){var e=Di,i=Si[e][Ke].data();di.w=E(function(){return i.state||e!==Di},function(){io||e!==Di||lo.show(Ai?Z(!Qi):Di)})}},n.autoplay)})}function hi(){lo.fullScreen&&(lo.fullScreen=!1,De&&xe.cancel(uo),Pe.removeClass(dt),Me.removeClass(dt),t.removeClass(Zt).insertAfter(go),Ao=o.extend({},no),ui(Mi,!0,!0),vi("x",!1),lo.resize(),Rt(Bi,"stage"),H(Be,to,Ji),si("fullscreenexit"))}function ci(t,e){Ki&&(t.removeClass(Vt+" "+Xt),e&&!Mi&&t.addClass(e.replace(/^|\s/g," "+Ut+"--")))}function ui(t,e,i){e&&(vo.removeClass(pt),Mi=!1,f()),t&&t!==Mi&&(t.remove(),si("unloadvideo")),i&&(li(),di())}function pi(t){vo.toggleClass(gt,t)}function fi(t){if(!Fo.flow){var e=t?t.pageX:fi.x,i=e&&!Se(Ce(e))&&n.click;fi.p!==i&&bo.toggleClass(Mt,i)&&(fi.p=i,fi.x=e)}}function mi(t){clearTimeout(mi.t),n.clicktransition&&n.clicktransition!==n.transition?setTimeout(function(){var e=n.transition;lo.setOptions({transition:n.clicktransition}),Yi=e,mi.t=setTimeout(function(){lo.show(t)},10)},0):lo.show(t)}function gi(t,e){var i=t.target,s=o(i);s.hasClass(ue)?lo.playVideo():i===Oo?lo.toggleFullScreen():Mi?i===Io&&ui(Mi,!0,!0):e?pi():n.click&&mi({index:t.shiftKey||Z(Ce(t._x)),slow:t.altKey,user:!0})}function vi(t,e){Fo[t]=Ro[t]=e}function bi(t){var e=o(this).data().eq;mi({index:e,slow:t.altKey,user:!0,coo:t._x-To.offset().left})}function _i(t){mi({index:Co.index(this)?">":"<",slow:t.altKey,user:!0})}function wi(t){K(t,function(){setTimeout(function(){H(bo)},0),pi(!1)})}function xi(){if(u(),w(),!xi.i){xi.i=!0;var t=n.startindex;(t||n.hash&&i.hash)&&(Li=L(t||i.hash.replace(/^#/,""),Si,0===lo.index||t,t)),Do=Oi=Ei=zi=Li=T(Li)||0}if(Ti){if(yi())return;Mi&&ui(Mi,!0),Bi=[],ei(Ke),xi.ok=!0,lo.show({index:Do,time:0}),lo.resize()}else lo.destroy()}function yi(){return!yi.f===Qi?(yi.f=Qi,Do=Ti-1-Do,lo.reverse(),!0):void 0}function Ci(){Ci.ok||(Ci.ok=!0,si("ready"))}Me=o("html"),Pe=o("body");var Si,Ti,ki,$i,Mi,Pi,Bi,Oi,Ei,zi,Ii,Wi,Di,Li,Ai,Fi,ji,Ri,Hi,qi,Ni,Ui,Vi,Xi,Yi,Ki,Qi,Zi,Gi,Ji,to,eo,io,oo,no,so,ro,ao,lo=this,ho=o.now(),co=lt+ho,uo=t[0],po=1,fo=t.data(),mo=o("<style></style>"),go=o(F(Qt)),vo=o(F(ht)),bo=o(F(Ct)).appendTo(vo),_o=(bo[0],o(F(kt)).appendTo(bo)),wo=o(),xo=o(F(Pt+" "+Ot+ve)),yo=o(F(Pt+" "+Et+ve)),Co=xo.add(yo).appendTo(bo),So=o(F(It)),To=o(F(zt)).appendTo(So),ko=o(F(Wt)).appendTo(To),$o=o(),Mo=o(),Po=(_o.data(),
ko.data(),o(F(de)).appendTo(ko)),Bo=o(F(Gt+ve)),Oo=Bo[0],Eo=o(F(ue)),zo=o(F(pe)).appendTo(bo),Io=zo[0],Wo=o(F(ge)),Do=!1,Lo={},Ao={},Fo={},jo={},Ro={},Ho={},qo={},No={},Uo=0,Vo=[];vo[Ke]=o(F(St)),vo[Ze]=o(F(At+" "+jt+ve,F(le))),vo[Qe]=o(F(At+" "+Ft+ve,F(ae))),qo[Ke]=[],qo[Ze]=[],qo[Qe]=[],No[Ke]={},vo.addClass(Ie?ut:ct).toggleClass(gt,!n.controlsonstart),fo.fotorama=this,lo.startAutoplay=function(t){return lo.autoplay?this:(io=oo=!1,_(t||n.autoplay),di(),this)},lo.stopAutoplay=function(){return lo.autoplay&&(io=oo=!0,di()),this},lo.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?Ei+1:"<"===e?Ei-1:"<<"===e?0:">>"===e?Ti-1:e,e=isNaN(e)?L(e,Si,!0):e,e="undefined"==typeof e?Do||0:e,lo.activeIndex=Do=T(e),Ii=B(Do),Wi=V(Do),Di=C(Do+(Qi?-1:1)),Bi=[Do,Ii,Wi],Ei=Ai?e:Do;var i=Math.abs(zi-Ei),o=y(t.time,function(){return Math.min(Xi*(1+(i-1)/12),2*Xi)}),s=t.overPos;t.slow&&(o*=10);var r=Pi;lo.activeFrame=Pi=Si[Do];var l=r===Pi&&!t.user;ui(Mi,Pi.i!==Si[C(Oi)].i),ce(Bi,"stage"),_e(Ae?[Ei]:[Ei,B(Ei),V(Ei)]),vi("go",!0),l||si("show",{user:t.user,time:o}),io=!0;var d=lo.show.onEnd=function(e){if(!d.ok){if(d.ok=!0,e||ii(!0),l||si("showend",{user:t.user}),!e&&Yi&&Yi!==n.transition)return lo.setOptions({transition:Yi}),void(Yi=!1);Nt(),Rt(Bi,"stage"),vi("go",!1),ze(),fi(),li(),di()}};if(Ni){var h=Pi[Ke],c=Do!==zi?Si[zi][Ke]:null;tt(h,c,wo,{time:o,method:n.transition,onEnd:d},Vo)}else J(_o,{pos:-v(Ei,Ao.w,n.margin,Oi),overPos:s,time:o,onEnd:d});if(Ee(),Fi){Ue();var u=S(Do+a(Ei-zi,-1,1));qe({time:o,coo:u!==Do&&t.coo,guessIndex:"undefined"!=typeof t.coo?u:Do,keep:l}),ji&&je(o)}return eo="undefined"!=typeof zi&&zi!==Do,zi=Do,n.hash&&eo&&!lo.eq&&z(Pi.id||Do+1),this},lo.requestFullScreen=function(){return Hi&&!lo.fullScreen&&(Ji=Be.scrollTop(),to=Be.scrollLeft(),H(Be),vi("x",!0),no=o.extend({},Ao),t.addClass(Zt).appendTo(Pe.addClass(dt)),Me.addClass(dt),ui(Mi,!0,!0),lo.fullScreen=!0,qi&&xe.request(uo),lo.resize(),Rt(Bi,"stage"),Nt(),si("fullscreenenter")),this},lo.cancelFullScreen=function(){return qi&&xe.is()?xe.cancel(e):hi(),this},lo.toggleFullScreen=function(){return lo[(lo.fullScreen?"cancel":"request")+"FullScreen"]()},U(e,xe.event,function(){!Si||xe.is()||Mi||hi()}),lo.resize=function(t){if(!Si)return this;var e=arguments[1]||0,i=arguments[2];ni(lo.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:q(t),[Ao,i||lo.fullScreen||n]);var o=Ao.width,s=Ao.height,r=Ao.ratio,l=Be.height()-(Fi?To.height():0);return g(o)&&(vo.addClass(wt).css({width:o,minWidth:Ao.minwidth||0,maxWidth:Ao.maxwidth||ti}),o=Ao.W=Ao.w=vo.width(),Ao.nw=Fi&&m(n.navwidth,o)||o,n.glimpse&&(Ao.w-=Math.round(2*(m(n.glimpse,o)||0))),_o.css({width:Ao.w,marginLeft:(Ao.W-Ao.w)/2}),s=m(s,l),s=s||r&&o/r,s&&(o=Math.round(o),s=Ao.h=Math.round(a(s,m(Ao.minheight,l),m(Ao.maxheight,l))),bo.stop().animate({width:o,height:s},e,function(){vo.removeClass(wt)}),ii(),Fi&&(To.stop().animate({width:Ao.nw},e),qe({guessIndex:Do,time:e,keep:!0}),ji&&ye.nav&&je(e)),Gi=i||!0,Ci())),Uo=bo.offset().left,this},lo.setOptions=function(t){return o.extend(n,t),xi(),this},lo.shuffle=function(){return Si&&j(Si)&&xi(),this},lo.destroy=function(){return lo.cancelFullScreen(),lo.stopAutoplay(),Si=lo.data=null,d(),Bi=[],ei(Ke),xi.ok=!1,this},lo.playVideo=function(){var t=Pi,e=t.video,i=Do;return"object"==typeof e&&t.videoReady&&(qi&&lo.fullScreen&&lo.cancelFullScreen(),E(function(){return!xe.is()||i!==Do},function(){i===Do&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[Ke]),vo.addClass(pt),Mi=t.$video,f(),Co.blur(),Bo.blur(),si("loadvideo"))})),this},lo.stopVideo=function(){return ui(Mi,!0,!0),this},bo.on("mousemove",fi),Fo=ot(_o,{onStart:ri,onMove:function(t,e){ci(bo,e.edge)},onTouchEnd:ai,onEnd:function(t){ci(bo);var e=(Fe&&!ro||t.touch)&&n.arrows&&"always"!==n.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var i=b(t.newPos,Ao.w,n.margin,Oi);lo.show({index:i,time:Ni?Xi:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||gi(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+Kt+", ."+Kt+" *",$wrap:bo}),Ro=ot(ko,{onStart:ri,onMove:function(t,e){ci(To,e.edge)},onTouchEnd:ai,onEnd:function(t){function e(){qe.l=t.newPos,li(),di(),we(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(io=!0,J(ko,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),we(t.newPos),Ki&&ci(To,D(t.newPos,Ro.min,Ro.max))):e();else{var i=t.$target.closest("."+At,ko)[0];i&&bi.call(i,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:To}),jo=nt(bo,{shift:!0,onEnd:function(t,e){ri(),ai(),lo.show({index:e,slow:t.altKey})}}),Ho=nt(To,{onEnd:function(t,e){ri(),ai();var i=x(ko)+.25*e;ko.css(h(a(i,Ro.min,Ro.max))),Ki&&ci(To,D(i,Ro.min,Ro.max)),Ho.prevent={"<":i>=Ro.max,">":i<=Ro.min},clearTimeout(Ho.t),Ho.t=setTimeout(function(){qe.l=i,we(i,!0)},Re),we(i)}}),vo.hover(function(){setTimeout(function(){so||pi(!(ro=!0))},0)},function(){ro&&pi(!(ro=!1))}),A(Co,function(t){Q(t),_i.call(this,t)},{onStart:function(){ri(),Fo.control=!0},onTouchEnd:ai}),Co.each(function(){Y(this,function(t){_i.call(this,t)}),wi(this)}),Y(Oo,lo.toggleFullScreen),wi(Oo),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){lo[e]=function(){return Si=Si||[],"load"!==e?Array.prototype[e].apply(Si,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Si=R(arguments[0])),xi(),lo}}),xi()},o.fn.fotorama=function(e){return this.each(function(){var i=this,n=o(this),s=n.data(),r=s.fotorama;r?r.setOptions(e,!0):E(function(){return!B(i)},function(){s.urtext=n.html(),new o.Fotorama(n,o.extend({},ii,t.fotoramaDefaults,e,s))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},o=o||{},o.Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e,i="";return _e.escape,i+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){function e(){i+=o.call(arguments,"")}var i="",o=(_e.escape,Array.prototype.join);return i+='<div class="fotorama__video"><iframe src="',e(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),i+='" frameborder="0" allowfullscreen></iframe></div>\n'},o(function(){o("."+lt+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(t){!function(e){var i="function"==typeof define&&define.amd,o="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",s="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";i||(o?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+n+"//"+s+"%3E%3C/script%3E"))),e()}(function(){var e,i="mCustomScrollbar",o="mCS",n=".mCustomScrollbar",s={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,a={},l=window.attachEvent&&!window.addEventListener?1:0,d=!1,h=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],c={init:function(e){var e=t.extend(!0,{},s,e),i=u.call(this);if(e.live){var l=e.liveSelector||this.selector||n,d=t(l);if("off"===e.live)return void f(l);a[l]=setTimeout(function(){d.mCustomScrollbar(e),"once"===e.live&&d.length&&f(l)},500)}else f(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),p(e),t(i).each(function(){var i=t(this);if(!i.data(o)){i.data(o,{idx:++r,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=i.data(o),s=n.opt,a=i.data("mcs-axis"),l=i.data("mcs-scrollbar-position"),d=i.data("mcs-theme");a&&(s.axis=a),l&&(s.scrollbarPosition=l),d&&(s.theme=d,p(s)),v.call(this),n&&s.callbacks.onCreate&&"function"==typeof s.callbacks.onCreate&&s.callbacks.onCreate.call(this),t("#mCSB_"+n.idx+"_container img:not(."+h[2]+")").addClass(h[2]),c.update.call(null,i)}})},update:function(e,i){var n=e||u.call(this);return t(n).each(function(){var e=t(this);if(e.data(o)){var n=e.data(o),s=n.opt,r=t("#mCSB_"+n.idx+"_container"),a=t("#mCSB_"+n.idx),l=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&Y(e),i&&n&&s.callbacks.onBeforeUpdate&&"function"==typeof s.callbacks.onBeforeUpdate&&s.callbacks.onBeforeUpdate.call(this),e.hasClass(h[3])&&e.removeClass(h[3]),e.hasClass(h[4])&&e.removeClass(h[4]),a.css("max-height","none"),a.height()!==e.height()&&a.css("max-height",e.height()),_.call(this),"y"===s.axis||s.advanced.autoExpandHorizontalScroll||r.css("width",b(r)),n.overflowed=S.call(this),M.call(this),s.autoDraggerLength&&x.call(this),y.call(this),k.call(this);var d=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==s.axis&&(n.overflowed[0]?l[0].height()>l[0].parent().height()?T.call(this):(K(e,d[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(T.call(this),"y"===s.axis?$.call(this):"yx"===s.axis&&n.overflowed[1]&&K(e,d[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==s.axis&&(n.overflowed[1]?l[1].width()>l[1].parent().width()?T.call(this):(K(e,d[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(T.call(this),"x"===s.axis?$.call(this):"yx"===s.axis&&n.overflowed[0]&&K(e,d[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&n&&(2===i&&s.callbacks.onImageLoad&&"function"==typeof s.callbacks.onImageLoad?s.callbacks.onImageLoad.call(this):3===i&&s.callbacks.onSelectorChange&&"function"==typeof s.callbacks.onSelectorChange?s.callbacks.onSelectorChange.call(this):s.callbacks.onUpdate&&"function"==typeof s.callbacks.onUpdate&&s.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(e,i){if("undefined"!=typeof e&&null!=e){var n=u.call(this);return t(n).each(function(){var n=t(this);if(n.data(o)){var s=n.data(o),r=s.opt,a={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},a,i),d=N.call(this,e),h=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;d[0]=U.call(this,d[0],"y"),d[1]=U.call(this,d[1],"x"),l.moveDragger&&(d[0]*=s.scrollRatio.y,d[1]*=s.scrollRatio.x),l.dur=nt()?0:h,setTimeout(function(){null!==d[0]&&"undefined"!=typeof d[0]&&"x"!==r.axis&&s.overflowed[0]&&(l.dir="y",l.overwrite="all",K(n,d[0].toString(),l)),null!==d[1]&&"undefined"!=typeof d[1]&&"y"!==r.axis&&s.overflowed[1]&&(l.dir="x",l.overwrite="none",K(n,d[1].toString(),l))},l.timeout)}})}},stop:function(){var e=u.call(this);return t(e).each(function(){var e=t(this);e.data(o)&&Y(e)})},disable:function(e){var i=u.call(this);return t(i).each(function(){var i=t(this);if(i.data(o)){i.data(o);V.call(this,"remove"),$.call(this),e&&T.call(this),M.call(this,!0),i.addClass(h[3])}})},destroy:function(){var e=u.call(this);return t(e).each(function(){var n=t(this);if(n.data(o)){var s=n.data(o),r=s.opt,a=t("#mCSB_"+s.idx),l=t("#mCSB_"+s.idx+"_container"),d=t(".mCSB_"+s.idx+"_scrollbar");r.live&&f(r.liveSelector||t(e).selector),V.call(this,"remove"),$.call(this),T.call(this),n.removeData(o),J(this,"mcs"),d.remove(),l.find("img."+h[2]).removeClass(h[2]),a.replaceWith(l.contents()),n.removeClass(i+" _"+o+"_"+s.idx+" "+h[6]+" "+h[7]+" "+h[5]+" "+h[3]).addClass(h[4])}})}},u=function(){return"object"!=typeof t(this)||t(this).length<1?n:this},p=function(e){var i=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],o=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],s=["minimal","minimal-dark"],r=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,i)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,o)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,n)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,s)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,r)>-1?"outside":e.scrollbarPosition},f=function(t){a[t]&&(clearTimeout(a[t]),J(a,t))},m=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var e=t(this),n=e.data(o),s=n.opt,r=s.autoExpandScrollbar?" "+h[1]+"_expand":"",a=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+h[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+h[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===s.axis?"mCSB_vertical_horizontal":"x"===s.axis?"mCSB_horizontal":"mCSB_vertical",d="yx"===s.axis?a[0]+a[1]:"x"===s.axis?a[1]:a[0],c="yx"===s.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=s.autoHideScrollbar?" "+h[6]:"",p="x"!==s.axis&&"rtl"===n.langDir?" "+h[7]:"";s.setWidth&&e.css("width",s.setWidth),s.setHeight&&e.css("height",s.setHeight),s.setLeft="y"!==s.axis&&"rtl"===n.langDir?"989999px":s.setLeft,e.addClass(i+" _"+o+"_"+n.idx+u+p).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+s.theme+" "+l+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+s.setTop+"; left:"+s.setLeft+";' dir='"+n.langDir+"' /></div>");var f=t("#mCSB_"+n.idx),m=t("#mCSB_"+n.idx+"_container");"y"===s.axis||s.advanced.autoExpandHorizontalScroll||m.css("width",b(m)),"outside"===s.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),f.addClass("mCSB_outside").after(d)):(f.addClass("mCSB_inside").append(d),m.wrap(c)),w.call(this);var g=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},b=function(e){var i=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],o=e.parent().width();return i[0]>o?i[0]:i[1]>o?i[1]:"100%"},_=function(){var e=t(this),i=e.data(o),n=i.opt,s=t("#mCSB_"+i.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){s.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(s[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>s.parent().width()?s.css({width:r,"min-width":"100%","overflow-x":"inherit"}):s.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(s[0].getBoundingClientRect().right+.4)-Math.floor(s[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var e=t(this),i=e.data(o),n=i.opt,s=t(".mCSB_"+i.idx+"_scrollbar:first"),r=it(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+h[13]+"' "+r+" />","<a href='#' class='"+h[14]+"' "+r+" />","<a href='#' class='"+h[15]+"' "+r+" />","<a href='#' class='"+h[16]+"' "+r+" />"],l=["x"===n.axis?a[2]:a[0],"x"===n.axis?a[3]:a[1],a[2],a[3]];n.scrollButtons.enable&&s.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},x=function(){var e=t(this),i=e.data(o),n=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),r=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],a=[n.height()/s.outerHeight(!1),n.width()/s.outerWidth(!1)],d=[parseInt(r[0].css("min-height")),Math.round(a[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(a[1]*r[1].parent().width())],h=l&&d[1]<d[0]?d[0]:d[1],c=l&&d[3]<d[2]?d[2]:d[3];r[0].css({height:h,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":d[0]+"px"}),r[1].css({width:c,"max-width":r[1].parent().width()-10})},y=function(){var e=t(this),i=e.data(o),n=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),r=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],a=[s.outerHeight(!1)-n.height(),s.outerWidth(!1)-n.width()],l=[a[0]/(r[0].parent().height()-r[0].height()),a[1]/(r[1].parent().width()-r[1].width())];i.scrollRatio={y:l[0],x:l[1]}},C=function(t,e,i){var o=i?h[0]+"_expanded":"",n=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(h[0]+" "+o),n.toggleClass(h[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(h[0]),n.removeClass(h[1])):(t.addClass(h[0]),n.addClass(h[1])))},S=function(){var e=t(this),i=e.data(o),n=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),r=null==i.overflowed?s.height():s.outerHeight(!1),a=null==i.overflowed?s.width():s.outerWidth(!1),l=s[0].scrollHeight,d=s[0].scrollWidth;return l>r&&(r=l),d>a&&(a=d),[r>n.height(),a>n.width()]},T=function(){var e=t(this),i=e.data(o),n=i.opt,s=t("#mCSB_"+i.idx),r=t("#mCSB_"+i.idx+"_container"),a=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(Y(e),("x"!==n.axis&&!i.overflowed[0]||"y"===n.axis&&i.overflowed[0])&&(a[0].add(r).css("top",0),K(e,"_resetY")),"y"!==n.axis&&!i.overflowed[1]||"x"===n.axis&&i.overflowed[1]){var l=dx=0;"rtl"===i.langDir&&(l=s.width()-r.outerWidth(!1),dx=Math.abs(l/i.scrollRatio.x)),r.css("left",l),a[1].css("left",dx),K(e,"_resetX")}},k=function(){function e(){r=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(r),z.call(i[0])):e()},100)}var i=t(this),n=i.data(o),s=n.opt;if(!n.bindEvents){if(B.call(this),s.contentTouchScroll&&O.call(this),E.call(this),s.mouseWheel.enable){var r;e()}A.call(this),j.call(this),s.advanced.autoScrollOnFocus&&F.call(this),s.scrollButtons.enable&&R.call(this),s.keyboard.enable&&H.call(this),n.bindEvents=!0}},$=function(){var e=t(this),i=e.data(o),n=i.opt,s=o+"_"+i.idx,r=".mCSB_"+i.idx+"_scrollbar",a=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+r+" ."+h[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+r+">a"),l=t("#mCSB_"+i.idx+"_container");n.advanced.releaseDraggableSelectors&&a.add(t(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&a.add(t(n.advanced.extraDraggableSelectors)),i.bindEvents&&(t(document).add(t(!W()||top.document)).unbind("."+s),a.each(function(){t(this).unbind("."+s)}),clearTimeout(e[0]._focusTimeout),J(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),J(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),J(l[0],"onCompleteTimeout"),i.bindEvents=!1)},M=function(e){var i=t(this),n=i.data(o),s=n.opt,r=t("#mCSB_"+n.idx+"_container_wrapper"),a=r.length?r:t("#mCSB_"+n.idx+"_container"),l=[t("#mCSB_"+n.idx+"_scrollbar_vertical"),t("#mCSB_"+n.idx+"_scrollbar_horizontal")],d=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==s.axis&&(n.overflowed[0]&&!e?(l[0].add(d[0]).add(l[0].children("a")).css("display","block"),a.removeClass(h[8]+" "+h[10])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&d[0].css("display","none"),a.removeClass(h[10])):(l[0].css("display","none"),a.addClass(h[10])),a.addClass(h[8]))),"y"!==s.axis&&(n.overflowed[1]&&!e?(l[1].add(d[1]).add(l[1].children("a")).css("display","block"),a.removeClass(h[9]+" "+h[11])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&d[1].css("display","none"),a.removeClass(h[11])):(l[1].css("display","none"),a.addClass(h[11])),a.addClass(h[9]))),n.overflowed[0]||n.overflowed[1]?i.removeClass(h[5]):i.addClass(h[5])},P=function(e){var i=e.type,o=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,n=W()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(i){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return o?[e.originalEvent.pageY-o[0]+n[0],e.originalEvent.pageX-o[1]+n[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var s=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[s.screenY,s.screenX,r>1]:[s.pageY,s.pageX,r>1];default:return o?[e.pageY-o[0]+n[0],e.pageX-o[1]+n[1],!1]:[e.pageY,e.pageX,!1]}},B=function(){function e(t,e,o,n){if(p[0].idleTimer=h.scrollInertia<233?250:0,i.attr("id")===u[1])var s="x",l=(i[0].offsetLeft-e+n)*a.scrollRatio.x;else var s="y",l=(i[0].offsetTop-t+o)*a.scrollRatio.y;K(r,l.toString(),{dir:s,drag:!0})}var i,n,s,r=t(this),a=r.data(o),h=a.opt,c=o+"_"+a.idx,u=["mCSB_"+a.idx+"_dragger_vertical","mCSB_"+a.idx+"_dragger_horizontal"],p=t("#mCSB_"+a.idx+"_container"),f=t("#"+u[0]+",#"+u[1]),m=h.advanced.releaseDraggableSelectors?f.add(t(h.advanced.releaseDraggableSelectors)):f,g=h.advanced.extraDraggableSelectors?t(!W()||top.document).add(t(h.advanced.extraDraggableSelectors)):t(!W()||top.document);f.bind("contextmenu."+c,function(t){t.preventDefault()}).bind("mousedown."+c+" touchstart."+c+" pointerdown."+c+" MSPointerDown."+c,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),tt(e)){d=!0,l&&(document.onselectstart=function(){return!1}),D.call(p,!1),Y(r),i=t(this);var o=i.offset(),a=P(e)[0]-o.top,c=P(e)[1]-o.left,u=i.height()+o.top,f=i.width()+o.left;a<u&&a>0&&c<f&&c>0&&(n=a,s=c),C(i,"active",h.autoExpandScrollbar)}}).bind("touchmove."+c,function(t){t.stopImmediatePropagation(),t.preventDefault();var o=i.offset(),r=P(t)[0]-o.top,a=P(t)[1]-o.left;e(n,s,r,a)}),t(document).add(g).bind("mousemove."+c+" pointermove."+c+" MSPointerMove."+c,function(t){if(i){var o=i.offset(),r=P(t)[0]-o.top,a=P(t)[1]-o.left;if(n===r&&s===a)return;e(n,s,r,a)}}).add(m).bind("mouseup."+c+" touchend."+c+" pointerup."+c+" MSPointerUp."+c,function(t){i&&(C(i,"active",h.autoExpandScrollbar),i=null),d=!1,l&&(document.onselectstart=null),D.call(p,!0)})},O=function(){function i(t){if(!et(t)||d||P(t)[2])return void(e=0);e=1,y=0,C=0,h=1,S.removeClass("mCS_touch_action");var i=B.offset();c=P(t)[0]-i.top,u=P(t)[1]-i.left,L=[P(t)[0],P(t)[1]]}function n(t){if(et(t)&&!d&&!P(t)[2]&&(k.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!C||y)&&h)){g=Z();var e=M.offset(),i=P(t)[0]-e.top,o=P(t)[1]-e.left,n="mcsLinearOut";if(E.push(i),z.push(o),L[2]=Math.abs(P(t)[0]-L[0]),L[3]=Math.abs(P(t)[1]-L[1]),T.overflowed[0])var s=O[0].parent().height()-O[0].height(),r=c-i>0&&i-c>-(s*T.scrollRatio.y)&&(2*L[3]<L[2]||"yx"===k.axis);if(T.overflowed[1])var a=O[1].parent().width()-O[1].width(),p=u-o>0&&o-u>-(a*T.scrollRatio.x)&&(2*L[2]<L[3]||"yx"===k.axis);r||p?(j||t.preventDefault(),y=1):(C=1,S.addClass("mCS_touch_action")),j&&t.preventDefault(),w="yx"===k.axis?[c-i,u-o]:"x"===k.axis?[null,u-o]:[c-i,null],B[0].idleTimer=250,T.overflowed[0]&&l(w[0],I,n,"y","all",!0),T.overflowed[1]&&l(w[1],I,n,"x",D,!0)}}function s(t){if(!et(t)||d||P(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),Y(S),m=Z();var i=M.offset();p=P(t)[0]-i.top,f=P(t)[1]-i.left,E=[],z=[]}function r(t){if(et(t)&&!d&&!P(t)[2]){h=0,t.stopImmediatePropagation(),y=0,C=0,v=Z();var e=M.offset(),i=P(t)[0]-e.top,o=P(t)[1]-e.left;if(!(v-g>30)){_=1e3/(v-m);var n="mcsEaseOut",s=_<2.5,r=s?[E[E.length-2],z[z.length-2]]:[0,0];b=s?[i-r[0],o-r[1]]:[i-p,o-f];var c=[Math.abs(b[0]),Math.abs(b[1])];_=s?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[_,_];var u=[Math.abs(B[0].offsetTop)-b[0]*a(c[0]/_[0],_[0]),Math.abs(B[0].offsetLeft)-b[1]*a(c[1]/_[1],_[1])];w="yx"===k.axis?[u[0],u[1]]:"x"===k.axis?[null,u[1]]:[u[0],null],x=[4*c[0]+k.scrollInertia,4*c[1]+k.scrollInertia];var S=parseInt(k.contentTouchScroll)||0;w[0]=c[0]>S?w[0]:0,w[1]=c[1]>S?w[1]:0,T.overflowed[0]&&l(w[0],x[0],n,"y",D,!1),T.overflowed[1]&&l(w[1],x[1],n,"x",D,!1)}}}function a(t,e){var i=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?i[0]:i[3]:t>60?e>3?i[3]:i[2]:t>30?e>8?i[1]:e>6?i[0]:e>4?e:i[2]:e>8?e:i[3]}function l(t,e,i,o,n,s){t&&K(S,t.toString(),{dur:e,scrollEasing:i,dir:o,overwrite:n,drag:s})}var h,c,u,p,f,m,g,v,b,_,w,x,y,C,S=t(this),T=S.data(o),k=T.opt,$=o+"_"+T.idx,M=t("#mCSB_"+T.idx),B=t("#mCSB_"+T.idx+"_container"),O=[t("#mCSB_"+T.idx+"_dragger_vertical"),t("#mCSB_"+T.idx+"_dragger_horizontal")],E=[],z=[],I=0,D="yx"===k.axis?"none":"all",L=[],A=B.find("iframe"),F=["touchstart."+$+" pointerdown."+$+" MSPointerDown."+$,"touchmove."+$+" pointermove."+$+" MSPointerMove."+$,"touchend."+$+" pointerup."+$+" MSPointerUp."+$],j=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;B.bind(F[0],function(t){i(t)}).bind(F[1],function(t){n(t)}),M.bind(F[0],function(t){s(t)}).bind(F[2],function(t){r(t)}),A.length&&A.each(function(){t(this).bind("load",function(){W(this)&&t(this.contentDocument||this.contentWindow.document).bind(F[0],function(t){i(t),s(t)}).bind(F[1],function(t){n(t)}).bind(F[2],function(t){r(t)})})})},E=function(){function i(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(t,e,i){h.type=i&&s?"stepped":"stepless",h.scrollAmount=10,q(r,t,e,"mcsLinearOut",i?60:null)}var s,r=t(this),a=r.data(o),l=a.opt,h=a.sequential,c=o+"_"+a.idx,u=t("#mCSB_"+a.idx+"_container"),p=u.parent();u.bind("mousedown."+c,function(t){e||s||(s=1,d=!0)}).add(document).bind("mousemove."+c,function(t){if(!e&&s&&i()){var o=u.offset(),r=P(t)[0]-o.top+u[0].offsetTop,d=P(t)[1]-o.left+u[0].offsetLeft;r>0&&r<p.height()&&d>0&&d<p.width()?h.step&&n("off",null,"stepped"):("x"!==l.axis&&a.overflowed[0]&&(r<0?n("on",38):r>p.height()&&n("on",40)),"y"!==l.axis&&a.overflowed[1]&&(d<0?n("on",37):d>p.width()&&n("on",39)))}}).bind("mouseup."+c+" dragend."+c,function(t){e||(s&&(s=0,n("off",null)),d=!1)})},z=function(){function e(e,o){if(Y(i),!L(i,e.target)){var r="auto"!==s.mouseWheel.deltaFactor?parseInt(s.mouseWheel.deltaFactor):l&&e.deltaFactor<100?100:e.deltaFactor||100,h=s.scrollInertia;if("x"===s.axis||"x"===s.mouseWheel.axis)var c="x",u=[Math.round(r*n.scrollRatio.x),parseInt(s.mouseWheel.scrollAmount)],p="auto"!==s.mouseWheel.scrollAmount?u[1]:u[0]>=a.width()?.9*a.width():u[0],f=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetLeft),m=d[1][0].offsetLeft,g=d[1].parent().width()-d[1].width(),v="y"===s.mouseWheel.axis?e.deltaY||o:e.deltaX;else var c="y",u=[Math.round(r*n.scrollRatio.y),parseInt(s.mouseWheel.scrollAmount)],p="auto"!==s.mouseWheel.scrollAmount?u[1]:u[0]>=a.height()?.9*a.height():u[0],f=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetTop),m=d[0][0].offsetTop,g=d[0].parent().height()-d[0].height(),v=e.deltaY||o;"y"===c&&!n.overflowed[0]||"x"===c&&!n.overflowed[1]||((s.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(v=-v),s.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==m||v<0&&m!==g||s.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!s.mouseWheel.normalizeDelta&&(p=e.deltaFactor,h=17),K(i,(f-v*p).toString(),{dir:c,dur:h}))}}if(t(this).data(o)){var i=t(this),n=i.data(o),s=n.opt,r=o+"_"+n.idx,a=t("#mCSB_"+n.idx),d=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],h=t("#mCSB_"+n.idx+"_container").find("iframe");h.length&&h.each(function(){t(this).bind("load",function(){W(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(t,i){e(t,i)})})}),a.bind("mousewheel."+r,function(t,i){e(t,i)})}},I=new Object,W=function(e){var i=!1,o=!1,n=null;if(void 0===e?o="#empty":void 0!==t(e).attr("id")&&(o=t(e).attr("id")),o!==!1&&void 0!==I[o])return I[o];if(e){try{var s=e.contentDocument||e.contentWindow.document;n=s.body.innerHTML}catch(r){}i=null!==n}else{try{var s=top.document;n=s.body.innerHTML}catch(r){}i=null!==n}return o!==!1&&(I[o]=i),i},D=function(t){var e=this.find("iframe");if(e.length){var i=t?"auto":"none";e.css("pointer-events",i)}},L=function(e,i){var n=i.nodeName.toLowerCase(),s=e.data(o).opt.mouseWheel.disableOver,r=["select","textarea"];return t.inArray(n,s)>-1&&!(t.inArray(n,r)>-1&&!t(i).is(":focus"))},A=function(){var e,i=t(this),n=i.data(o),s=o+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container"),a=r.parent(),l=t(".mCSB_"+n.idx+"_scrollbar ."+h[12]);l.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,function(i){d=!0,t(i.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+s+" pointerup."+s+" MSPointerUp."+s,function(t){d=!1}).bind("click."+s,function(o){if(e&&(e=0,t(o.target).hasClass(h[12])||t(o.target).hasClass("mCSB_draggerRail"))){Y(i);var s=t(this),l=s.find(".mCSB_dragger");if(s.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var d="x",c=o.pageX>l.offset().left?-1:1,u=Math.abs(r[0].offsetLeft)-c*(.9*a.width())}else{if(!n.overflowed[0])return;var d="y",c=o.pageY>l.offset().top?-1:1,u=Math.abs(r[0].offsetTop)-c*(.9*a.height())}K(i,u.toString(),{dir:d,scrollEasing:"mcsEaseInOut"})}})},F=function(){var e=t(this),i=e.data(o),n=i.opt,s=o+"_"+i.idx,r=t("#mCSB_"+i.idx+"_container"),a=r.parent();r.bind("focusin."+s,function(i){var o=t(document.activeElement),s=r.find(".mCustomScrollBox").length,l=0;o.is(n.advanced.autoScrollOnFocus)&&(Y(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=s?(l+17)*s:0,e[0]._focusTimeout=setTimeout(function(){var t=[ot(o)[0],ot(o)[1]],i=[r[0].offsetTop,r[0].offsetLeft],s=[i[0]+t[0]>=0&&i[0]+t[0]<a.height()-o.outerHeight(!1),i[1]+t[1]>=0&&i[0]+t[1]<a.width()-o.outerWidth(!1)],d="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||K(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",
overwrite:d,dur:l}),"y"===n.axis||s[1]||K(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:d,dur:l})},e[0]._focusTimer))})},j=function(){var e=t(this),i=e.data(o),n=o+"_"+i.idx,s=t("#mCSB_"+i.idx+"_container").parent();s.bind("scroll."+n,function(e){0===s.scrollTop()&&0===s.scrollLeft()||t(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},R=function(){var e=t(this),i=e.data(o),n=i.opt,s=i.sequential,r=o+"_"+i.idx,a=".mCSB_"+i.idx+"_scrollbar",l=t(a+">a");l.bind("contextmenu."+r,function(t){t.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(o){function r(t,i){s.scrollAmount=n.scrollButtons.scrollAmount,q(e,t,i)}if(o.preventDefault(),tt(o)){var a=t(this).attr("class");switch(s.type=n.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===s.type)return;d=!0,i.tweenRunning=!1,r("on",a);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===s.type)return;d=!1,s.dir&&r("off",a);break;case"click":if("stepped"!==s.type||i.tweenRunning)return;r("on",a)}}})},H=function(){function e(e){function o(t,e){r.type=s.keyboard.scrollType,r.scrollAmount=s.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||q(i,t,e)}switch(e.type){case"blur":n.tweenRunning&&r.dir&&o("off",null);break;case"keydown":case"keyup":var a=e.keyCode?e.keyCode:e.which,l="on";if("x"!==s.axis&&(38===a||40===a)||"y"!==s.axis&&(37===a||39===a)){if((38===a||40===a)&&!n.overflowed[0]||(37===a||39===a)&&!n.overflowed[1])return;"keyup"===e.type&&(l="off"),t(document.activeElement).is(c)||(e.preventDefault(),e.stopImmediatePropagation(),o(l,a))}else if(33===a||34===a){if((n.overflowed[0]||n.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){Y(i);var u=34===a?-1:1;if("x"===s.axis||"yx"===s.axis&&n.overflowed[1]&&!n.overflowed[0])var p="x",f=Math.abs(d[0].offsetLeft)-u*(.9*h.width());else var p="y",f=Math.abs(d[0].offsetTop)-u*(.9*h.height());K(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===a||36===a)&&!t(document.activeElement).is(c)&&((n.overflowed[0]||n.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===s.axis||"yx"===s.axis&&n.overflowed[1]&&!n.overflowed[0])var p="x",f=35===a?Math.abs(h.width()-d.outerWidth(!1)):0;else var p="y",f=35===a?Math.abs(h.height()-d.outerHeight(!1)):0;K(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var i=t(this),n=i.data(o),s=n.opt,r=n.sequential,a=o+"_"+n.idx,l=t("#mCSB_"+n.idx),d=t("#mCSB_"+n.idx+"_container"),h=d.parent(),c="input,textarea,select,datalist,keygen,[contenteditable='true']",u=d.find("iframe"),p=["blur."+a+" keydown."+a+" keyup."+a];u.length&&u.each(function(){t(this).bind("load",function(){W(this)&&t(this.contentDocument||this.contentWindow.document).bind(p[0],function(t){e(t)})})}),l.attr("tabindex","0").bind(p[0],function(t){e(t)})},q=function(e,i,n,s,r){function a(t){c.snapAmount&&(u.scrollAmount=c.snapAmount instanceof Array?"x"===u.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var i="stepped"!==u.type,o=r?r:t?i?m/1.5:g:1e3/60,n=t?i?7.5:40:2.5,l=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],h=[d.scrollRatio.y>10?10:d.scrollRatio.y,d.scrollRatio.x>10?10:d.scrollRatio.x],f="x"===u.dir[0]?l[1]+u.dir[1]*(h[1]*n):l[0]+u.dir[1]*(h[0]*n),v="x"===u.dir[0]?l[1]+u.dir[1]*parseInt(u.scrollAmount):l[0]+u.dir[1]*parseInt(u.scrollAmount),b="auto"!==u.scrollAmount?v:f,_=s?s:t?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!t;return t&&o<17&&(b="x"===u.dir[0]?l[1]:l[0]),K(e,b.toString(),{dir:u.dir[0],scrollEasing:_,dur:o,onComplete:w}),t?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){a()},o)))}function l(){clearTimeout(u.step),J(u,"step"),Y(e)}var d=e.data(o),c=d.opt,u=d.sequential,p=t("#mCSB_"+d.idx+"_container"),f="stepped"===u.type,m=c.scrollInertia<26?26:c.scrollInertia,g=c.scrollInertia<1?17:c.scrollInertia;switch(i){case"on":if(u.dir=[n===h[16]||n===h[15]||39===n||37===n?"x":"y",n===h[13]||n===h[15]||38===n||37===n?-1:1],Y(e),it(n)&&"stepped"===u.type)return;a(f);break;case"off":l(),(f||d.tweenRunning&&u.dir)&&a(!0)}},N=function(e){var i=t(this).data(o).opt,n=[];return"function"==typeof e&&(e=e()),e instanceof Array?n=e.length>1?[e[0],e[1]]:"x"===i.axis?[null,e[0]]:[e[0],null]:(n[0]=e.y?e.y:e.x||"x"===i.axis?null:e,n[1]=e.x?e.x:e.y||"y"===i.axis?null:e),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},U=function(e,i){if(null!=e&&"undefined"!=typeof e){var n=t(this),s=n.data(o),r=s.opt,a=t("#mCSB_"+s.idx+"_container"),l=a.parent(),d=typeof e;i||(i="x"===r.axis?"x":"y");var h="x"===i?a.outerWidth(!1)-l.width():a.outerHeight(!1)-l.height(),u="x"===i?a[0].offsetLeft:a[0].offsetTop,p="x"===i?"left":"top";switch(d){case"function":return e();case"object":var f=e.jquery?e:t(e);if(!f.length)return;return"x"===i?ot(f)[1]:ot(f)[0];case"string":case"number":if(it(e))return Math.abs(e);if(e.indexOf("%")!==-1)return Math.abs(h*parseInt(e)/100);if(e.indexOf("-=")!==-1)return Math.abs(u-parseInt(e.split("-=")[1]));if(e.indexOf("+=")!==-1){var m=u+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(e.indexOf("px")!==-1&&it(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-a.outerHeight(!1));if("right"===e)return Math.abs(l.width()-a.outerWidth(!1));if("first"===e||"last"===e){var f=a.find(":"+e);return"x"===i?ot(f)[1]:ot(f)[0]}return t(e).length?"x"===i?ot(t(e))[1]:ot(t(e))[0]:(a.css(p,e),void c.update.call(null,n[0]))}}},V=function(e){function i(){return clearTimeout(u[0].autoUpdate),0===a.parents("html").length?void(a=null):void(u[0].autoUpdate=setTimeout(function(){return d.advanced.updateOnSelectorChange&&(l.poll.change.n=s(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void r(3)):d.advanced.updateOnContentResize&&(l.poll.size.n=a[0].scrollHeight+a[0].scrollWidth+u[0].offsetHeight+a[0].offsetHeight+a[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void r(1)):!d.advanced.updateOnImageLoad||"auto"===d.advanced.updateOnImageLoad&&"y"===d.axis||(l.poll.img.n=u.find("img").length,l.poll.img.n===l.poll.img.o)?void((d.advanced.updateOnSelectorChange||d.advanced.updateOnContentResize||d.advanced.updateOnImageLoad)&&i()):(l.poll.img.o=l.poll.img.n,void u.find("img").each(function(){n(this)}))},d.advanced.autoUpdateTimeout))}function n(e){function i(t,e){return function(){return e.apply(t,arguments)}}function o(){this.onload=null,t(e).addClass(h[2]),r(2)}if(t(e).hasClass(h[2]))return void r();var n=new Image;n.onload=i(n,o),n.src=e.src}function s(){d.advanced.updateOnSelectorChange===!0&&(d.advanced.updateOnSelectorChange="*");var t=0,e=u.find(d.advanced.updateOnSelectorChange);return d.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}function r(t){clearTimeout(u[0].autoUpdate),c.update.call(null,a[0],t)}var a=t(this),l=a.data(o),d=l.opt,u=t("#mCSB_"+l.idx+"_container");return e?(clearTimeout(u[0].autoUpdate),void J(u[0],"autoUpdate")):void i()},X=function(t,e,i){return Math.round(t/e)*e-i},Y=function(e){var i=e.data(o),n=t("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal");n.each(function(){G.call(this)})},K=function(e,i,n){function s(t){return l&&d.callbacks[t]&&"function"==typeof d.callbacks[t]}function r(){return[d.callbacks.alwaysTriggerOffsets||w>=x[0]+S,d.callbacks.alwaysTriggerOffsets||w<=-T]}function a(){var t=[p[0].offsetTop,p[0].offsetLeft],i=[b[0].offsetTop,b[0].offsetLeft],o=[p.outerHeight(!1),p.outerWidth(!1)],s=[u.height(),u.width()];e[0].mcs={content:p,top:t[0],left:t[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(o[0])-s[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(o[1])-s[1])),direction:n.dir}}var l=e.data(o),d=l.opt,h={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:d.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=t.extend(h,n),c=[n.dur,n.drag?0:n.dur],u=t("#mCSB_"+l.idx),p=t("#mCSB_"+l.idx+"_container"),f=p.parent(),m=d.callbacks.onTotalScrollOffset?N.call(e,d.callbacks.onTotalScrollOffset):[0,0],g=d.callbacks.onTotalScrollBackOffset?N.call(e,d.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=n.trigger,0===f.scrollTop()&&0===f.scrollLeft()||(t(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==i||l.contentReset.y||(s("onOverflowYNone")&&d.callbacks.onOverflowYNone.call(e[0]),l.contentReset.y=1),"_resetX"!==i||l.contentReset.x||(s("onOverflowXNone")&&d.callbacks.onOverflowXNone.call(e[0]),l.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){if(!l.contentReset.y&&e[0].mcs||!l.overflowed[0]||(s("onOverflowY")&&d.callbacks.onOverflowY.call(e[0]),l.contentReset.x=null),!l.contentReset.x&&e[0].mcs||!l.overflowed[1]||(s("onOverflowX")&&d.callbacks.onOverflowX.call(e[0]),l.contentReset.x=null),d.snapAmount){var v=d.snapAmount instanceof Array?"x"===n.dir?d.snapAmount[1]:d.snapAmount[0]:d.snapAmount;i=X(i,v,d.snapOffset)}switch(n.dir){case"x":var b=t("#mCSB_"+l.idx+"_dragger_horizontal"),_="left",w=p[0].offsetLeft,x=[u.width()-p.outerWidth(!1),b.parent().width()-b.width()],y=[i,0===i?0:i/l.scrollRatio.x],S=m[1],T=g[1],k=S>0?S/l.scrollRatio.x:0,$=T>0?T/l.scrollRatio.x:0;break;case"y":var b=t("#mCSB_"+l.idx+"_dragger_vertical"),_="top",w=p[0].offsetTop,x=[u.height()-p.outerHeight(!1),b.parent().height()-b.height()],y=[i,0===i?0:i/l.scrollRatio.y],S=m[0],T=g[0],k=S>0?S/l.scrollRatio.y:0,$=T>0?T/l.scrollRatio.y:0}y[1]<0||0===y[0]&&0===y[1]?y=[0,0]:y[1]>=x[1]?y=[x[0],x[1]]:y[0]=-y[0],e[0].mcs||(a(),s("onInit")&&d.callbacks.onInit.call(e[0])),clearTimeout(p[0].onCompleteTimeout),Q(b[0],_,Math.round(y[1]),c[1],n.scrollEasing),!l.tweenRunning&&(0===w&&y[0]>=0||w===x[0]&&y[0]<=x[0])||Q(p[0],_,Math.round(y[0]),c[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!l.tweenRunning&&(s("onScrollStart")&&(a(),d.callbacks.onScrollStart.call(e[0])),l.tweenRunning=!0,C(b),l.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&s("whileScrolling")&&(a(),d.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===d.axis&&clearTimeout(p[0].onCompleteTimeout);var t=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){s("onScroll")&&(a(),d.callbacks.onScroll.call(e[0])),s("onTotalScroll")&&y[1]>=x[1]-k&&l.cbOffsets[0]&&(a(),d.callbacks.onTotalScroll.call(e[0])),s("onTotalScrollBack")&&y[1]<=$&&l.cbOffsets[1]&&(a(),d.callbacks.onTotalScrollBack.call(e[0])),l.tweenRunning=!1,p[0].idleTimer=0,C(b,"hide")},t)}}})}},Q=function(t,e,i,o,n,s,r){function a(){x.stop||(b||f.call(),b=Z()-v,l(),b>=x.time&&(x.time=b>x.time?b+u-(b-x.time):b+u-1,x.time<b+1&&(x.time=b+1)),x.time<o?x.id=p(a):g.call())}function l(){o>0?(x.currVal=c(x.time,_,y,o,n),w[e]=Math.round(x.currVal)+"px"):w[e]=i+"px",m.call()}function d(){u=1e3/60,x.time=b+u,p=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},x.id=p(a)}function h(){null!=x.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(x.id):clearTimeout(x.id),x.id=null)}function c(t,e,i,o,n){switch(n){case"linear":case"mcsLinear":return i*t/o+e;case"mcsLinearOut":return t/=o,t--,i*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=o/2,t<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=o/2,t<1?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(-Math.pow(2,-10*t)+2)+e);case"easeInOut":case"mcsEaseInOut":return t/=o/2,t<1?i/2*t*t*t+e:(t-=2,i/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=o,t--,-i*(t*t*t*t-1)+e;case"easeOutStrong":return i*(-Math.pow(2,-10*t/o)+1)+e;case"easeOut":case"mcsEaseOut":default:var s=(t/=o)*t,r=s*t;return e+i*(.499999999999997*r*s+-2.5*s*s+5.5*r+-6.5*s+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var u,p,r=r||{},f=r.onStart||function(){},m=r.onUpdate||function(){},g=r.onComplete||function(){},v=Z(),b=0,_=t.offsetTop,w=t.style,x=t._mTween[e];"left"===e&&(_=t.offsetLeft);var y=i-_;x.stop=0,"none"!==s&&h(),d()},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},G=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var o=e[i];t._mTween[o].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[o].id):clearTimeout(t._mTween[o].id),t._mTween[o].id=null,t._mTween[o].stop=1)}},J=function(t,e){try{delete t[e]}catch(i){t[e]=null}},tt=function(t){return!(t.which&&1!==t.which)},et=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},it=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ot=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},nt=function(){function t(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}var e=t();return!!e&&document[e]};t.fn[i]=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):c.init.apply(this,arguments)},t[i]=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):c.init.apply(this,arguments)},t[i].defaults=s,window[i]=!0,t(window).bind("load",function(){t(n)[i](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var i,o,n=t(e),s=n.parents(".mCSB_container");if(s.length)return i=s.parent(),o=[s[0].offsetTop,s[0].offsetLeft],o[0]+ot(n)[0]>=0&&o[0]+ot(n)[0]<i.height()-n.outerHeight(!1)&&o[1]+ot(n)[1]>=0&&o[1]+ot(n)[1]<i.width()-n.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,i,o){var n,s,r,a,l=t(e),d=l.parents(".mCSB_container"),h="exact"===o[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(d.length)return n=[l.outerHeight(!1),l.outerWidth(!1)],r=[d[0].offsetTop+ot(l)[0],d[0].offsetLeft+ot(l)[1]],s=[d.parent()[0].offsetHeight,d.parent()[0].offsetWidth],a=[n[0]<s[0]?h[0]:h[1],n[1]<s[1]?h[0]:h[1]],r[0]-s[0]*a[0][0]<0&&r[0]+n[0]-s[0]*a[0][1]>=0&&r[1]-s[1]*a[1][0]<0&&r[1]+n[1]-s[1]*a[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var i=t(e).data(o);if(i)return i.overflowed[0]||i.overflowed[1]}})})})}),function(t,e){fontSpy=function(t,i){var o=e("html"),n=e("body"),s=t;if("string"!=typeof s||""===s)throw"A valid fontName is required. fontName must be a string and must not be an empty string.";var r={font:s,fontClass:s.toLowerCase().replace(/\s/g,""),success:function(){},failure:function(){},testFont:"Courier New",testString:"QW@HhsXJ",glyphs:"",delay:50,timeOut:1e3,callback:e.noop},a=e.extend(r,i),l=e("<span>"+a.testString+a.glyphs+"</span>").css("position","absolute").css("top","-9999px").css("left","-9999px").css("visibility","hidden").css("fontFamily",a.testFont).css("fontSize","250px");n.append(l);var d=l.outerWidth();l.css("fontFamily",a.font+","+a.testFont);var h=function(){o.addClass("no-"+a.fontClass),a&&a.failure&&a.failure(),a.callback(new Error("FontSpy timeout")),l.remove()},c=function(){a.callback(),o.addClass(a.fontClass),a&&a.success&&a.success(),l.remove()},u=function(){setTimeout(p,a.delay),a.timeOut=a.timeOut-a.delay},p=function(){var t=l.outerWidth();d!==t?c():a.timeOut<0?h():u()};p()}}(this,jQuery),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):t.Tipped=e(jQuery)}(this,function($){function degrees(t){return 180*t/Math.PI}function radian(t){return t*Math.PI/180}function sec(t){return 1/Math.cos(t)}function sfcc(t){return String.fromCharCode.apply(String,t.replace(" ","").split(","))}function deepExtend(t,e){for(var i in e)e[i]&&e[i].constructor&&e[i].constructor===Object?(t[i]=$.extend({},t[i])||{},deepExtend(t[i],e[i])):t[i]=e[i];return t}function Spin(){return this.initialize.apply(this,_slice.call(arguments))}function Visible(){return this.initialize.apply(this,_slice.call(arguments))}function Skin(){this.initialize.apply(this,_slice.call(arguments))}function Stem(){this.initialize.apply(this,_slice.call(arguments))}function Tooltip(){this.initialize.apply(this,_slice.call(arguments))}function Collection(){this.initialize.apply(this,_slice.call(arguments))}var Tipped={};$.extend(Tipped,{version:"4.5.7"}),Tipped.Skins={base:{afterUpdate:!1,ajax:{},cache:!0,container:!1,containment:{selector:"viewport",padding:5},close:!1,detach:!0,fadeIn:200,fadeOut:200,showDelay:75,hideDelay:25,hideAfter:!1,hideOn:{element:"mouseleave"},hideOthers:!1,position:"top",inline:!1,offset:{x:0,y:0},onHide:!1,onShow:!1,padding:!0,radius:!0,shadow:!0,showOn:{element:"mousemove"},size:"medium",spinner:!0,stem:!0,target:"element",voila:!0},reset:{ajax:!1,hideOn:{element:"mouseleave",tooltip:"mouseleave"},showOn:{element:"mouseenter",tooltip:"mouseenter"}}},$.each("dark".split(" "),function(t,e){Tipped.Skins[e]={}});var Browser=function(t){function e(e){var i=new RegExp(e+"([\\d.]+)").exec(t);return!i||parseFloat(i[1])}return{IE:!(!window.attachEvent||-1!==t.indexOf("Opera"))&&e("MSIE "),Opera:t.indexOf("Opera")>-1&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:t.indexOf("AppleWebKit/")>-1&&e("AppleWebKit/"),Gecko:t.indexOf("Gecko")>-1&&-1===t.indexOf("KHTML")&&e("rv:"),MobileSafari:!!t.match(/Apple.*Mobile.*Safari/),Chrome:t.indexOf("Chrome")>-1&&e("Chrome/"),ChromeMobile:t.indexOf("CrMo")>-1&&e("CrMo/"),Android:t.indexOf("Android")>-1&&e("Android "),IEMobile:t.indexOf("IEMobile")>-1&&e("IEMobile/")}}(navigator.userAgent),Support=function(){function t(t){return i(t,"prefix")}function e(t,e){for(var i in t)if(void 0!==o.style[t[i]])return"prefix"!=e||t[i];return!1}function i(t,i){var o=t.charAt(0).toUpperCase()+t.substr(1),s=(t+" "+n.join(o+" ")+o).split(" ");return e(s,i)}var o=document.createElement("div"),n="Webkit Moz O ms Khtml".split(" ");return{css:{animation:i("animation"),transform:i("transform"),prefixed:t},shadow:i("boxShadow")&&i("pointerEvents"),touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch(t){return!1}}()}}(),_slice=Array.prototype.slice,_={wrap:function(t,e){var i=t;return function(){var t=[$.proxy(i,this)].concat(_slice.call(arguments));return e.apply(this,t)}},isElement:function(t){return t&&1==t.nodeType},isText:function(t){return t&&3==t.nodeType},isDocumentFragment:function(t){return t&&11==t.nodeType},delay:function(t,e){var i=_slice.call(arguments,2);return setTimeout(function(){return t.apply(t,i)},e)},defer:function(t){return _.delay.apply(this,[t,1].concat(_slice.call(arguments,1)))},pointer:function(t){return{x:t.pageX,y:t.pageY}},element:{isAttached:function(){function t(t){for(var e=t;e&&e.parentNode;)e=e.parentNode;return e}return function(e){var i=t(e);return!(!i||!i.body)}}()}},getUID=function(){var t=0,e="_tipped-uid-";return function(i){for(i=i||e,t++;document.getElementById(i+t);)t++;return i+t}}(),Position={positions:["topleft","topmiddle","topright","righttop","rightmiddle","rightbottom","bottomright","bottommiddle","bottomleft","leftbottom","leftmiddle","lefttop"],regex:{toOrientation:/^(top|left|bottom|right)(top|left|bottom|right|middle|center)$/,horizontal:/^(top|bottom)/,isCenter:/(middle|center)/,side:/^(top|bottom|left|right)/},toDimension:function(){var t={top:"height",left:"width",bottom:"height",right:"width"};return function(e){return t[e]}}(),isCenter:function(t){return!!t.toLowerCase().match(this.regex.isCenter)},isCorner:function(t){return!this.isCenter(t)},getOrientation:function(t){return t.toLowerCase().match(this.regex.horizontal)?"horizontal":"vertical"},getSide:function(t){var e=null,i=t.toLowerCase().match(this.regex.side);return i&&i[1]&&(e=i[1]),e},split:function(t){return t.toLowerCase().match(this.regex.toOrientation)},_flip:{top:"bottom",bottom:"top",left:"right",right:"left"},flip:function(t,e){var i=this.split(t);return e?this.inverseCornerPlane(this.flip(this.inverseCornerPlane(t))):this._flip[i[1]]+i[2]},inverseCornerPlane:function(t){if(Position.isCorner(t)){var e=this.split(t);return e[2]+e[1]}return t},adjustOffsetBasedOnPosition:function(t,e,i){var o=$.extend({},t),n={horizontal:"x",vertical:"y"},s={x:"y",y:"x"},r={top:{right:"x"},bottom:{left:"x"},left:{bottom:"y"},right:{top:"y"}},a=Position.getOrientation(e);if(a==Position.getOrientation(i)){if(Position.getSide(e)!=Position.getSide(i)){var l=s[n[a]];o[l]*=-1}}else{var d=o.x;o.x=o.y,o.y=d;var h=r[Position.getSide(e)][Position.getSide(i)];h&&(o[h]*=-1),o[n[Position.getOrientation(i)]]=0}return o},getBoxFromPoints:function(t,e,i,o){var n=Math.min(t,i),s=Math.max(t,i),r=Math.min(e,o),a=Math.max(e,o);return{left:n,top:r,width:Math.max(s-n,0),height:Math.max(a-r,0)}},isPointWithinBox:function(t,e,i,o,n,s){var r=this.getBoxFromPoints(i,o,n,s);return t>=r.left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height},isPointWithinBoxLayout:function(t,e,i){return this.isPointWithinBox(t,e,i.position.left,i.position.top,i.position.left+i.dimensions.width,i.position.top+i.dimensions.height)},getDistance:function(t,e,i,o){return Math.sqrt(Math.pow(Math.abs(i-t),2)+Math.pow(Math.abs(o-e),2))},intersectsLine:function(){var t=function(t,e,i,o,n,s){var r=(s-e)*(i-t)-(o-e)*(n-t);return r>0||!(0>r)};return function(e,i,o,n,s,r,a,l,d){if(!d)return t(e,i,s,r,a,l)!=t(o,n,s,r,a,l)&&t(e,i,o,n,s,r)!=t(e,i,o,n,a,l);var h,c,u,p;h=o-e,c=n-i,u=a-s,p=l-r;var f,m;if(f=(-c*(e-s)+h*(i-r))/(-u*c+h*p),m=(u*(i-r)-p*(e-s))/(-u*c+h*p),f>=0&&1>=f&&m>=0&&1>=m){var g=e+m*h,v=i+m*c;return{x:g,y:v}}return!1}}()},Bounds={viewport:function(){var t;return t=Browser.MobileSafari||Browser.Android&&Browser.Gecko?{width:window.innerWidth,height:window.innerHeight}:{height:$(window).height(),width:$(window).width()}}},Mouse={_buffer:{pageX:0,pageY:0},_dimensions:{width:30,height:30},_shift:{x:2,y:10},getPosition:function(t){var e=this.getActualPosition(t);return{left:e.left-Math.round(.5*this._dimensions.width)+this._shift.x,top:e.top-Math.round(.5*this._dimensions.height)+this._shift.y}},getActualPosition:function(t){var e=t&&"number"==$.type(t.pageX)?t:this._buffer;return{left:e.pageX,top:e.pageY}},getDimensions:function(){return this._dimensions}},Color=function(){function t(t){return("0"+parseInt(t).toString(16)).slice(-2)}function e(e){return e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),"#"+t(e[1])+t(e[2])+t(e[3])}var i={_default:"#000000",aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};return{toRGB:function(t){if(/^rgba?\(/.test(t))return e(t);i[t]&&(t=i[t]);var o=t.replace("#","");return/^(?:[0-9a-fA-F]{3}){1,2}$/.test(o)||i._default,3==o.length&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),"#"+o}}}();Spin.supported=Support.css.transform&&Support.css.animation,$.extend(Spin.prototype,{initialize:function(){this.options=$.extend({},arguments[0]||{}),this.build(),this.start()},build:function(){var t=2*(this.options.length+this.options.radius),e={height:t,width:t};this.element=$("<div>").addClass("tpd-spin").css(e),this.element.append(this._rotate=$("<div>").addClass("tpd-spin-rotate")),this.element.css({"margin-left":-.5*e.width,"margin-top":-.5*e.height});for(var i=this.options.lines,o=0;i>o;o++){var n,s;this._rotate.append(n=$("<div>").addClass("tpd-spin-frame").append(s=$("<div>").addClass("tpd-spin-line"))),s.css({"background-color":this.options.color,width:this.options.width,height:this.options.length,"margin-left":-.5*this.options.width,"border-radius":Math.round(.5*this.options.width)}),n.css({opacity:(1/i*(o+1)).toFixed(2)});var r={};r[Support.css.prefixed("transform")]="rotate("+360/i*(o+1)+"deg)",n.css(r)}},start:function(){var t={};t[Support.css.prefixed("animation")]="tpd-spin 1s infinite steps("+this.options.lines+")",this._rotate.css(t)},stop:function(){var t={};t[Support.css.prefixed("animation")]="none",this._rotate.css(t),this.element.detach()}}),$.extend(Visible.prototype,{initialize:function(t){return t="array"==$.type(t)?t:[t],this.elements=t,this._restore=[],$.each(t,$.proxy(function(t,e){var i=$(e).is(":visible");i||$(e).show(),this._restore.push({element:e,visible:i})},this)),this},restore:function(){$.each(this._restore,function(t,e){e.visible||$(e.element).show()}),this._restore=null}});var AjaxCache=function(){var t=[];return{get:function(e){for(var i=null,o=0;o<t.length;o++)t[o]&&t[o].url==e.url&&(t[o].type||"GET").toUpperCase()==(e.type||"GET").toUpperCase()&&$.param(t[o].data||{})==$.param(e.data||{})&&(i=t[o]);return i},set:function(e,i,o){var n=this.get(e);n||(n=$.extend({callbacks:{}},e),t.push(n)),n.callbacks[i]=o},remove:function(e){for(var i=0;i<t.length;i++)t[i]&&t[i].url==e&&delete t[i]},clear:function(){t=[]}}}(),Voila=function(t){function e(i,o,n){if(!(this instanceof e))return new e(i,o,n);var s=t.type(arguments[1]),r="object"===s?arguments[1]:{},a="function"===s?arguments[1]:"function"===t.type(arguments[2])&&arguments[2];return this.options=t.extend({method:"onload"},r),this.deferred=new jQuery.Deferred,a&&this.always(a),this._processed=0,this.images=[],this._add(i),this}t.extend(e.prototype,{_add:function(e){var o="string"==t.type(e)?t(e):e instanceof jQuery||e.length>0?e:[e];t.each(o,t.proxy(function(e,o){var n=t(),s=t(o);n=s.is("img")?n.add(s):n.add(s.find("img")),n.each(t.proxy(function(e,o){this.images.push(new i(o,t.proxy(function(t){this._progress(t)},this),t.proxy(function(t){this._progress(t)},this),this.options))},this))},this)),this.images.length<1&&setTimeout(t.proxy(function(){this._resolve()},this))},abort:function(){this._progress=this._notify=this._reject=this._resolve=function(){},t.each(this.images,function(t,e){e.abort()}),this.images=[]},_progress:function(t){this._processed++,t.isLoaded||(this._broken=!0),this._notify(t),this._processed==this.images.length&&this[this._broken?"_reject":"_resolve"]()},_notify:function(t){this.deferred.notify(this,t)},_reject:function(){this.deferred.reject(this)},_resolve:function(){this.deferred.resolve(this)},always:function(t){return this.deferred.always(t),this},done:function(t){return this.deferred.done(t),this},fail:function(t){return this.deferred.fail(t),this},progress:function(t){return this.deferred.progress(t),this}});var i=function(t){var e=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};t.extend(e.prototype,{initialize:function(){this.options=t.extend({test:function(){},success:function(){},timeout:function(){},callAt:!1,intervals:[[0,0],[1e3,10],[2e3,50],[4e3,100],[2e4,500]]},arguments[0]||{}),this._test=this.options.test,this._success=this.options.success,this._timeout=this.options.timeout,this._ipos=0,this._time=0,this._delay=this.options.intervals[this._ipos][1],this._callTimeouts=[],this.poll(),this._createCallsAt()},poll:function(){this._polling=setTimeout(t.proxy(function(){if(this._test())return void this.success();if(this._time+=this._delay,this._time>=this.options.intervals[this._ipos][0]){if(!this.options.intervals[this._ipos+1])return void("function"==t.type(this._timeout)&&this._timeout());this._ipos++,this._delay=this.options.intervals[this._ipos][1]}this.poll()},this),this._delay)},success:function(){this.abort(),this._success()},_createCallsAt:function(){this.options.callAt&&t.each(this.options.callAt,t.proxy(function(e,i){var o=i[0],n=i[1],s=setTimeout(t.proxy(function(){n()},this),o);this._callTimeouts.push(s)},this))},_stopCallTimeouts:function(){t.each(this._callTimeouts,function(t,e){clearTimeout(e)}),this._callTimeouts=[]},abort:function(){this._stopCallTimeouts(),this._polling&&(clearTimeout(this._polling),this._polling=null)}});var i=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};return t.extend(i.prototype,{supports:{naturalWidth:function(){return"naturalWidth"in new Image}()},initialize:function(e,i,o){return this.img=t(e)[0],this.successCallback=i,this.errorCallback=o,this.isLoaded=!1,this.options=t.extend({method:"onload",pollFallbackAfter:1e3},arguments[3]||{}),"onload"!=this.options.method&&this.supports.naturalWidth?void this.poll():void this.load()},poll:function(){this._poll=new e({test:t.proxy(function(){return this.img.naturalWidth>0},this),success:t.proxy(function(){this.success()},this),timeout:t.proxy(function(){this.error()},this),callAt:[[this.options.pollFallbackAfter,t.proxy(function(){this.load()},this)]]})},load:function(){this._loading=setTimeout(t.proxy(function(){var e=new Image;this._onloadImage=e,e.onload=t.proxy(function(){e.onload=function(){},this.supports.naturalWidth||(this.img.naturalWidth=e.width,this.img.naturalHeight=e.height,e.naturalWidth=e.width,e.naturalHeight=e.height),this.success()},this),e.onerror=t.proxy(this.error,this),e.src=this.img.src},this))},success:function(){this._calledSuccess||(this._calledSuccess=!0,this.abort(),this.waitForRender(t.proxy(function(){this.isLoaded=!0,this.successCallback(this)},this)))},error:function(){this._calledError||(this._calledError=!0,this.abort(),this._errorRenderTimeout=setTimeout(t.proxy(function(){this.errorCallback&&this.errorCallback(this)},this)))},abort:function(){this.stopLoading(),this.stopPolling(),this.stopWaitingForRender()},stopPolling:function(){this._poll&&(this._poll.abort(),this._poll=null)},stopLoading:function(){this._loading&&(clearTimeout(this._loading),this._loading=null),this._onloadImage&&(this._onloadImage.onload=function(){},this._onloadImage.onerror=function(){})},waitForRender:function(t){this._renderTimeout=setTimeout(t)},stopWaitingForRender:function(){this._renderTimeout&&(clearTimeout(this._renderTimeout),this._renderTimeout=null),this._errorRenderTimeout&&(clearTimeout(this._errorRenderTimeout),this._errorRenderTimeout=null)}}),i}(jQuery);return e}(jQuery);Tipped.Behaviors={hide:{showOn:{element:"mouseenter",tooltip:!1},hideOn:{element:"mouseleave",tooltip:"mouseenter"}},mouse:{showOn:{element:"mouseenter",tooltip:!1},hideOn:{element:"mouseleave",tooltip:"mouseenter"},target:"mouse",showDelay:100,fadeIn:0,hideDelay:0,fadeOut:0},sticky:{showOn:{element:"mouseenter",tooltip:"mouseenter"},hideOn:{element:"mouseleave",tooltip:"mouseleave"},showDelay:150,target:"mouse",fixed:!0}};var Options={create:function(){function t(e){return n=Tipped.Skins.base,s=deepExtend($.extend({},n),Tipped.Skins.reset),t=o,o(e)}function e(t){return t.match(/^(top|left|bottom|right)$/)&&(t+="middle"),t.replace("center","middle").replace(" ",""),t}function i(t){var e,i;return e=t.behavior&&(i=Tipped.Behaviors[t.behavior])?deepExtend($.extend({},i),t):t}function o(t){var o=t.skin?t.skin:Tooltips.options.defaultSkin,r=$.extend({},Tipped.Skins[o]||{});r.skin||(r.skin=Tooltips.options.defaultSkin||"dark");var a=deepExtend($.extend({},s),i(r)),l=deepExtend($.extend({},a),i(t));l[sfcc("115,107,105,110")]=sfcc("100,97,114,107"),l.ajax&&(s.ajax||{},n.ajax,"boolean"==$.type(l.ajax)&&(l.ajax={}),l.ajax=!1);var d,h=h=l.position&&l.position.target||"string"==$.type(l.position)&&l.position||s.position&&s.position.target||"string"==$.type(s.position)&&s.position||n.position&&n.position.target||n.position;h=e(h);var c=l.position&&l.position.tooltip||s.position&&s.position.tooltip||n.position&&n.position.tooltip||Tooltips.Position.getInversedPosition(h);if(c=e(c),l.position?"string"==$.type(l.position)?(l.position=e(l.position),
d={target:l.position,tooltip:Tooltips.Position.getTooltipPositionFromTarget(l.position)}):(d={tooltip:c,target:h},l.position.tooltip&&(d.tooltip=e(l.position.tooltip)),l.position.target&&(d.target=e(l.position.target))):d={tooltip:c,target:h},Position.isCorner(d.target)&&Position.getOrientation(d.target)!=Position.getOrientation(d.tooltip)&&(d.target=Position.inverseCornerPlane(d.target)),"mouse"==l.target){var u=Position.getOrientation(d.target);d.target="horizontal"==u?d.target.replace(/(left|right)/,"middle"):d.target.replace(/(top|bottom)/,"middle")}l.position=d;var p;if("mouse"==l.target?(p=$.extend({},n.offset),$.extend(p,Tipped.Skins.reset.offset||{}),p=Position.adjustOffsetBasedOnPosition(n.offset,n.position,d.target,!0),t.offset&&(p=$.extend(p,t.offset||{}))):p={x:l.offset.x,y:l.offset.y},l.offset=p,l.hideOn&&"click-outside"==l.hideOn&&(l.hideOnClickOutside=!0,l.hideOn=!1,l.fadeOut=0),l.showOn){var f=l.showOn;"string"==$.type(f)&&(f={element:f}),l.showOn=f}if(l.hideOn){var m=l.hideOn;"string"==$.type(m)&&(m={element:m}),l.hideOn=m}return l.inline&&"string"!=$.type(l.inline)&&(l.inline=!1),Browser.IE&&Browser.IE<9&&$.extend(l,{fadeIn:0,fadeOut:0,hideDelay:0}),l.spinner&&(Spin.supported?"boolean"==$.type(l.spinner)&&(l.spinner=s.spinner||n.spinner||{}):l.spinner=!1),l.container||(l.container=document.body),l.containment&&"string"==$.type(l.containment)&&(l.containment={selector:l.containment,padding:s.containment&&s.containment.padding||n.padding&&n.containment.padding}),l.shadow&&(l.shadow=Support.shadow),l}var n,s;return t}()};$.extend(Skin.prototype,{initialize:function(t){this.tooltip=t,this.element=t._skin;var e=this.tooltip.options;this.tooltip._tooltip[(e.shadow?"remove":"add")+"Class"]("tpd-no-shadow")[(e.radius?"remove":"add")+"Class"]("tpd-no-radius")[(e.stem?"remove":"add")+"Class"]("tpd-no-stem");var i,o,n,s,r=Support.css.prefixed("borderTopLeftRadius");this.element.append(i=$("<div>").addClass("tpd-frames").append($("<div>").addClass("tpd-frame").append($("<div>").addClass("tpd-backgrounds").append(o=$("<div>").addClass("tpd-background").append(n=$("<div>").addClass("tpd-background-content")))))).append(s=$("<div>").addClass("tpd-spinner")),o.css({width:999,height:999,zoom:1}),this._css={border:parseFloat(o.css("border-top-width")),radius:parseFloat(r?o.css(r):0),padding:parseFloat(t._content.css("padding-top")),borderColor:o.css("border-top-color"),backgroundColor:n.css("background-color"),backgroundOpacity:n.css("opacity"),spinner:{dimensions:{width:s.innerWidth(),height:s.innerHeight()}}},s.remove(),i.remove(),this._side=Position.getSide(t.options.position.tooltip)||"top",this._vars={}},destroy:function(){this.frames&&($.each("top right bottom left".split(" "),$.proxy(function(t,e){this["stem_"+e]&&this["stem_"+e].destroy()},this)),this.frames.remove(),this.frames=null)},build:function(){this.frames||(this.element.append(this.frames=$("<div>").addClass("tpd-frames")),$.each("top right bottom left".split(" "),$.proxy(function(t,e){this.insertFrame(e)},this)),this._spinner||this.tooltip._tooltip.append(this._spinner=$("<div>").addClass("tpd-spinner").hide().append($("<div>").addClass("tpd-spinner-spin"))))},_frame:function(){var t,e=$("<div>").addClass("tpd-frame").append(t=$("<div>").addClass("tpd-backgrounds").append($("<div>").addClass("tpd-background-shadow"))).append($("<div>").addClass("tpd-shift-stem").append($("<div>").addClass("tpd-shift-stem-side tpd-shift-stem-side-before")).append($("<div>").addClass("tpd-stem")).append($("<div>").addClass("tpd-shift-stem-side tpd-shift-stem-side-after")));return $.each("top right bottom left".split(" "),$.proxy(function(e,i){t.append($("<div>").addClass("tpd-background-box tpd-background-box-"+i).append($("<div>").addClass("tpd-background-box-shift").append($("<div>").addClass("tpd-background-box-shift-further").append($("<div>").addClass("tpd-background").append($("<div>").addClass("tpd-background-title")).append($("<div>").addClass("tpd-background-content"))).append($("<div>").addClass("tpd-background tpd-background-loading")).append($("<div>").addClass("tpd-background-border-hack").hide()))))},this)),e}(),_getFrame:function(t){var e=this._frame.clone();e.addClass("tpd-frame-"+t),e.find(".tpd-background-shadow").css({"border-radius":this._css.radius}),this.tooltip.options.stem&&e.find(".tpd-stem").attr("data-stem-position",t);var i=Math.max(this._css.radius-this._css.border,0);e.find(".tpd-background-title").css({"border-top-left-radius":i,"border-top-right-radius":i}),e.find(".tpd-background-content").css({"border-bottom-left-radius":i,"border-bottom-right-radius":i}),e.find(".tpd-background-loading").css({"border-radius":i});var o={backgroundColor:this._css.borderColor},n=Position.getOrientation(t),s="horizontal"==n;o[s?"height":"width"]=this._css.border+"px";var r={top:"bottom",bottom:"top",left:"right",right:"left"};return o[r[t]]=0,e.find(".tpd-shift-stem-side").css(o),e},insertFrame:function(t){var e=this["frame_"+t]=this._getFrame(t);if(this.frames.append(e),this.tooltip.options.stem){var i=e.find(".tpd-stem");this["stem_"+t]=new Stem(i,this,{})}},startLoading:function(){this.tooltip.supportsLoading&&(this.build(),this._spinner||this.tooltip.is("resize-to-content")||this.setDimensions(this._css.spinner.dimensions),this._spinner&&this._spinner.show())},stopLoading:function(){this.tooltip.supportsLoading&&this._spinner&&(this.build(),this._spinner.hide())},updateBackground:function(){var t=this._vars.frames[this._side],e=$.extend({},t.background.dimensions);if(this.tooltip.title&&!this.tooltip.is("loading")){this.element.find(".tpd-background-title, .tpd-background-content").show(),this.element.find(".tpd-background").css({"background-color":"transparent"});var i=$.extend({},e),o=Math.max(this._css.radius-this._css.border,0),n={"border-top-left-radius":o,"border-top-right-radius":o,"border-bottom-left-radius":o,"border-bottom-right-radius":o},s=new Visible(this.tooltip._tooltip),r=this.tooltip._titleWrapper.innerHeight();i.height-=r,this.element.find(".tpd-background-title").css({height:r,width:e.width}),n["border-top-left-radius"]=0,n["border-top-right-radius"]=0,s.restore(),this.element.find(".tpd-background-content").css(i).css(n),this.element.find(".tpd-background-loading").css({"background-color":this._css.backgroundColor})}else this.element.find(".tpd-background-title, .tpd-background-content").hide(),this.element.find(".tpd-background").css({"background-color":this._css.backgroundColor});this._css.border&&(this.element.find(".tpd-background").css({"border-color":"transparent"}),this.element.find(".tpd-background-border-hack").css({width:e.width,height:e.height,"border-radius":this._css.radius,"border-width":this._css.border,"border-color":this._css.borderColor}).show())},paint:function(){if(!this._paintedDimensions||this._paintedDimensions.width!=this._dimensions.width||this._paintedDimensions.height!=this._dimensions.height||this._paintedStemPosition!=this._stemPosition){this._paintedDimensions=this._dimensions,this._paintedStemPosition=this._stemPosition,this.element.removeClass("tpd-visible-frame-top tpd-visible-frame-bottom tpd-visible-frame-left tpd-visible-frame-right").addClass("tpd-visible-frame-"+this._side);var t=this._vars.frames[this._side],e=$.extend({},t.background.dimensions);this.element.find(".tpd-background").css(e),this.element.find(".tpd-background-shadow").css({width:e.width+2*this._css.border,height:e.height+2*this._css.border}),this.updateBackground(),this.element.find(".tpd-background-box-shift, .tpd-background-box-shift-further").removeAttr("style"),this.element.add(this.frames).add(this.tooltip._tooltip).css(t.dimensions);var i=this._side,o=this._vars.frames[i],n=this.element.find(".tpd-frame-"+this._side),s=this._vars.frames[i].dimensions;n.css(s),n.find(".tpd-backgrounds").css($.extend({},o.background.position,{width:s.width-o.background.position.left,height:s.height-o.background.position.top}));var r=Position.getOrientation(i);if(this.tooltip.options.stem)if(n.find(".tpd-shift-stem").css($.extend({},o.shift.dimensions,o.shift.position)),"vertical"==r){var a=n.find(".tpd-background-box-top, .tpd-background-box-bottom");a.css({height:this._vars.cut,width:this._css.border}),n.find(".tpd-background-box-bottom").css({top:o.dimensions.height-this._vars.cut}).find(".tpd-background-box-shift").css({"margin-top":-1*o.dimensions.height+this._vars.cut});var l="right"==i?o.dimensions.width-o.stemPx-this._css.border:0;a.css({left:l}).find(".tpd-background-box-shift").css({"margin-left":-1*l}),n.find(".tpd-background-box-"+("left"==i?"left":"right")).hide(),"right"==i?n.find(".tpd-background-box-left").css({width:o.dimensions.width-o.stemPx-this._css.border}):n.find(".tpd-background-box-right").css({"margin-left":this._css.border}).find(".tpd-background-box-shift").css({"margin-left":-1*this._css.border});var d=n.find(".tpd-background-box-"+this._side);d.css({height:o.dimensions.height-2*this._vars.cut,"margin-top":this._vars.cut}),d.find(".tpd-background-box-shift").css({"margin-top":-1*this._vars.cut})}else{var a=n.find(".tpd-background-box-left, .tpd-background-box-right");a.css({width:this._vars.cut,height:this._css.border}),n.find(".tpd-background-box-right").css({left:o.dimensions.width-this._vars.cut}).find(".tpd-background-box-shift").css({"margin-left":-1*o.dimensions.width+this._vars.cut});var l="bottom"==i?o.dimensions.height-o.stemPx-this._css.border:0;a.css({top:l}).find(".tpd-background-box-shift").css({"margin-top":-1*l}),n.find(".tpd-background-box-"+("top"==i?"top":"bottom")).hide(),"bottom"==i?n.find(".tpd-background-box-top").css({height:o.dimensions.height-o.stemPx-this._css.border}):n.find(".tpd-background-box-bottom").css({"margin-top":this._css.border}).find(".tpd-background-box-shift").css({"margin-top":-1*this._css.border});var d=n.find(".tpd-background-box-"+this._side);d.css({width:o.dimensions.width-2*this._vars.cut,"margin-left":this._vars.cut}),d.find(".tpd-background-box-shift").css({"margin-left":-1*this._vars.cut})}var h=t.background,c=h.position,u=h.dimensions;this._spinner.css({top:c.top+this._css.border+(.5*u.height-.5*this._css.spinner.dimensions.height),left:c.left+this._css.border+(.5*u.width-.5*this._css.spinner.dimensions.width)})}},getVars:function(){var t=(this._css.padding,this._css.radius,this._css.border),e=this._vars.maxStemHeight||0,i=$.extend({},this._dimensions||{}),o={frames:{},dimensions:i,maxStemHeight:e};o.cut=Math.max(this._css.border,this._css.radius)||0;var n={width:0,height:0},s=0,r=0;return this.tooltip.options.stem&&(n=this.stem_top.getMath().dimensions.outside,s=this.stem_top._css.offset,r=Math.max(n.height-this._css.border,0)),o.stemDimensions=n,o.stemOffset=s,Position.getOrientation(this._side),$.each("top right bottom left".split(" "),$.proxy(function(e,s){var a=Position.getOrientation(s),l="vertical"==a,d={width:i.width+2*t,height:i.height+2*t},h=d[l?"height":"width"]-2*o.cut,c={dimensions:d,stemPx:r,position:{top:0,left:0},background:{dimensions:$.extend({},i),position:{top:0,left:0}}};if(o.frames[s]=c,c.dimensions[l?"width":"height"]+=r,("top"==s||"left"==s)&&(c.background.position[s]+=r),$.extend(c,{shift:{position:{top:0,left:0},dimensions:{width:l?n.height:h,height:l?h:n.height}}}),Browser.IE&&Browser.IE<9){var u=c.shift.dimensions;u.width=Math.round(u.width),u.height=Math.round(u.height)}switch(s){case"top":case"bottom":c.shift.position.left+=o.cut,"bottom"==s&&(c.shift.position.top+=d.height-t-r);break;case"left":case"right":c.shift.position.top+=o.cut,"right"==s&&(c.shift.position.left+=d.width-t-r)}},this)),o.connections={},$.each(Position.positions,$.proxy(function(t,e){o.connections[e]=this.getConnectionLayout(e,o)},this)),o},setDimensions:function(t){this.build();var e=this._dimensions;e&&e.width==t.width&&e.height==t.height||(this._dimensions=t,this._vars=this.getVars())},setSide:function(t){this._side=t,this._vars=this.getVars()},getConnectionLayout:function(t,e){var i=Position.getSide(t),o=Position.getOrientation(t),n=(e.dimensions,e.cut),s=this["stem_"+i],r=e.stemOffset,a=this.tooltip.options.stem?s.getMath().dimensions.outside.width:0,l=n+r+.5*a,d={stem:{}},h={left:0,right:0,up:0,down:0},c={top:0,left:0},u={top:0,left:0},p=e.frames[i],l=0;if("horizontal"==o){var f=p.dimensions.width;this.tooltip.options.stem&&(f=p.shift.dimensions.width,2*r>f-a&&(r=Math.floor(.5*(f-a))||0),l=n+r+.5*a);var m=f-2*r,g=Position.split(t),v=r;switch(g[2]){case"left":h.right=m-a,c.left=l;break;case"middle":v+=Math.round(.5*m-.5*a),h.left=v-r,h.right=v-r,c.left=u.left=Math.round(.5*p.dimensions.width);break;case"right":v+=m-a,h.left=m-a,c.left=p.dimensions.width-l,u.left=p.dimensions.width}"bottom"==g[1]&&(c.top+=p.dimensions.height,u.top+=p.dimensions.height),$.extend(d.stem,{position:{left:v},before:{width:v},after:{left:v+a,width:f-v-a+1}})}else{var b=p.dimensions.height;this.tooltip.options.stem&&(b=p.shift.dimensions.height,2*r>b-a&&(r=Math.floor(.5*(b-a))||0),l=n+r+.5*a);var _=b-2*r,g=Position.split(t),w=r;switch(g[2]){case"top":h.down=_-a,c.top=l;break;case"middle":w+=Math.round(.5*_-.5*a),h.up=w-r,h.down=w-r,c.top=u.top=Math.round(.5*p.dimensions.height);break;case"bottom":w+=_-a,h.up=_-a,c.top=p.dimensions.height-l,u.top=p.dimensions.height}"right"==g[1]&&(c.left+=p.dimensions.width,u.left+=p.dimensions.width),$.extend(d.stem,{position:{top:w},before:{height:w},after:{top:w+a,height:b-w-a+1}})}return d.move=h,d.stem.connection=c,d.connection=u,d},setStemPosition:function(t,e){if(this._stemPosition!=t){this._stemPosition=t;var i=Position.getSide(t);this.setSide(i)}this.tooltip.options.stem&&this.setStemShift(t,e)},setStemShift:function(t,e){var i=this._shift,o=this._dimensions;if(!i||i.stemPosition!=t||i.shift.x!=e.x||i.shift.y!=e.y||!o||i.dimensions.width!=o.width||i.dimensions.height!=o.height){this._shift={stemPosition:t,shift:e,dimensions:o};var n=Position.getSide(t),s={horizontal:"x",vertical:"y"}[Position.getOrientation(t)],r={x:{left:"left",width:"width"},y:{left:"top",width:"height"}}[s],a=this["stem_"+n],l=deepExtend({},this._vars.connections[t].stem);e&&0!==e[s]&&(l.before[r.width]+=e[s],l.position[r.left]+=e[s],l.after[r.left]+=e[s],l.after[r.width]-=e[s]),a.element.css(l.position),a.element.siblings(".tpd-shift-stem-side-before").css(l.before),a.element.siblings(".tpd-shift-stem-side-after").css(l.after)}}}),$.extend(Stem.prototype,{initialize:function(t,e){this.element=$(t),this.element[0]&&(this.skin=e,this.element.removeClass("tpd-stem-reset"),this._css=$.extend({},e._css,{width:this.element.innerWidth(),height:this.element.innerHeight(),offset:parseFloat(this.element.css("margin-left")),spacing:parseFloat(this.element.css("margin-top"))}),this.element.addClass("tpd-stem-reset"),this.options=$.extend({},arguments[2]||{}),this._position=this.element.attr("data-stem-position")||"top",this._m=100,this.build())},destroy:function(){this.element.html("")},build:function(){this.destroy();var t=this._css.backgroundColor,e=t.indexOf("rgba")>-1&&parseFloat(t.replace(/^.*,(.+)\)/,"$1")),i=e&&1>e;this._useTransform=i&&Support.css.transform,this._css.border||(this._useTransform=!1),this[(this._useTransform?"build":"buildNo")+"Transform"]()},buildTransform:function(){this.element.append(this.spacer=$("<div>").addClass("tpd-stem-spacer").append(this.downscale=$("<div>").addClass("tpd-stem-downscale").append(this.transform=$("<div>").addClass("tpd-stem-transform").append(this.first=$("<div>").addClass("tpd-stem-side").append(this.border=$("<div>").addClass("tpd-stem-border")).append($("<div>").addClass("tpd-stem-border-corner")).append($("<div>").addClass("tpd-stem-triangle")))))),this.transform.append(this.last=this.first.clone().addClass("tpd-stem-side-inversed")),this.sides=this.first.add(this.last);var t=this.getMath(),e=t.dimensions,i=this._m,o=Position.getSide(this._position);if(this.element.find(".tpd-stem-spacer").css({width:c?e.inside.height:e.inside.width,height:c?e.inside.width:e.inside.height}),"top"==o||"left"==o){var n={};"top"==o?(n.bottom=0,n.top="auto"):"left"==o&&(n.right=0,n.left="auto"),this.element.find(".tpd-stem-spacer").css(n)}this.transform.css({width:e.inside.width*i,height:e.inside.height*i});var s=Support.css.prefixed("transform"),r={"background-color":"transparent","border-bottom-color":this._css.backgroundColor,"border-left-width":.5*e.inside.width*i,"border-bottom-width":e.inside.height*i};r[s]="translate("+t.border*i+"px, 0)",this.element.find(".tpd-stem-triangle").css(r);var a=this._css.borderColor;alpha=a.indexOf("rgba")>-1&&parseFloat(a.replace(/^.*,(.+)\)/,"$1")),alpha&&1>alpha?a=(a.substring(0,a.lastIndexOf(","))+")").replace("rgba","rgb"):alpha=1;var l={"background-color":"transparent","border-right-width":t.border*i,width:t.border*i,"margin-left":-2*t.border*i,"border-color":a,opacity:alpha};l[s]="skew("+t.skew+"deg) translate("+t.border*i+"px, "+-1*this._css.border*i+"px)",this.element.find(".tpd-stem-border").css(l);var a=this._css.borderColor;alpha=a.indexOf("rgba")>-1&&parseFloat(a.replace(/^.*,(.+)\)/,"$1")),alpha&&1>alpha?a=(a.substring(0,a.lastIndexOf(","))+")").replace("rgba","rgb"):alpha=1;var d={width:t.border*i,"border-right-width":t.border*i,"border-right-color":a,background:a,opacity:alpha,"margin-left":-2*t.border*i};if(d[s]="skew("+t.skew+"deg) translate("+t.border*i+"px, "+(e.inside.height-this._css.border)*i+"px)",this.element.find(".tpd-stem-border-corner").css(d),this.setPosition(this._position),i>1){var h={};h[s]="scale("+1/i+","+1/i+")",this.downscale.css(h)}var c=/^(left|right)$/.test(this._position);this._css.border||this.element.find(".tpd-stem-border, .tpd-stem-border-corner").hide(),this.element.css({width:c?e.outside.height:e.outside.width,height:c?e.outside.width:e.outside.height})},buildNoTransform:function(){this.element.append(this.spacer=$("<div>").addClass("tpd-stem-spacer").append($("<div>").addClass("tpd-stem-notransform").append($("<div>").addClass("tpd-stem-border").append($("<div>").addClass("tpd-stem-border-corner")).append($("<div>").addClass("tpd-stem-border-center-offset").append($("<div>").addClass("tpd-stem-border-center-offset-inverse").append($("<div>").addClass("tpd-stem-border-center"))))).append($("<div>").addClass("tpd-stem-triangle"))));var t=this.getMath(),e=t.dimensions,i=/^(left|right)$/.test(this._position),o=/^(bottom)$/.test(this._position),n=/^(right)$/.test(this._position),s=Position.getSide(this._position);if(this.element.css({width:i?e.outside.height:e.outside.width,height:i?e.outside.width:e.outside.height}),this.element.find(".tpd-stem-notransform").add(this.element.find(".tpd-stem-spacer")).css({width:i?e.inside.height:e.inside.width,height:i?e.inside.width:e.inside.height}),"top"==s||"left"==s){var r={};"top"==s?(r.bottom=0,r.top="auto"):"left"==s&&(r.right=0,r.left="auto"),this.element.find(".tpd-stem-spacer").css(r)}this.element.find(".tpd-stem-border").css({width:"100%",background:"transparent"});var a={opacity:Browser.IE&&Browser.IE<9?this._css.borderOpacity:1};a[i?"height":"width"]="100%",a[i?"width":"height"]=this._css.border,a[o?"top":"bottom"]=0,$.extend(a,n?{left:0}:{right:0}),this.element.find(".tpd-stem-border-corner").css(a);var l={width:0,"background-color":"transparent",opacity:Browser.IE&&Browser.IE<9?this._css.borderOpacity:1},d=.5*e.inside.width+"px solid transparent",h={"background-color":"transparent"};if(.5*e.inside.width-t.border+"px solid transparent",i){var c={left:"auto",top:"50%","margin-top":-.5*e.inside.width,"border-top":d,"border-bottom":d};if($.extend(l,c),l[n?"right":"left"]=0,l[n?"border-left":"border-right"]=e.inside.height+"px solid "+this._css.borderColor,$.extend(h,c),h[n?"border-left":"border-right"]=e.inside.height+"px solid "+this._css.backgroundColor,h[n?"right":"left"]=t.top,h[n?"left":"right"]="auto",Browser.IE&&Browser.IE<8){var u=.5*this._css.width+"px solid transparent";$.extend(h,{"margin-top":-.5*this._css.width,"border-top":u,"border-bottom":u}),h[n?"border-left":"border-right"]=this._css.height+"px solid "+this._css.backgroundColor}this.element.find(".tpd-stem-border-center-offset").css({"margin-left":-1*this._css.border*(n?-1:1)}).find(".tpd-stem-border-center-offset-inverse").css({"margin-left":this._css.border*(n?-1:1)})}else{var c={"margin-left":-.5*e.inside.width,"border-left":d,"border-right":d};if($.extend(l,c),l[o?"border-top":"border-bottom"]=e.inside.height+"px solid "+this._css.borderColor,$.extend(h,c),h[o?"border-top":"border-bottom"]=e.inside.height+"px solid "+this._css.backgroundColor,h[o?"bottom":"top"]=t.top,h[o?"top":"bottom"]="auto",Browser.IE&&Browser.IE<8){var u=.5*this._css.width+"px solid transparent";$.extend(h,{"margin-left":-.5*this._css.width,"border-left":u,"border-right":u}),h[o?"border-top":"border-bottom"]=this._css.height+"px solid "+this._css.backgroundColor}this.element.find(".tpd-stem-border-center-offset").css({"margin-top":-1*this._css.border*(o?-1:1)}).find(".tpd-stem-border-center-offset-inverse").css({"margin-top":this._css.border*(o?-1:1)})}this.element.find(".tpd-stem-border-center").css(l),this.element.find(".tpd-stem-border-corner").css({"background-color":this._css.borderColor}),this.element.find(".tpd-stem-triangle").css(h),this._css.border||this.element.find(".tpd-stem-border").hide()},setPosition:function(t){this._position=t,this.transform.attr("class","tpd-stem-transform tpd-stem-transform-"+t)},getMath:function(){var t=this._css.height,e=this._css.width,i=this._css.border;this._useTransform&&Math.floor(e)%2&&(e=Math.max(Math.floor(e)-1,0));var o=degrees(Math.atan(.5*e/t)),n=90-o,s=i/Math.cos((90-n)*Math.PI/180),r=i/Math.cos((90-o)*Math.PI/180),a={width:e+2*s,height:t+r};Math.max(i,this._css.radius),t=a.height,e=.5*a.width;var l=degrees(Math.atan(t/e)),d=90-l,h=i/Math.cos(d*Math.PI/180),c=180*Math.atan(t/e)/Math.PI,u=-1*(90-c),p=90-c,f=i*Math.tan(p*Math.PI/180),r=i/Math.cos((90-p)*Math.PI/180),m=$.extend({},a),g=$.extend({},a);g.height+=this._css.spacing,g.height=Math.ceil(g.height);var v=!0;return 2*i>=a.width&&(v=!1),{enabled:v,outside:g,dimensions:{inside:m,outside:g},top:r,border:h,skew:u,corner:f}}});var Tooltips={tooltips:{},options:{defaultSkin:"dark",startingZIndex:999999},_emptyClickHandler:function(){},init:function(){this.reset(),this._resizeHandler=$.proxy(this.onWindowResize,this),$(window).bind("resize orientationchange",this._resizeHandler),Browser.MobileSafari&&$("body").bind("click",this._emptyClickHandler)},reset:function(){Tooltips.removeAll(),this._resizeHandler&&$(window).unbind("resize orientationchange",this._resizeHandler),Browser.MobileSafari&&$("body").unbind("click",this._emptyClickHandler)},onWindowResize:function(){this._resizeTimer&&(window.clearTimeout(this._resizeTimer),this._resizeTimer=null),this._resizeTimer=_.delay($.proxy(function(){var t=this.getVisible();$.each(t,function(t,e){e.clearUpdatedTo(),e.position()})},this),15)},_getTooltips:function(t,e){var i,o=[],n=[];if(_.isElement(t)?(i=$(t).data("tipped-uids"))&&(o=o.concat(i)):$(t).each(function(t,e){(i=$(e).data("tipped-uids"))&&(o=o.concat(i))}),!o[0]&&!e){var s=this.getTooltipByTooltipElement($(t).closest(".tpd-tooltip")[0]);s&&s.element&&(i=$(s.element).data("tipped-uids")||[],i&&(o=o.concat(i)))}return o.length>0&&$.each(o,$.proxy(function(t,e){var i;(i=this.tooltips[e])&&n.push(i)},this)),n},findElement:function(t){var e=[];return _.isElement(t)&&(e=this._getTooltips(t)),e[0]&&e[0].element},get:function(t){var e=$.extend({api:!1},arguments[1]||{}),i=[];return _.isElement(t)?i=this._getTooltips(t):t instanceof $?t.each($.proxy(function(t,e){var o=this._getTooltips(e,!0);o.length>0&&(i=i.concat(o))},this)):"string"==$.type(t)&&$.each(this.tooltips,function(e,o){o.element&&$(o.element).is(t)&&i.push(o)}),e.api&&$.each(i,function(t,e){e.is("api",!0)}),i},getTooltipByTooltipElement:function(t){if(!t)return null;var e=null;return $.each(this.tooltips,function(i,o){o.is("build")&&o._tooltip[0]===t&&(e=o)}),e},getBySelector:function(t){var e=[];return $.each(this.tooltips,function(i,o){o.element&&$(o.element).is(t)&&e.push(o)}),e},getNests:function(){var t=[];return $.each(this.tooltips,function(e,i){i.is("nest")&&t.push(i)}),t},show:function(t){$(this.get(t)).each(function(t,e){e.show(!1,!0)})},hide:function(t){$(this.get(t)).each(function(t,e){e.hide()})},toggle:function(t){$(this.get(t)).each(function(t,e){e.toggle()})},hideAll:function(t){$.each(this.getVisible(),function(e,i){t&&t==i||i.hide()})},refresh:function(t){var e;e=t?$.grep(this.get(t),function(t){return t.is("visible")}):this.getVisible(),$.each(e,function(t,e){e.refresh()})},getVisible:function(){var t=[];return $.each(this.tooltips,function(e,i){i.visible()&&t.push(i)}),t},isVisibleByElement:function(t){var e=!1;return _.isElement(t)&&$.each(this.getVisible()||[],function(i,o){return o.element==t?(e=!0,!1):void 0}),e},getHighestTooltip:function(){var t,e=0;return $.each(this.tooltips,function(i,o){o.zIndex>e&&(e=o.zIndex,t=o)}),t},resetZ:function(){this.getVisible().length<=1&&$.each(this.tooltips,function(t,e){e.is("build")&&!e.options.zIndex&&e._tooltip.css({zIndex:e.zIndex=+Tooltips.options.startingZIndex})})},clearAjaxCache:function(){$.each(this.tooltips,$.proxy(function(t,e){e.options.ajax&&(e._cache&&e._cache.xhr&&(e._cache.xhr.abort(),e._cache.xhr=null),e.is("updated",!1),e.is("updating",!1),e.is("sanitized",!1))},this)),AjaxCache.clear()},add:function(t){this.tooltips[t.uid]=t},remove:function(t){var e=this._getTooltips(t);this.removeTooltips(e)},removeTooltips:function(t){t&&$.each(t,$.proxy(function(t,e){var i=e.uid;delete this.tooltips[i],Browser.IE&&Browser.IE<9?_.defer(function(){e.remove()}):e.remove()},this))},removeDetached:function(){var t=this.getNests(),e=[];t.length>0&&$.each(t,function(t,i){i.is("detached")&&(e.push(i),i.attach())}),$.each(this.tooltips,$.proxy(function(t,e){e.element&&!_.element.isAttached(e.element)&&this.remove(e.element)},this)),$.each(e,function(t,e){e.detach()})},removeAll:function(){$.each(this.tooltips,$.proxy(function(t,e){e.element&&this.remove(e.element)},this)),this.tooltips={}},setDefaultSkin:function(t){this.options.defaultSkin=t||"dark"},setStartingZIndex:function(t){this.options.startingZIndex=t||0}};return Tooltips.Position={inversedPosition:{left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},getInversedPosition:function(t){var e=Position.split(t),i=e[1],o=e[2],n=Position.getOrientation(t),s=$.extend({horizontal:!0,vertical:!0},arguments[1]||{});return"horizontal"==n?(s.vertical&&(i=this.inversedPosition[i]),s.horizontal&&(o=this.inversedPosition[o])):(s.vertical&&(o=this.inversedPosition[o]),s.horizontal&&(i=this.inversedPosition[i])),i+o},getTooltipPositionFromTarget:function(t){var e=Position.split(t);return this.getInversedPosition(e[1]+this.inversedPosition[e[2]])}},$.extend(Tooltip.prototype,{supportsLoading:Support.css.transform&&Support.css.animation,initialize:function(element,content){if(this.element=element,this.element){var options;"object"!=$.type(content)||_.isElement(content)||_.isText(content)||_.isDocumentFragment(content)||content instanceof $?options=arguments[2]||{}:(options=content,content=null);var dataOptions=$(element).data("tipped-options");dataOptions&&(options=deepExtend($.extend({},options),eval("({"+dataOptions+"})"))),this.options=Options.create(options),this._cache={dimensions:{width:0,height:0},events:[],timers:{},layouts:{},is:{},fnCallFn:"",updatedTo:{}},this.queues={showhide:$({})};var title=$(element).attr("title")||$(element).data("tipped-restore-title");if(!content){var dt=$(element).attr("data-tipped");if(dt?content=dt:title&&(content=title),content){var SCRIPT_REGEX=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;content=content.replace(SCRIPT_REGEX,"")}}if((!content||content instanceof $&&!content[0])&&!(this.options.ajax&&this.options.ajax.url||this.options.inline))return void(this._aborted=!0);title&&($(element).data("tipped-restore-title",title),$(element)[0].setAttribute("title","")),this.content=content,this.title=$(this.element).data("tipped-title"),"undefined"!=$.type(this.options.title)&&(this.title=this.options.title),this.zIndex=this.options.zIndex||+Tooltips.options.startingZIndex;var uids=$(element).data("tipped-uids");uids||(uids=[]);var uid=getUID();this.uid=uid,uids.push(uid),$(element).data("tipped-uids",uids);var parentTooltipElement=$(this.element).closest(".tpd-tooltip")[0],parentTooltip;parentTooltipElement&&(parentTooltip=Tooltips.getTooltipByTooltipElement(parentTooltipElement))&&parentTooltip.is("nest",!0);var target=this.options.target;this.target="mouse"==target?this.element:"element"!=target&&target?_.isElement(target)?target:target instanceof $&&target[0]?target[0]:this.element:this.element,this.options.inline&&(this.content=$("#"+this.options.inline)[0]),this.options.ajax&&(this.__content=this.content),"function"==$.type(this.content)&&(this._fn=this.content),this.preBuild(),Tooltips.add(this)}},remove:function(){this.unbind(),this.clearTimers(),this.restoreElementToMarker(),this.stopLoading(),this.abort(),this.is("build")&&this._tooltip&&(this._tooltip.remove(),this._tooltip=null);var t=$(this.element).data("tipped-uids")||[],e=$.inArray(this.uid,t);if(e>-1&&(t.splice(e,1),$(this.element).data("tipped-uids",t)),t.length<1){var i,o="tipped-restore-title";(i=$(this.element).data(o))&&(""!=!$(this.element)[0].getAttribute("title")&&$(this.element).attr("title",i),$(this.element).removeData(o)),$(this.element).removeData("tipped-uids")}var n=$(this.element).attr("class")||"",s=n.replace(/(tpd-delegation-uid-)\d+/g,"").replace(/^\s\s*/,"").replace(/\s\s*$/,"");$(this.element).attr("class",s)},detach:function(){this.options.detach&&!this.is("detached")&&(this._tooltip&&this._tooltip.detach(),this.is("detached",!0))},attach:function(){if(this.is("detached")){var t;if("string"==$.type(this.options.container)){var e=this.target;"mouse"==e&&(e=this.element),t=$($(e).closest(this.options.container).first())}else t=$(this.options.container);t[0]||(t=$(document.body)),t.append(this._tooltip),this.is("detached",!1)}},preBuild:function(){this.is("detached",!0);var t={left:"-10000px",top:"-10000px",opacity:0,zIndex:this.zIndex};this._tooltip=$("<div>").addClass("tpd-tooltip").addClass("tpd-skin-"+Tooltips.options.defaultSkin).addClass("tpd-size-"+this.options.size).css(t).hide(),this.createPreBuildObservers()},build:function(){this.is("build")||(this.attach(),Browser.IE&&Browser.IE<7&&this._tooltip.append(this.iframeShim=$("<iframe>").addClass("tpd-iframeshim").attr({frameBorder:0,src:"javascript:'';"})),this._tooltip.append(this._skin=$("<div>").addClass("tpd-skin")).append(this._contentWrapper=$("<div>").addClass("tpd-content-wrapper").append(this._contentSpacer=$("<div>").addClass("tpd-content-spacer").append(this._titleWrapper=$("<div>").addClass("tpd-title-wrapper").append(this._titleSpacer=$("<div>").addClass("tpd-title-spacer").append(this._titleRelative=$("<div>").addClass("tpd-title-relative").append(this._titleRelativePadder=$("<div>").addClass("tpd-title-relative-padder").append(this._title=$("<div>").addClass("tpd-title"))))).append(this._close=$("<div>").addClass("tpd-close").append($("<div>").addClass("tpd-close-icon").html("&times;")))).append(this._contentRelative=$("<div>").addClass("tpd-content-relative").append(this._contentRelativePadder=$("<div>").addClass("tpd-content-relative-padder").append(this._content=$("<div>").addClass("tpd-content"))).append(this._inner_close=$("<div>").addClass("tpd-close").append($("<div>").addClass("tpd-close-icon").html("&times;")))))),this.skin=new Skin(this),this._contentSpacer.css({"border-radius":Math.max(this.skin._css.radius-this.skin._css.border,0)}),this.createPostBuildObservers(),this.is("build",!0))},createPostBuildObservers:function(){this._tooltip.delegate(".tpd-close, .close-tooltip","click",$.proxy(function(t){t.stopPropagation(),t.preventDefault(),this.is("api",!1),this.hide(!0)},this))},createPreBuildObservers:function(){this.bind(this.element,"mouseenter",this.setActive),
this.bind(this._tooltip,Support.touch&&Browser.MobileSafari?"touchstart":"mouseenter",this.setActive),this.bind(this.element,"mouseleave",function(t){this.setIdle(t)}),this.bind(this._tooltip,"mouseleave",function(t){this.setIdle(t)}),this.options.showOn&&($.each(this.options.showOn,$.proxy(function(t,e){var i,o=!1;switch(t){case"element":i=this.element,this.options.hideOn&&this.options.showOn&&"click"==this.options.hideOn.element&&"click"==this.options.showOn.element&&(o=!0,this.is("toggleable",o));break;case"tooltip":i=this._tooltip;break;case"target":i=this.target}if(i&&e){var n=e;this.bind(i,n,"click"==e&&o?function(){this.is("api",!1),this.toggle()}:function(){this.is("api",!1),this.showDelayed()})}},this)),Support.touch&&Browser.MobileSafari&&this.bind(this._tooltip,"touchend",function(){this._tooltipTouchEndTime=(new Date).getTime()})),this.options.hideOn&&$.each(this.options.hideOn,$.proxy(function(t,e){var i;switch(t){case"element":if(this.is("toggleable")&&"click"==e)return;i=this.element;break;case"tooltip":i=this._tooltip;break;case"target":i=this.target}if(i&&e){var o=e;Support.touch&&Browser.MobileSafari&&/^(target|element)/.test(t)&&/mouse(leave|out)/.test(o)?this.bind(i,o,function(t){if(this._tooltipTouchEndTime&&/^mouse(leave|out)$/.test(t.type)){var e=(new Date).getTime();if(e-this._tooltipTouchEndTime<450)return}this.is("api",!1),this.hideDelayed()}):this.bind(i,o,function(){this.is("api",!1),this.hideDelayed()})}},this)),this.options.hideOnClickOutside&&($(this.element).addClass("tpd-hideOnClickOutside"),this.bind(document.documentElement,"click touchend",$.proxy(function(t){if(this.visible()){var e=$(t.target).closest(".tpd-tooltip, .tpd-hideOnClickOutside")[0];(!e||e&&e!=this._tooltip[0]&&e!=this.element)&&this.hide()}},this))),"mouse"==this.options.target&&this.bind(this.element,"mouseenter mousemove",$.proxy(function(t){this._cache.event=t},this));var t=!1;this.options.showOn&&"mouse"==this.options.target&&!this.options.fixed&&(t=!0),t&&this.bind(this.element,"mousemove",function(){this.is("build")&&(this.is("api",!1),this.position())})}}),$.extend(Tooltip.prototype,{stop:function(){if(this._tooltip){var t=this.queues.showhide;t.queue([]),this._tooltip.stop(1,0)}},showDelayed:function(){this.is("disabled")||(this.clearTimer("hide"),this.is("visible")||this.getTimer("show")||this.setTimer("show",$.proxy(function(){this.clearTimer("show"),this.show()},this),this.options.showDelay||1))},show:function(){if(this.clearTimer("hide"),!this.visible()&&!this.is("disabled")&&$(this.target).is(":visible")){this.is("visible",!0),this.attach(),this.stop();var t=this.queues.showhide;this.is("updated")||this.is("updating")||t.queue($.proxy(function(t){this._onResizeDimensions={width:0,height:0},this.update($.proxy(function(e){return e?(this.is("visible",!1),void this.detach()):void t()},this))},this)),t.queue($.proxy(function(t){this.is("sanitized")?(this.stopLoading(),this._contentWrapper.css({visibility:"visible"}),this.is("resize-to-content",!0),t()):(this._contentWrapper.css({visibility:"hidden"}),this.startLoading(),this.sanitize($.proxy(function(){this.stopLoading(),this._contentWrapper.css({visibility:"visible"}),this.is("resize-to-content",!0),t()},this)))},this)),t.queue($.proxy(function(t){this.position(),this.raise(),t()},this)),t.queue($.proxy(function(t){if(this.is("updated")&&"function"==$.type(this.options.onShow)){var e=new Visible(this._tooltip);this.options.onShow(this._content[0],this.element),e.restore(),t()}else t()},this)),t.queue($.proxy(function(t){this._show(this.options.fadeIn,function(){t()})},this))}},_show:function(t,e){t=("number"==$.type(t)?t:this.options.fadeIn)||0,e=e||"function"==$.type(arguments[0])&&arguments[0],this.options.hideOthers&&Tooltips.hideAll(this),this._tooltip.fadeTo(t,1,$.proxy(function(){e&&e()},this))},hideDelayed:function(){this.clearTimer("show"),this.getTimer("hide")||!this.visible()||this.is("disabled")||this.setTimer("hide",$.proxy(function(){this.clearTimer("hide"),this.hide()},this),this.options.hideDelay||1)},hide:function(t,e){if(this.clearTimer("show"),this.visible()&&!this.is("disabled")){this.is("visible",!1),this.stop();var i=this.queues.showhide;i.queue($.proxy(function(t){this.abort(),t()},this)),i.queue($.proxy(function(e){this._hide(t,e)},this)),i.queue(function(t){Tooltips.resetZ(),t()}),i.queue($.proxy(function(t){this.clearUpdatedTo(),t()},this)),"function"==$.type(this.options.afterHide)&&this.is("updated")&&i.queue($.proxy(function(t){this.options.afterHide(this._content[0],this.element),t()},this)),this.options.cache||!this.options.ajax&&!this._fn||i.queue($.proxy(function(t){this.is("updated",!1),this.is("updating",!1),this.is("sanitized",!1),t()},this)),"function"==$.type(e)&&i.queue(function(t){e(),t()}),i.queue($.proxy(function(t){this.detach(),t()},this))}},_hide:function(t,e){e=e||"function"==$.type(arguments[0])&&arguments[0],this.attach(),this._tooltip.fadeTo(t?0:this.options.fadeOut,0,$.proxy(function(){this.stopLoading(),this.is("resize-to-content",!1),this._tooltip.hide(),e&&e()},this))},toggle:function(){this.is("disabled")||this[this.visible()?"hide":"show"]()},raise:function(){if(this.is("build")&&!this.options.zIndex){var t=Tooltips.getHighestTooltip();t&&t!=this&&this.zIndex<=t.zIndex&&(this.zIndex=t.zIndex+1,this._tooltip.css({"z-index":this.zIndex}),this._tooltipShadow&&(this._tooltipShadow.css({"z-index":this.zIndex}),this.zIndex=t.zIndex+2,this._tooltip.css({"z-index":this.zIndex})))}}}),$.extend(Tooltip.prototype,{createElementMarker:function(){!this.elementMarker&&this.content&&_.element.isAttached(this.content)&&($(this.content).data("tpd-restore-inline-display",$(this.content).css("display")),this.elementMarker=$("<div>").hide(),$(this.content).before($(this.elementMarker).hide()))},restoreElementToMarker:function(){var t;this.content,this.elementMarker&&this.content&&((t=$(this.content).data("tpd-restore-inline-display"))&&$(this.content).css({display:t}),$(this.elementMarker).before(this.content).remove())},startLoading:function(){this.is("loading")||(this.build(),this.is("loading",!0),this.options.spinner&&(this._tooltip.addClass("tpd-is-loading"),this.skin.startLoading(),this.is("resize-to-content")||(this.position(),this.raise(),this._show())))},stopLoading:function(){this.build(),this.is("loading",!1),this.options.spinner&&(this._tooltip.removeClass("tpd-is-loading"),this.skin.stopLoading())},abort:function(){this.abortAjax(),this.abortSanitize(),this.is("refreshed-before-sanitized",!1)},abortSanitize:function(){this._cache.voila&&(this._cache.voila.abort(),this._cache.voila=null)},abortAjax:function(){this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null,this.is("updated",!1),this.is("updating",!1))},update:function(t){if(!this.is("updating")){this.is("updating",!0),this.build();var e=this.options.inline?"inline":this.options.ajax?"ajax":_.isElement(this.content)||_.isText(this.content)||_.isDocumentFragment(this.content)?"element":this._fn?"function":"html";switch(this._contentWrapper.css({visibility:"hidden"}),e){case"html":case"element":case"inline":if(this.is("updated"))return void(t&&t());this._update(this.content,t);break;case"function":if(this.is("updated"))return void(t&&t());var i=this._fn(this.element);if(!i)return this.is("updating",!1),void(t&&t(!0));this._update(i,t)}}},_update:function(t,e){var i={title:this.options.title,close:this.options.close};"string"==$.type(t)||_.isElement(t)||_.isText(t)||_.isDocumentFragment(t)||t instanceof $?i.content=t:$.extend(i,t);var t=i.content,o=i.title,n=i.close;this.content=t,this.title=o,this.close=n,this.createElementMarker(),(_.isElement(t)||t instanceof $)&&$(t).show(),this._content.html(this.content),this._title.html(o&&"string"==$.type(o)?o:""),this._titleWrapper[o?"show":"hide"](),this._close[(this.title||this.options.title)&&n?"show":"hide"]();var s=n&&!(this.options.title||this.title),r=n&&!(this.options.title||this.title)&&"overlap"!=n,a=n&&(this.options.title||this.title)&&"overlap"!=n;this._inner_close[s?"show":"hide"](),this._tooltip[(r?"add":"remove")+"Class"]("tpd-has-inner-close"),this._tooltip[(a?"add":"remove")+"Class"]("tpd-has-title-close"),this._content[(this.options.padding?"remove":"add")+"Class"]("tpd-content-no-padding"),this.finishUpdate(e)},sanitize:function(t){return!this.options.voila||this._content.find("img").length<1?(this.is("sanitized",!0),void(t&&t())):void(this._cache.voila=Voila(this._content,{method:"onload"},$.proxy(function(e){this._markImagesAsSanitized(e.images),this.is("refreshed-before-sanitized")?(this.is("refreshed-before-sanitized",!1),this.sanitize(t)):(this.is("sanitized",!0),t&&t())},this)))},_markImagesAsSanitized:function(t){$.each(t,function(t,e){var i=e.img;$(i).data("completed-src",e.img.src)})},_hasAllImagesSanitized:function(){var t=!0;return this._content.find("img").each(function(e,i){var o=$(i).data("completed-src");return o&&i.src==o?void 0:(t=!1,!1)}),t},refresh:function(){if(this.visible()){if(!this.is("sanitized"))return void this.is("refreshed-before-sanitized",!0);this.is("refreshing",!0),this.clearTimer("refresh-spinner"),!this.options.voila||this._content.find("img").length<1||this._hasAllImagesSanitized()?(this.is("should-update-dimensions",!0),this.position(),this.is("refreshing",!1)):(this.is("sanitized",!1),this._contentWrapper.css({visibility:"hidden"}),this.startLoading(),this.sanitize($.proxy(function(){this._contentWrapper.css({visibility:"visible"}),this.stopLoading(),this.is("should-update-dimensions",!0),this.position(),this.is("refreshing",!1)},this)))}},finishUpdate:function(t){if(this.is("updated",!0),this.is("updating",!1),"function"==$.type(this.options.afterUpdate)){var e=this._contentWrapper.css("visibility");e&&this._contentWrapper.css({visibility:"visible"}),this.options.afterUpdate(this._content[0],this.element),e&&this._contentWrapper.css({visibility:"hidden"})}t&&t()}}),$.extend(Tooltip.prototype,{clearUpdatedTo:function(){this._cache.updatedTo={}},updateDimensionsToContent:function(t,e){this.skin.build();var i=this.is("loading"),o=this._cache.updatedTo;if((this._maxWidthPass||this.is("api")||this.is("should-update-dimensions")||o.stemPosition!=e||o.loading!=i)&&(!i||!this.is("resize-to-content"))){this._cache.updatedTo={type:this.is("resize-to-content")?"content":"spinner",loading:this.is("loading"),stemPosition:e},this.is("should-update-dimensions")&&this.is("should-update-dimensions",!1);var t=t||this.options.position.target,e=e||this.options.position.tooltip,n=Position.getSide(e),s=Position.getOrientation(e),r=this.skin._css.border;this._tooltip.addClass("tpd-tooltip-measuring");var a=this._tooltip.attr("style");this._tooltip.removeAttr("style");var l={top:r,right:r,bottom:r,left:r},d=0;if("vertical"==Position.getOrientation(e)){this.options.stem&&(l[n]=this.skin["stem_"+n].getMath().dimensions.outside.height);var h=this.getMouseRoom();h[Position._flip[n]]&&(l[n]+=h[Position._flip[n]]);var c=this.getContainmentLayout(e),u=this.getPaddingLine(t),p=!1;Position.isPointWithinBoxLayout(u.x1,u.y1,c)||Position.isPointWithinBoxLayout(u.x2,u.y2,c)?p=!0:$.each("top right bottom left".split(" "),$.proxy(function(t,e){var i=this.getSideLine(c,e);return Position.intersectsLine(u.x1,u.y1,u.x2,u.y2,i.x1,i.y1,i.x2,i.y2)?(p=!0,!1):void 0},this)),p&&(d="left"==n?u.x1-c.position.left:c.position.left+c.dimensions.width-u.x1,l[n]+=d)}if(this.options.offset&&"vertical"==s){var f=Position.adjustOffsetBasedOnPosition(this.options.offset,this.options.position.target,t);0!==f.x&&(l.right+=Math.abs(f.x))}var d;this.options.containment&&(d=this.options.containment.padding)&&($.each(l,function(t){l[t]+=d}),"vertical"==s?l["left"==n?"left":"right"]-=d:l["top"==n?"top":"bottom"]-=d);var m=Bounds.viewport(),g=this.close&&"overlap"!=this.close&&!this.title,v={width:0,height:0};g&&(v=this._innerCloseDimensions||{width:this._inner_close.outerWidth(!0),height:this._inner_close.outerHeight(!0)},this._innerCloseDimensions=v),this._contentRelativePadder.css({"padding-right":v.width}),this._contentSpacer.css({width:m.width-l.left-l.right});var b={width:this._content.innerWidth()+v.width,height:Math.max(this._content.innerHeight(),v.height||0)},_={width:0,height:0};if(this.title){var w={width:0,height:0};this._titleWrapper.add(this._titleSpacer).css({width:"auto",height:"auto"}),this.close&&"overlap"!=this.close&&(w={width:this._close.outerWidth(!0),height:this._close.outerHeight(!0)},this._close.hide()),this._maxWidthPass&&b.width>this.options.maxWidth&&this._titleRelative.css({width:b.width}),this._titleRelativePadder.css({"padding-right":w.width});var x=parseFloat(this._titleWrapper.css("border-bottom-width"));_={width:this.title?this._titleWrapper.innerWidth():0,height:Math.max(this.title?this._titleWrapper.innerHeight()+x:0,w.height+x)},_.width>m.width-l.left-l.right&&(_.width=m.width-l.left-l.right,this._titleSpacer.css({width:_.width}),_.height=Math.max(this.title?this._titleWrapper.innerHeight()+x:0,w.height+x)),b.width=Math.max(_.width,b.width),b.height+=_.height,this._titleWrapper.css({height:Math.max(this.title?this._titleWrapper.innerHeight():0,w.height)}),this.close&&this._close.show()}if(this.options.stem){var y="vertical"==s?"height":"width",C=this.skin["stem_"+n].getMath(),S=C.outside.width+2*this.skin._css.radius;b[y]<S&&(b[y]=S)}if(this._contentSpacer.css({width:b.width}),b.height!=Math.max(this._content.innerHeight(),v.height)+(this.title?this._titleRelative.outerHeight():0)&&b.width++,this.is("resize-to-content")||(b=this.skin._css.spinner.dimensions),this.setDimensions(b),l={top:r,right:r,bottom:r,left:r},this.options.stem){var T=Position.getSide(e);l[T]=this.skin.stem_top.getMath().dimensions.outside.height}this._contentSpacer.css({"margin-top":l.top,"margin-left":+l.left,width:b.width}),(this.title||this.close)&&this._titleWrapper.css({height:this._titleWrapper.innerHeight(),width:b.width}),this._tooltip.removeClass("tpd-tooltip-measuring"),this._tooltip.attr("style",a);var k=this._contentRelative.add(this._titleRelative);this.options.maxWidth&&b.width>this.options.maxWidth&&!this._maxWidthPass&&this.is("resize-to-content")&&(k.css({width:this.options.maxWidth}),this._maxWidthPass=!0,this.updateDimensionsToContent(t,e),this._maxWidthPass=!1,k.css({width:"auto"}))}},setDimensions:function(t){this.skin.setDimensions(t)},getContainmentSpace:function(t,e){var i=this.getContainmentLayout(t,e),o=this.getTargetLayout(),n=o.position,s=o.dimensions,r=i.position,a=i.dimensions,l={top:Math.max(n.top-r.top,0),bottom:Math.max(r.top+a.height-(n.top+s.height),0),left:Math.max(n.left-r.left,0),right:Math.max(r.left+a.width-(n.left+s.width),0)};return n.top>r.top+a.height&&(l.top-=n.top-(r.top+a.height)),n.top+s.height<r.top&&(l.bottom-=r.top-(n.top+s.height)),n.left>r.left+a.width&&r.left+a.width>=n.left&&(l.left-=n.left-(r.left+a.width)),n.left+s.width<r.left&&(l.right-=r.left-(n.left+s.width)),this._cache.layouts.containmentSpace=l,l},position:function(){if(this.visible()){this.is("positioning",!0),this._cache.layouts={},this._cache.dimensions;var t=this.options.position.target,e=this.options.position.tooltip,i=e,o=t;this.updateDimensionsToContent(o,i);var n=this.getPositionBasedOnTarget(o,i),s=deepExtend(n),r=[];if(this.options.containment){var a=!1,l={};if($.each("top right bottom left".split(" "),$.proxy(function(t,e){(l[e]=this.isSideWithinContainment(e,i,!0))&&(a=!0)},this)),a||(s.contained=!0),s.contained)this.setPosition(s);else{r.unshift({position:s,targetPosition:o,stemPosition:i});var d=Position.flip(t);if(o=d,i=Position.flip(e),l[Position.getSide(o)]?(this.updateDimensionsToContent(o,i),s=this.getPositionBasedOnTarget(o,i)):s.contained=!1,s.contained)this.setPosition(s,i);else{r.unshift({position:s,targetPosition:o,stemPosition:i});var h,c=t,u=this.getContainmentSpace(i,!0),p="horizontal"==Position.getOrientation(c)?["left","right"]:["top","bottom"];h=u[p[0]]===u[p[1]]?"horizontal"==Position.getOrientation(c)?"left":"top":p[u[p[0]]>u[p[1]]?0:1];var f=Position.split(c)[1],m=h+f,g=Position.flip(m);if(o=m,i=g,l[Position.getSide(o)]?(this.updateDimensionsToContent(o,i),s=this.getPositionBasedOnTarget(o,i)):s.contained=!1,s.contained)this.setPosition(s,i);else{r.unshift({position:s,targetPosition:o,stemPosition:i});var v,b=[];if($.each(r,function(t,e){if(e.position.top>=0&&e.position.left>=0)v=e;else{var i=e.position.top>=0?1:Math.abs(e.position.top),o=e.position.left>=0?1:Math.abs(e.position.left);b.push({result:e,negativity:i*o})}}),!v){var _=b[b.length-1];$.each(b,function(t,e){e.negativity<_.negativity&&(_=e)}),v=_.result}this.updateDimensionsToContent(v.targetPosition,v.stemPosition,!0),this.setPosition(v.position,v.stemPosition)}}}}else this.setPosition(s);this._cache.dimensions=this.skin._vars.dimensions,this.skin.paint(),this.is("positioning",!1)}},getPositionBasedOnTarget:function(t,e){var e=e||this.options.position.tooltip,i=this.getTargetDimensions(),o={left:0,top:0},n={left:0,top:0};Position.getSide(t);var s=this.skin._vars,r=s.frames[Position.getSide(e)],a=Position.getOrientation(t),l=Position.split(t);if("horizontal"==a){var d=Math.floor(.5*i.width);switch(l[2]){case"left":n.left=d;break;case"middle":o.left=i.width-d,n.left=o.left;break;case"right":o.left=i.width,n.left=i.width-d}"bottom"==l[1]&&(o.top=i.height,n.top=i.height)}else{var d=Math.floor(.5*i.height);switch(l[2]){case"top":n.top=d;break;case"middle":o.top=i.height-d,n.top=o.top;break;case"bottom":n.top=i.height-d,o.top=i.height}"right"==l[1]&&(o.left=i.width,n.left=i.width)}var h=this.getTargetPosition(),c=$.extend({},i,{top:h.top,left:h.left,connection:o,max:n}),u={width:r.dimensions.width,height:r.dimensions.height,top:0,left:0,connection:s.connections[e].connection,stem:s.connections[e].stem};if(u.top=c.top+c.connection.top,u.left=c.left+c.connection.left,u.top-=u.connection.top,u.left-=u.connection.left,this.options.stem){var p=s.stemDimensions.width,f={stem:{top:u.top+u.stem.connection.top,left:u.left+u.stem.connection.left},connection:{top:c.top+c.connection.top,left:c.left+c.connection.left},max:{top:c.top+c.max.top,left:c.left+c.max.left}};if(!Position.isPointWithinBox(f.stem.left,f.stem.top,f.connection.left,f.connection.top,f.max.left,f.max.top)){var f={stem:{top:u.top+u.stem.connection.top,left:u.left+u.stem.connection.left},connection:{top:c.top+c.connection.top,left:c.left+c.connection.left},max:{top:c.top+c.max.top,left:c.left+c.max.left}},m={connection:Position.getDistance(f.stem.left,f.stem.top,f.connection.left,f.connection.top),max:Position.getDistance(f.stem.left,f.stem.top,f.max.left,f.max.top)},g=Math.min(m.connection,m.max),v=f[m.connection<=m.max?"connection":"max"],b="horizontal"==Position.getOrientation(e)?"left":"top",_=Position.getDistance(f.connection.left,f.connection.top,f.max.left,f.max.top);if(_>=p){var w={top:0,left:0},x=v[b]<f.stem[b]?-1:1;w[b]=g*x,w[b]+=Math.floor(.5*p)*x,u.left+=w.left,u.top+=w.top}else{$.extend(f,{center:{top:Math.round(c.top+.5*i.height),left:Math.round(c.left+.5*i.left)}});var y={connection:Position.getDistance(f.center.left,f.center.top,f.connection.left,f.connection.top),max:Position.getDistance(f.center.left,f.center.top,f.max.left,f.max.top)},g=m[y.connection<=y.max?"connection":"max"],C={top:0,left:0},x=v[b]<f.stem[b]?-1:1;C[b]=g*x,u.left+=C.left,u.top+=C.top}}}if(this.options.offset){var S=$.extend({},this.options.offset);S=Position.adjustOffsetBasedOnPosition(S,this.options.position.target,t),u.top+=S.y,u.left+=S.x}var T=this.getContainment({top:u.top,left:u.left},e),k=T.horizontal&&T.vertical,M={x:0,y:0},P=Position.getOrientation(e);if(!T[P]){var B="horizontal"==P,O=B?["left","right"]:["up","down"],E=B?"x":"y",z=B?"left":"top",I=T.correction[E],W=this.getContainmentLayout(e),D=W.position[B?"left":"top"];if(0!==I){var L=s.connections[e].move,A=L[O[0>-1*I?0:1]],F=0>I?-1:1;if(A>=I*F&&u[z]+I>=D)u[z]+=I,M[E]=-1*I,k=!0;else if(Position.getOrientation(t)==Position.getOrientation(e)){if(u[z]+=A*F,M[E]=-1*A*F,u[z]<D){var j=D-u[z],R=L[O[0]]+L[O[1]],j=Math.min(j,R);u[z]+=j;var H=M[E]-j;H>=s.connections[e].move[O[0]]&&H<=s.connections[e].move[O[1]]&&(M[E]-=j)}T=this.getContainment({top:u.top,left:u.left},e);var q=T.correction[E],N=deepExtend({},u);this.options.offset&&(N.left-=this.options.offset.x,N.top-=this.options.offset.y);var f={stem:{top:N.top+u.stem.connection.top,left:N.left+u.stem.connection.left}};f.stem[z]+=M[E];var U=this.getTargetLayout(),p=s.stemDimensions.width,V=Math.floor(.5*p),X=D+W.dimensions[B?"width":"height"];if("x"==E){var Y=U.position.left+V;q>0&&(Y+=U.dimensions.width-2*V),(0>q&&f.stem.left+q>=Y&&N.left+q>=D||q>0&&f.stem.left+q<=Y&&N.left+q<=X)&&(N.left+=q)}else{var K=U.position.top+V;q>0&&(K+=U.dimensions.height-2*V),(0>q&&f.stem.top+q>=K&&N.top+q>=D||q>0&&f.stem.top+q<=K&&N.top+q<=X)&&(N.top+=q)}u=N,this.options.offset&&(u.left+=this.options.offset.x,u.top+=this.options.offset.y)}}T=this.getContainment({top:u.top,left:u.left},e),k=T.horizontal&&T.vertical}return{top:u.top,left:u.left,contained:k,shift:M}},setPosition:function(t,e){var i=this._position;if(!i||i.top!=t.top||i.left!=t.left){var o;if(this.options.container!=document.body){if("string"==$.type(this.options.container)){var n=this.target;"mouse"==n&&(n=this.element),o=$($(n).closest(this.options.container).first())}else o=$(o);if(o[0]){var s=$(o).offset(),r={top:Math.round(s.top),left:Math.round(s.left)},a={top:Math.round($(o).scrollTop()),left:Math.round($(o).scrollLeft())};t.top-=r.top,t.top+=a.top,t.left-=r.left,t.left+=a.left}}this._position=t,this._tooltip.css({top:t.top,left:t.left})}this.skin.setStemPosition(e||this.options.position.tooltip,t.shift||{x:0,y:0})},getSideLine:function(t,e){var i=t.position.left,o=t.position.top,n=t.position.left,s=t.position.top;switch(e){case"top":n+=t.dimensions.width;break;case"bottom":o+=t.dimensions.height,n+=t.dimensions.width,s+=t.dimensions.height;break;case"left":s+=t.dimensions.height;break;case"right":i+=t.dimensions.width,n+=t.dimensions.width,s+=t.dimensions.height}return{x1:i,y1:o,x2:n,y2:s}},isSideWithinContainment:function(t,e,i){var o=this.getContainmentLayout(e,i),n=this.getTargetLayout(),s=this.getSideLine(n,t);if(Position.isPointWithinBoxLayout(s.x1,s.y1,o)||Position.isPointWithinBoxLayout(s.x2,s.y2,o))return!0;var r=!1;return $.each("top right bottom left".split(" "),$.proxy(function(t,e){var i=this.getSideLine(o,e);return Position.intersectsLine(s.x1,s.y1,s.x2,s.y2,i.x1,i.y1,i.x2,i.y2)?(r=!0,!1):void 0},this)),r},getContainment:function(t,e){var i={horizontal:!0,vertical:!0,correction:{y:0,x:0}};if(this.options.containment){var o=this.getContainmentLayout(e),n=this.skin._vars.frames[Position.getSide(e)].dimensions;this.options.containment&&((t.left<o.position.left||t.left+n.width>o.position.left+o.dimensions.width)&&(i.horizontal=!1,i.correction.x=t.left<o.position.left?o.position.left-t.left:o.position.left+o.dimensions.width-(t.left+n.width)),(t.top<o.position.top||t.top+n.height>o.position.top+o.dimensions.height)&&(i.vertical=!1,i.correction.y=t.top<o.position.top?o.position.top-t.top:o.position.top+o.dimensions.height-(t.top+n.height)))}return i},getContainmentLayout:function(t,e){var i={top:$(window).scrollTop(),left:$(window).scrollLeft()},o=this.target;"mouse"==o&&(o=this.element);var n,s=$(o).closest(this.options.containment.selector).first()[0];n=s&&"viewport"!=this.options.containment.selector?{dimensions:{width:$(s).innerWidth(),height:$(s).innerHeight()},position:$(s).offset()}:{dimensions:Bounds.viewport(),position:i};var r=this.options.containment.padding;if(r&&!e){var a=Math.max(n.dimensions.height,n.dimensions.width);if(2*r>a&&(r=Math.max(Math.floor(.5*a),0)),r){n.dimensions.width-=2*r,n.dimensions.height-=2*r,n.position.top+=r,n.position.left+=r;var l=Position.getOrientation(t);"vertical"==l?(n.dimensions.width+=r,"left"==Position.getSide(t)&&(n.position.left-=r)):(n.dimensions.height+=r,"top"==Position.getSide(t)&&(n.position.top-=r))}}return this._cache.layouts.containmentLayout=n,n},getMouseRoom:function(){var t={top:0,left:0,right:0,bottom:0};if("mouse"==this.options.target&&!this.is("api")){var e=Mouse.getActualPosition(this._cache.event),i=$(this.element).offset(),o={width:$(this.element).innerWidth(),height:$(this.element).innerHeight()};t={top:Math.max(0,e.top-i.top),bottom:Math.max(0,i.top+o.height-e.top),left:Math.max(0,e.left-i.left),right:Math.max(0,i.left+o.width-e.left)}}return t},getTargetPosition:function(){var t;if("mouse"==this.options.target)if(this.is("api")){var e=$(this.element).offset();t={top:Math.round(e.top),left:Math.round(e.left)}}else t=Mouse.getPosition(this._cache.event);else{var e=$(this.target).offset();t={top:Math.round(e.top),left:Math.round(e.left)}}return this._cache.layouts.targetPosition=t,t},getTargetDimensions:function(){if(this._cache.layouts.targetDimensions)return this._cache.layouts.targetDimensions;var t;return t="mouse"==this.options.target?Mouse.getDimensions():{width:$(this.target).innerWidth(),height:$(this.target).innerHeight()},this._cache.layouts.targetDimensions=t,t},getTargetLayout:function(){if(this._cache.layouts.targetLayout)return this._cache.layouts.targetLayout;var t={position:this.getTargetPosition(),dimensions:this.getTargetDimensions()};return this._cache.layouts.targetLayout=t,t},getPaddingLine:function(t){var e=this.getTargetLayout(),i="left";if("vertical"==Position.getOrientation(t))return this.getSideLine(e,Position.getSide(t));if(Position.isCorner(t)){var o=Position.inverseCornerPlane(t);return i=Position.getSide(o),this.getSideLine(e,i)}var n=this.getSideLine(e,i),s=Math.round(.5*e.dimensions.width);return n.x1+=s,n.x2+=s,n}}),$.extend(Tooltip.prototype,{setActive:function(){this.is("active",!0),this.visible()&&this.raise(),this.options.hideAfter&&this.clearTimer("idle")},setIdle:function(){this.is("active",!1),this.options.hideAfter&&this.setTimer("idle",$.proxy(function(){this.clearTimer("idle"),this.is("active")||this.hide()},this),this.options.hideAfter)}}),$.extend(Tooltip.prototype,{bind:function(t,e,i,o){e=e;var n=$.proxy(i,o||this);this._cache.events.push({element:t,eventName:e,handler:n}),$(t).bind(e,n)},unbind:function(){$.each(this._cache.events,function(t,e){$(e.element).unbind(e.eventName,e.handler)}),this._cache.events=[]}}),$.extend(Tooltip.prototype,{disable:function(){this.is("disabled")||this.is("disabled",!0)},enable:function(){this.is("disabled")&&this.is("disabled",!1)}}),$.extend(Tooltip.prototype,{is:function(t,e){return"boolean"==$.type(e)&&(this._cache.is[t]=e),this._cache.is[t]},visible:function(){return this.is("visible")}}),$.extend(Tooltip.prototype,{setTimer:function(t,e,i){this._cache.timers[t]=_.delay(e,i)},getTimer:function(t){return this._cache.timers[t]},clearTimer:function(t){this._cache.timers[t]&&(clearTimeout(this._cache.timers[t]),delete this._cache.timers[t])},clearTimers:function(){$.each(this._cache.timers,function(t,e){clearTimeout(e)}),this._cache.timers={}}}),$.extend(Tipped,{init:function(){Tooltips.init()},create:function(t,e){var i=$.extend({},arguments[2]||{}),o=[];return _.isElement(t)?o.push(new Tooltip(t,e,i)):$(t).each(function(t,n){o.push(new Tooltip(n,e,i))}),new Collection(o)},get:function(t){var e=Tooltips.get(t);return new Collection(e)},findElement:function(t){return Tooltips.findElement(t)},refresh:function(t,e,i){return Tooltips.refresh(t,e,i),this},setStartingZIndex:function(t){return Tooltips.setStartingZIndex(t),this},remove:function(t){return Tooltips.remove(t),this}}),$.extend(Collection.prototype,{initialize:function(t){return this.tooltips=t,this},items:function(){return $.each(this.tooltips,function(t,e){e.is("api",!0)}),this.tooltips},refresh:function(){return $.each(this._tooltips,function(t,e){e.is("visible")&&e.refresh()}),this},remove:function(){return Tooltips.removeTooltips(this.tooltips),this.tooltips=[],this}}),Tipped.init(),Tipped}),function(t){t(".js-fullscreen").click(function(){t(".b-page").toggleClass("is-full")});var e={init:function(){fontSpy("MyriadProRegular",{success:e.make})},make:function(){var e,i,o,n=t(".b-menu--top");n.append("<div class='b-menu__border'></div>");var s=t(".b-menu__border");s.width(t(".is-selected").outerWidth()).css("left",t(".is-selected").position().left).data("origLeft",s.position().left).data("origWidth",s.outerWidth()),t(".b-menu--top .b-menu__item").hover(function(){e=t(this),i=e.position().left,o=e.outerWidth(),s.stop().animate({left:i,width:o})},function(){s.stop().animate({left:s.data("origLeft"),width:s.data("origWidth")})})}};t(function(){e.init(),t(".has-tooltip").length>0&&Tipped.create(".has-tooltip"),t(".js-scrollbar").mCustomScrollbar({theme:"rounded-dark",mouseWheelPixels:200,advanced:{updateOnContentResize:!0}}),t(".js-more").click(function(e){e.preventDefault();var i=t(this).parents(".js-slide");i.toggleClass("is-visible");var o=t(e.currentTarget).attr("data-handler");t(".is-visible").length?(t(".js-slide:not(.is-visible)").toggleClass("is-hidden"),t(".js-footer, .weather--content").fadeOut("fast",function(){o&&t(".js-scrollbar").mCustomScrollbar("scrollTo",t(".js-slide h2").eq(o),"top")})):(t(".js-slide").removeClass("is-hidden"),t(".js-footer, .js-weather").fadeIn())}),t(".js-slide h2").click(function(){var e=t(this).parents(".js-slide").find(".js-more"),i=t(this).index("h2");t(e).attr("data-handler",i),t(e).click()})})}(jQuery);