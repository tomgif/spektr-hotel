fotoramaVersion="4.6.4",function(t,e,n,o,i){"use strict";function a(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],i=[null,null],a=function(a,r){return i[r]=3*t[r],o[r]=3*(e[r]-t[r])-i[r],n[r]=1-i[r]-o[r],a*(i[r]+a*(o[r]+a*n[r]))},r=function(t){return i[0]+t*(2*o[0]+3*n[0]*t)},s=function(t){for(var e,n=t,o=0;++o<14&&(e=a(n,0)-t,!(Math.abs(e)<.001));)n-=e/r(n);return n};return function(t){return a(s(t),1)}};o.easing[e]=function(e,o,i,a,r){return a*n([t[0],t[1]],[t[2],t[3]])(o/r)+i}}return e}function r(){}function s(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function l(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function c(t){return De?+l(t.css("transform")):+t.css("left").replace("px","")}function u(t){var e={};return De?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function d(t){return{"transition-duration":t+"ms"}}function f(t,e){return isNaN(t)?e:t}function h(t,e){return f(+String(t).replace(e||"px",""))}function m(t){return/%$/.test(t)?h(t,"%"):i}function p(t,e){return f(m(t)/100*e,h(t))}function v(t){return(!isNaN(h(t))||!isNaN(h(t,"%")))&&t}function g(t,e,n,o){return(t-(o||0))*(e+(n||0))}function w(t,e,n,o){return-Math.round(t/(e+(n||0))-(o||0))}function x(t){var e=t.data();if(!e.tEnd){var n=t[0],o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};$(n,o[ye.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0}}function y(t,e,n,o){var i,a=t.data();a&&(a.onEndFn=function(){i||(i=!0,clearTimeout(a.tT),n())},a.tProp=e,clearTimeout(a.tT),a.tT=setTimeout(function(){a.onEndFn()},1.5*o),x(t))}function b(t,e){if(t.length){var n=t.data();De?(t.css(d(0)),n.onEndFn=r,clearTimeout(n.tT)):t.stop();var o=_(e,function(){return c(t)});return t.css(u(o)),o}}function _(){for(var t,e=0,n=arguments.length;n>e&&(t=e?arguments[e]():arguments[e],"number"!=typeof t);e++);return t}function S(t,e){return Math.round(t+(e-t)/1.5)}function C(){return C.p=C.p||("https:"===n.protocol?"https://":"http://"),C.p}function T(t){var n=e.createElement("a");return n.href=t,n}function k(t,e){if("string"!=typeof t)return t;t=T(t);var n,o;if(t.host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!e||(n=t.href,o="custom"),!!n&&{id:n,type:o,s:t.search.replace(/^\?/,""),p:C()}}function B(t,e,n){var i,a,r=t.video;return"youtube"===r.type?(a=C()+"img.youtube.com/vi/"+r.id+"/default.jpg",i=a.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.ajax({url:C()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,M(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:i,thumb:a}}function M(t,e,n,i){for(var a=0,r=t.length;r>a;a++){var s=t[a];if(s.i===n&&s.thumbsReady){var l={videoReady:!0};l[Ke]=l[Je]=l[Qe]=!1,i.splice(a,1,o.extend({},s,l,e));break}}}function E(t){function e(t,e,i){var a=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),l=a.attr("src"),c=e.video,u=!!i&&k(r,c===!0);u?r=!1:u=c,n(t,a,o.extend(e,{video:u,img:e.img||r||s||l,thumb:e.thumb||l||s||r}))}function n(t,e,n){var i=n.thumb&&n.img!==n.thumb,a=h(n.width||t.attr("width")),r=h(n.height||t.attr("height"));o.extend(n,{width:a,height:r,thumbratio:U(n.thumbratio||h(n.thumbwidth||e&&e.attr("width")||i||a)/h(n.thumbheight||e&&e.attr("height")||i||r))})}var i=[];return t.children().each(function(){var t=o(this),a=H(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,a,!0);else{if(t.is(":empty"))return;n(t,null,o.extend(a,{html:this,_html:t.html()}))}i.push(a)}),i}function O(t){return 0===t.offsetWidth&&0===t.offsetHeight}function I(t){return!o.contains(e.documentElement,t)}function P(t,e,n,o){return P.i||(P.i=1,P.ii=[!0]),o=o||P.i,"undefined"==typeof P.ii[o]&&(P.ii[o]=!0),t()?e():P.ii[o]&&setTimeout(function(){P.ii[o]&&P(t,e,n,o)},n||100),P.i++}function F(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function D(t,e,n,o){var i=t.data(),a=i.measures;if(a&&(!i.l||i.l.W!==a.width||i.l.H!==a.height||i.l.r!==a.ratio||i.l.w!==e.w||i.l.h!==e.h||i.l.m!==n||i.l.p!==o)){var r=a.width,l=a.height,c=e.w/e.h,u=a.ratio>=c,d="scaledown"===n,f="contain"===n,h="cover"===n,m=G(o);u&&(d||f)||!u&&h?(r=s(e.w,0,d?r:1/0),l=r/a.ratio):(u&&h||!u&&(d||f))&&(l=s(e.h,0,d?l:1/0),r=l*a.ratio),t.css({width:r,height:l,left:p(m.x,e.w-r),top:p(m.y,e.h-l)}),i.l={W:a.width,H:a.height,r:a.ratio,w:e.w,h:e.h,m:n,p:o}}return!0}function W(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function A(t,e,n){return e!==n&&(e>=t?"left":t>=n?"right":"left right")}function L(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var i,a=0,r=e.length;r>a;a++){var s=e[a];if(s.id===t){i=a;break}}return i}function R(t,e,n){n=n||{},t.each(function(){var t,i=o(this),a=i.data();a.clickOn||(a.clickOn=!0,o.extend(nt(i,{onStart:function(e){t=e,(n.onStart||r).call(this,e)},onMove:n.onMove||r,onTouchEnd:n.onTouchEnd||r,onEnd:function(n){n.moved||e.call(this,t)}}),{noMove:!0}))})}function j(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function z(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function N(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function q(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function H(t){if(t){var e={};return o.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function U(t){if(t){var e=+t;return isNaN(e)?(e=t.split("/"),+e[0]/+e[1]||i):e}}function $(t,e,n,o){e&&(t.addEventListener?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n))}function X(t){return!!t.getAttribute("disabled")}function Y(t){return{tabindex:-1*t+"",disabled:t}}function V(t,e){$(t,"keyup",function(n){X(t)||13==n.keyCode&&e.call(t,n)})}function K(t,e){$(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function Q(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function J(t){return t?">":"<"}function G(t){return t=(t+"").split(/\s+/),{x:v(t[0])||en,y:v(t[1])||en}}function Z(t,e){var n=t.data(),i=Math.round(e.pos),a=function(){n.sliding=!1,(e.onEnd||r)()};"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(i=e.overPos,a=function(){Z(t,o.extend({},e,{overPos:e.pos,time:Math.max(qe,e.time/2)}))});var s=o.extend(u(i),e.width&&{width:e.width});n.sliding=!0,De?(t.css(o.extend(d(e.time),s)),e.time>10?y(t,"transform",a,e.time):a()):t.stop().animate(s,e.time,Ze,a)}function tt(t,e,n,i,a,s){var l="undefined"!=typeof s;if(l||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||o(t),e=e||o(e);var c=t[0],u=e[0],d="crossfade"===i.method,f=function(){if(!f.done){f.done=!0;var t=(l||a.shift())&&a.shift();t&&tt.apply(this,t),(i.onEnd||r)(!!t)}},h=i.time/(s||1);n.removeClass(Ht+" "+qt),t.stop().addClass(Ht),e.stop().addClass(qt),d&&u&&t.fadeTo(0,0),t.fadeTo(d?h:0,1,d&&f),e.fadeTo(h,0,f),c&&d||u||f()}}function et(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=o.now()}function nt(t,n){function i(t){return f=o(t.target),y.checked=p=v=w=!1,u||y.flow||t.touches&&t.touches.length>1||t.which>1||an&&an.type!==t.type&&sn||(p=n.select&&f.is(n.select,x))?p:(m="touchstart"===t.type,v=f.is("a, a *",x),h=y.control,g=y.noMove||y.noSwipe||h?16:y.snap?0:4,et(t),d=an=t,rn=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||r).call(x,t,{control:h,$target:f}),u=y.flow=!0,void((!m||y.go)&&Q(t)))}function a(t){if(t.touches&&t.touches.length>1||je&&!t.isPrimary||rn!==t.type||!u)return u&&s(),void(n.onTouchEnd||r)();et(t);var e=Math.abs(t._x-d._x),o=Math.abs(t._y-d._y),i=e-o,a=(y.go||y.x||i>=0)&&!y.noSwipe,l=0>i;m&&!y.checked?(u=a)&&Q(t):(Q(t),(n.onMove||r).call(x,t,{touch:m})),!w&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>g&&(w=!0),y.checked=y.checked||a||l}function s(t){(n.onTouchEnd||r)();var e=u;y.control=u=!1,e&&(y.flow=!1),!e||v&&!y.checked||(t&&Q(t),sn=!0,clearTimeout(ln),ln=setTimeout(function(){sn=!1},1e3),(n.onEnd||r).call(x,{moved:w,$target:f,control:h,touch:m,startEvent:d,aborted:!t||"MSPointerCancel"===t.type}))}function l(){y.flow||setTimeout(function(){y.flow=!0},10)}function c(){y.flow&&setTimeout(function(){y.flow=!1},Ne)}var u,d,f,h,m,p,v,g,w,x=t[0],y={};return je?($(x,"MSPointerDown",i),$(e,"MSPointerMove",a),$(e,"MSPointerCancel",s),$(e,"MSPointerUp",s)):($(x,"touchstart",i),$(x,"touchmove",a),$(x,"touchend",s),$(e,"touchstart",l),$(e,"touchend",c),$(e,"touchcancel",c),Oe.on("scroll",c),t.on("mousedown",i),Ie.on("mousemove",a).on("mouseup",s)),t.on("click","a",function(t){y.checked&&Q(t)}),y}function ot(t,e){function n(n,o){k=!0,c=d=n._x,v=n._now,p=[[v,c]],f=h=E.noMove||o?0:b(t,(e.getPos||r)()),(e.onStart||r).call(B,n)}function i(t,e){w=E.min,x=E.max,y=E.snap,_=t.altKey,k=T=!1,C=e.control,C||M.sliding||n(t)}function a(o,i){E.noSwipe||(k||n(o),d=o._x,p.push([o._now,d]),h=f-(c-d),m=A(h,w,x),w>=h?h=S(h,w):h>=x&&(h=S(h,x)),E.noMove||(t.css(u(h)),T||(T=!0,i.touch||je||t.addClass(ie)),(e.onMove||r).call(B,o,{pos:h,edge:m})))}function l(i){if(!E.noSwipe||!i.moved){k||n(i.startEvent,!0),i.touch||je||t.removeClass(ie),g=o.now();for(var a,l,c,u,m,v,b,S,C,T=g-Ne,M=null,O=qe,I=e.friction,P=p.length-1;P>=0;P--){if(a=p[P][0],l=Math.abs(a-T),null===M||c>l)M=a,u=p[P][1];else if(M===T||l>c)break;c=l}b=s(h,w,x);var F=u-d,D=F>=0,W=g-M,A=W>Ne,L=!A&&h!==f&&b===h;y&&(b=s(Math[L?D?"floor":"ceil":"round"](h/y)*y,w,x),w=x=b),L&&(y||b===h)&&(C=-(F/W),O*=s(Math.abs(C),e.timeLow,e.timeHigh),m=Math.round(h+C*O/I),y||(b=m),(!D&&m>x||D&&w>m)&&(v=D?w:x,S=m-v,y||(b=v),S=s(b+.03*S,v-50,v+50),O=Math.abs((h-S)/(C/I)))),O*=_?10:1,(e.onEnd||r).call(B,o.extend(i,{moved:i.moved||A&&y,pos:h,newPos:b,overPos:S,time:O}))}}var c,d,f,h,m,p,v,g,w,x,y,_,C,T,k,B=t[0],M=t.data(),E={};return E=o.extend(nt(e.$wrap,o.extend({},e,{onStart:i,onMove:a,onEnd:l})),E)}function it(t,e){var n,i,a,s=t[0],l={prevent:{}};return $(s,ze,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,u=Math.abs(c)&&!Math.abs(s),d=J(0>c),f=i===d,h=o.now(),m=Ne>h-a;i=d,a=h,u&&l.ok&&(!l.prevent[d]||n)&&(Q(t,!0),n&&f&&m||(e.shift&&(n=!0,clearTimeout(l.t),l.t=setTimeout(function(){n=!1},He)),(e.onEnd||r)(t,e.shift?d:c)))}),l}function at(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}function rt(t){o.Fotorama.instances.push(t),at()}function st(t){o.Fotorama.instances.splice(t.index,1),at()}var lt="fotorama",ct="fullscreen",ut=lt+"__wrap",dt=ut+"--css2",ft=ut+"--css3",ht=ut+"--video",mt=ut+"--fade",pt=ut+"--slide",vt=ut+"--no-controls",gt=ut+"--no-shadows",wt=ut+"--pan-y",xt=ut+"--rtl",yt=ut+"--only-active",bt=ut+"--no-captions",_t=ut+"--toggle-arrows",St=lt+"__stage",Ct=St+"__frame",Tt=Ct+"--video",kt=St+"__shaft",Bt=lt+"__grab",Mt=lt+"__pointer",Et=lt+"__arr",Ot=Et+"--disabled",It=Et+"--prev",Pt=Et+"--next",Ft=lt+"__nav",Dt=Ft+"-wrap",Wt=Ft+"__shaft",At=Ft+"--dots",Lt=Ft+"--thumbs",Rt=Ft+"__frame",jt=Rt+"--dot",zt=Rt+"--thumb",Nt=lt+"__fade",qt=Nt+"-front",Ht=Nt+"-rear",Ut=lt+"__shadow",$t=Ut+"s",Xt=$t+"--left",Yt=$t+"--right",Vt=lt+"__active",Kt=lt+"__select",Qt=lt+"--hidden",Jt=lt+"--fullscreen",Gt=lt+"__fullscreen-icon",Zt=lt+"__error",te=lt+"__loading",ee=lt+"__loaded",ne=ee+"--full",oe=ee+"--img",ie=lt+"__grabbing",ae=lt+"__img",re=ae+"--full",se=lt+"__dot",le=lt+"__thumb",ce=le+"-border",ue=lt+"__html",de=lt+"__video",fe=de+"-play",he=de+"-close",me=lt+"__caption",pe=lt+"__caption__wrap",ve=lt+"__spinner",ge='" tabindex="0" role="button',we=o&&o.fn.jquery.split(".");if(!we||we[0]<1||1==we[0]&&we[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var xe={},ye=function(t,e,n){function o(t){g.cssText=t}function i(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var o in t){var i=t[o];if(!a(i,"-")&&g[i]!==n)return"pfx"!=e||i}return!1}function s(t,e,o){for(var a in t){var r=e[t[a]];if(r!==n)return o===!1?t[a]:i(r,"function")?r.bind(o||e):r}return!1}function l(t,e,n){var o=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+y.join(o+" ")+o).split(" ");return i(e,"string")||i(e,"undefined")?r(a,e):(a=(t+" "+b.join(o+" ")+o).split(" "),s(a,e,n))}var c,u,d,f="2.6.2",h={},m=e.documentElement,p="modernizr",v=e.createElement(p),g=v.style,w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),x="Webkit Moz O ms",y=x.split(" "),b=x.toLowerCase().split(" "),_={},S=[],C=S.slice,T=function(t,n,o,i){var a,r,s,l,c=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(o,10))for(;o--;)s=e.createElement("div"),s.id=i?i[o]:p+(o+1),c.appendChild(s);return a=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(u?c:d).innerHTML+=a,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),r=n(c,t),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),m.style.overflow=l),!!r},k={}.hasOwnProperty;d=i(k,"undefined")||i(k.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return k.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=C.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=e.prototype;var a=new i,r=e.apply(a,n.concat(C.call(arguments)));return Object(r)===r?r:a}return e.apply(t,n.concat(C.call(arguments)))};return o}),_.csstransforms3d=function(){var t=!!l("perspective");return t};for(var B in _)d(_,B)&&(u=B.toLowerCase(),h[u]=_[B](),S.push((h[u]?"":"no-")+u));return h.addTest=function(t,e){if("object"==typeof t)for(var o in t)d(t,o)&&h.addTest(o,t[o]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(m.className+=" "+(e?"":"no-")+t),h[t]=e}return h},o(""),v=c=null,h._version=f,h._prefixes=w,h._domPrefixes=b,h._cssomPrefixes=y,h.testProp=function(t){return r([t])},h.testAllProps=l,h.testStyles=T,h.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},h}(t,e),be={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},_e="webkit moz o ms khtml".split(" ");if("undefined"!=typeof e.cancelFullScreen)be.ok=!0;else for(var Se=0,Ce=_e.length;Ce>Se;Se++)if(be.prefix=_e[Se],"undefined"!=typeof e[be.prefix+"CancelFullScreen"]){be.ok=!0;break}be.ok&&(be.event=be.prefix+"fullscreenchange",be.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},be.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},be.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Te,ke={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Be={top:"auto",left:"auto",className:""};!function(t,e){Te=e()}(this,function(){function t(t,n){var o,i=e.createElement(t||"div");for(o in n)i[o]=n[o];return i}function n(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function o(t,e,n,o){var i=["opacity",e,~~(100*t),n,o].join("-"),a=.01+n/o*100,r=Math.max(1-(1-t)/e*(100-a),t),s=f.substring(0,f.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return m[i]||(p.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+r+"}"+a+"%{opacity:"+t+"}"+(a+.01)+"%{opacity:1}"+(a+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",p.cssRules.length),m[i]=1),i}function a(t,e){var n,o,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<h.length;o++)if(n=h[o]+e,a[n]!==i)return n;return a[e]!==i?e:void 0}function r(t,e){for(var n in e)t.style[a(t,n)||n]=e[n];return t}function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function l(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function c(t,e){return"string"==typeof t?t:t[e%t.length]}function u(t){return"undefined"==typeof this?new u(t):void(this.opts=s(t||{},u.defaults,v))}function d(){function e(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(t,o){function i(){return r(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function a(t,a,s){n(f,n(r(i(),{rotation:360/o.lines*t+"deg",left:~~a}),n(r(e("roundrect",{arcsize:o.corners}),{width:l,height:o.width,left:o.radius,top:-o.width>>1,filter:s}),e("fill",{color:c(o.color,t),opacity:o.opacity}),e("stroke",{opacity:0}))))}var s,l=o.length+o.width,u=2*l,d=2*-(o.width+o.length)+"px",f=r(i(),{position:"absolute",top:d,left:d});if(o.shadow)for(s=1;s<=o.lines;s++)a(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=o.lines;s++)a(s);return n(t,f)},u.prototype.opacity=function(t,e,n,o){var i=t.firstChild;o=o.shadow&&o.lines||0,i&&e+o<i.childNodes.length&&(i=i.childNodes[e+o],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var f,h=["webkit","Moz","ms","O"],m={},p=function(){var o=t("style",{type:"text/css"});return n(e.getElementsByTagName("head")[0],o),o.sheet||o.styleSheet}(),v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={},s(u.prototype,{spin:function(e){this.stop();var n,o,i=this,a=i.opts,s=i.el=r(t(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),c=a.radius+a.length+a.width;if(e&&(e.insertBefore(s,e.firstChild||null),o=l(e),n=l(s),r(s,{left:("auto"==a.left?o.x-n.x+(e.offsetWidth>>1):parseInt(a.left,10)+c)+"px",top:("auto"==a.top?o.y-n.y+(e.offsetHeight>>1):parseInt(a.top,10)+c)+"px"})),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!f){var u,d=0,h=(a.lines-1)*(1-a.direction)/2,m=a.fps,p=m/a.speed,v=(1-a.opacity)/(p*a.trail/100),g=p/a.lines;!function w(){d++;for(var t=0;t<a.lines;t++)u=Math.max(1-(d+(a.lines-t)*g)%p*v,a.opacity),i.opacity(s,t*a.direction+h,u,a);i.timeout=i.el&&setTimeout(w,~~(1e3/m))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(e,i){function a(e,n){return r(t(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*l+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(var s,l=0,u=(i.lines-1)*(1-i.direction)/2;l<i.lines;l++)s=r(t(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:f&&o(i.opacity,i.trail,u+l*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&n(s,r(a("#000","0 0 4px #000"),{top:"2px"})),n(e,n(s,a(c(i.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var g=r(t("group"),{behavior:"url(#default#VML)"});return!a(g,"transform")&&g.adj?d():f=a(g,"animation"),u});var Me,Ee,Oe=o(t),Ie=o(e),Pe="quirks"===n.hash.replace("#",""),Fe=ye.csstransforms3d,De=Fe&&!Pe,We=Fe||"CSS1Compat"===e.compatMode,Ae=be.ok,Le=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Re=!De||Le,je=navigator.msPointerEnabled,ze="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Ne=250,qe=300,He=1400,Ue=5e3,$e=2,Xe=64,Ye=500,Ve=333,Ke="$stageFrame",Qe="$navDotFrame",Je="$navThumbFrame",Ge="auto",Ze=a([.1,0,.25,1]),tn=99999,en="50%",nn={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:$e,glimpse:0,fit:"contain",position:en,thumbposition:en,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Xe,thumbheight:Xe,thumbmargin:$e,thumbborderwidth:$e,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:qe,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},on={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};P.stop=function(t){P.ii[t]=!1};var an,rn,sn,ln;jQuery.Fotorama=function(t,i){function a(){o.each(Tn,function(t,e){if(!e.i){e.i=mo++;var n=k(e.video,!0);if(n){var o={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:o=B(e,Tn,co),M(Tn,{img:o.img,thumb:o.thumb},e.i,co)}}})}function r(t){return Gn[t]||co.fullScreen}function l(t){var e="keydown."+lt,n=lt+uo,o="keydown."+n,a="resize."+n+" orientationchange."+n;t?(Ie.on(o,function(t){var e,n;En&&27===t.keyCode?(e=!0,hn(En,!0,!0)):(co.fullScreen||i.keyboard&&!co.index)&&(27===t.keyCode?(e=!0,co.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&r("space")||37===t.keyCode&&r("left")||38===t.keyCode&&r("up")?n="<":32===t.keyCode&&r("space")||39===t.keyCode&&r("right")||40===t.keyCode&&r("down")?n=">":36===t.keyCode&&r("home")?n="<<":35===t.keyCode&&r("end")&&(n=">>")),(e||n)&&Q(t),n&&co.show({index:n,slow:t.altKey,user:!0})}),co.index||Ie.off(e).on(e,"textarea, input, select",function(t){!Ee.hasClass(ct)&&t.stopPropagation()}),Oe.on(a,co.resize)):(Ie.off(o),Oe.off(a))}function c(e){e!==c.f&&(e?(t.html("").addClass(lt+" "+fo).append(wo).before(vo).before(go),rt(co)):(wo.detach(),vo.detach(),go.detach(),t.html(po.urtext).removeClass(fo),st(co)),l(e),c.f=e)}function f(){Tn=co.data=Tn||N(i.data)||E(t),kn=co.size=Tn.length,!Cn.ok&&i.shuffle&&z(Tn),a(),Lo=C(Lo),kn&&c(!0)}function m(){var t=2>kn&&!i.enableifsingleframe||En;zo.noMove=t||$n,zo.noSwipe=t||!i.swipe,!Kn&&yo.toggleClass(Bt,!i.click&&!zo.noMove&&!zo.noSwipe),je&&wo.toggleClass(wt,!zo.noSwipe)}function x(t){t===!0&&(t=""),i.autoplay=Math.max(+t||Ue,1.5*Vn)}function y(){function t(t,n){e[t?"add":"remove"].push(n)}co.options=i=H(i),$n="crossfade"===i.transition||"dissolve"===i.transition,jn=i.loop&&(kn>2||$n&&(!Kn||"slide"!==Kn)),Vn=+i.transitionduration||qe,Jn="rtl"===i.direction,Gn=o.extend({},i.keyboard&&on,i.keyboard);var e={add:[],remove:[]};kn>1||i.enableifsingleframe?(zn=i.nav,qn="top"===i.navposition,e.remove.push(Kt),Co.toggle(!!i.arrows)):(zn=!1,Co.hide()),Ht(),Mn=new Te(o.extend(ke,i.spinner,Be,{direction:Jn?-1:1})),Pe(),Fe(),i.autoplay&&x(i.autoplay),Xn=h(i.thumbwidth)||Xe,Yn=h(i.thumbheight)||Xe,No.ok=Ho.ok=i.trackpad&&!Re,m(),an(i,[jo]),Nn="thumbs"===zn,Nn?(de(kn,"navThumb"),Bn=Eo,lo=Je,W(vo,o.Fotorama.jst.style({w:Xn,h:Yn,b:i.thumbborderwidth,m:i.thumbmargin,s:uo,q:!We})),ko.addClass(Lt).removeClass(At)):"dots"===zn?(de(kn,"navDot"),Bn=Mo,lo=Qe,ko.addClass(At).removeClass(Lt)):(zn=!1,ko.removeClass(Lt+" "+At)),zn&&(qn?To.insertBefore(xo):To.insertAfter(xo),_e.nav=!1,_e(Bn,Bo,"nav")),Hn=i.allowfullscreen,Hn?(Io.prependTo(xo),Un=Ae&&"native"===Hn):(Io.detach(),Un=!1),t($n,mt),t(!$n,pt),t(!i.captions,bt),t(Jn,xt),t("always"!==i.arrows,_t),Qn=i.shadows&&!Re,t(!Qn,gt),wo.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),Ro=o.extend({},i)}function S(t){return 0>t?(kn+t%kn)%kn:t>=kn?t%kn:t}function C(t){return s(t,0,kn-1)}function T(t){return jn?S(t):C(t)}function O(t){return!!(t>0||jn)&&t-1}function X(t){return!!(kn-1>t||jn)&&t+1}function G(){zo.min=jn?-1/0:-g(kn-1,jo.w,i.margin,Pn),zo.max=jn?1/0:-g(0,jo.w,i.margin,Pn),zo.snap=jo.w+i.margin}function et(){qo.min=Math.min(0,jo.nw-Bo.width()),qo.max=0,Bo.toggleClass(Bt,!(qo.noMove=qo.min===qo.max))}function nt(t,e,n){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var a=Tn[S(o)];if(a){var r="$"+e+"Frame",s=a[r];n.call(this,t,o,a,s,r,s&&s.data())}}})}function at(t,e,n,o){(!Zn||"*"===Zn&&o===Rn)&&(t=v(i.width)||v(t)||Ye,e=v(i.height)||v(e)||Ve,co.resize({width:t,ratio:i.ratio||n||t/e},0,o!==Rn&&"*"))}function Nt(t,e,n,a,r,s){nt(t,e,function(t,l,c,u,d,f){function h(t){var e=S(l);rn(t,{index:e,src:_,frame:Tn[e]})}function m(){x.remove(),o.Fotorama.cache[_]="error",c.html&&"stage"===e||!C||C===_?(!_||c.html||g?"stage"===e&&(u.trigger("f:load").removeClass(te+" "+Zt).addClass(ee),h("load"),at()):(u.trigger("f:error").removeClass(te).addClass(Zt),h("error")),f.state="error",!(kn>1&&Tn[l]===c)||c.html||c.deleted||c.video||g||(c.deleted=!0,co.splice(l,1))):(c[b]=_=C,Nt([l],e,n,a,r,!0))}function p(){o.Fotorama.measures[_]=y.measures=o.Fotorama.measures[_]||{width:w.width,height:w.height,ratio:w.width/w.height},at(y.measures.width,y.measures.height,y.measures.ratio,l),x.off("load error").addClass(ae+(g?" "+re:"")).prependTo(u),D(x,(o.isFunction(n)?n():n)||jo,a||c.fit||i.fit,r||c.position||i.position),o.Fotorama.cache[_]=f.state="loaded",setTimeout(function(){u.trigger("f:load").removeClass(te+" "+Zt).addClass(ee+" "+(g?ne:oe)),"stage"===e?h("load"):(c.thumbratio===Ge||!c.thumbratio&&i.thumbratio===Ge)&&(c.thumbratio=y.measures.ratio,_n())},0)}function v(){var t=10;P(function(){return!ro||!t--&&!Re},function(){p()})}if(u){var g=co.fullScreen&&c.full&&c.full!==c.img&&!f.$full&&"stage"===e;if(!f.$img||s||g){var w=new Image,x=o(w),y=x.data();f[g?"$full":"$img"]=x;var b="stage"===e?g?"full":"img":"thumb",_=c[b],C=g?null:c["stage"===e?"thumb":"img"];if("navThumb"===e&&(u=f.$wrap),!_)return void m();o.Fotorama.cache[_]?!function T(){"error"===o.Fotorama.cache[_]?m():"loaded"===o.Fotorama.cache[_]?setTimeout(v,0):setTimeout(T,100)}():(o.Fotorama.cache[_]="*",x.on("load",v).on("error",m)),f.state="",w.src=_}}})}function qt(t){Ao.append(Mn.spin().el).appendTo(t)}function Ht(){Ao.detach(),Mn&&Mn.stop()}function Ut(){var t=On[Ke];t&&!t.data().state&&(qt(t),t.on("f:load f:error",function(){t.off("f:load f:error"),Ht()}))}function ie(t){V(t,xn),K(t,function(){setTimeout(function(){q(ko)},0),He({time:Vn,guessIndex:o(this).data().eq,minMax:qo})})}function de(t,e){nt(t,e,function(t,n,i,a,r,s){if(!a){a=i[r]=wo[r].clone(),s=a.data(),s.data=i;var l=a[0];"stage"===e?(i.html&&o('<div class="'+ue+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(a),i.caption&&o(j(me,j(pe,i.caption))).appendTo(a),i.video&&a.addClass(Tt).append(Fo.clone()),K(l,function(){setTimeout(function(){q(xo)},0),vn({index:s.eq,user:!0})}),bo=bo.add(a)):"navDot"===e?(ie(l),Mo=Mo.add(a)):"navThumb"===e&&(ie(l),s.$wrap=a.children(":first"),Eo=Eo.add(a),i.video&&s.$wrap.append(Fo.clone()))}})}function we(t,e,n,o){return t&&t.length&&D(t,e,n,o)}function xe(t){nt(t,"stage",function(t,e,n,a,r,s){if(a){var l=S(e),c=n.fit||i.fit,u=n.position||i.position;s.eq=l,$o[Ke][l]=a.css(o.extend({left:$n?0:g(e,jo.w,i.margin,Pn)},$n&&d(0))),I(a[0])&&(a.appendTo(yo),hn(n.$video)),we(s.$img,jo,c,u),we(s.$full,jo,c,u)}})}function ye(t,e){if("thumbs"===zn&&!isNaN(t)){var n=-t,a=-t+jo.nw;Eo.each(function(){var t=o(this),r=t.data(),s=r.eq,l=function(){return{h:Yn,w:r.w}},c=l(),u=Tn[s]||{},d=u.thumbfit||i.thumbfit,f=u.thumbposition||i.thumbposition;c.w=r.w,r.l+r.w<n||r.l>a||we(r.$img,c,d,f)||e&&Nt([s],"navThumb",l,d,f)})}}function _e(t,e,n){if(!_e[n]){var a="nav"===n&&Nn,r=0;e.append(t.filter(function(){for(var t,e=o(this),n=e.data(),i=0,a=Tn.length;a>i;i++)if(n.data===Tn[i]){t=!0,n.eq=i;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){if(a){var t=o(this),e=t.data(),n=Math.round(Yn*e.data.thumbratio)||Xn;e.l=r,e.w=n,t.css({width:n}),r+=n+i.thumbmargin}})),_e[n]=!0}}function Se(t){return t-Xo>jo.w/3}function Ce(t){return!(jn||Lo+t&&Lo-kn+t||En)}function Pe(){var t=Ce(0),e=Ce(1);_o.toggleClass(Ot,t).attr(Y(t)),So.toggleClass(Ot,e).attr(Y(e))}function Fe(){No.ok&&(No.prevent={"<":Ce(0),">":Ce(1)})}function Le(t){var e,n,o=t.data();return Nn?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*i.thumbmargin,max:-e+jo.w-n-10*i.thumbmargin}}function ze(t){var e=On[lo].data();Z(Oo,{time:1.2*t,pos:e.l,width:e.w-2*i.thumbborderwidth})}function He(t){var e=Tn[t.guessIndex][lo];if(e){var n=qo.min!==qo.max,o=t.minMax||n&&Le(On[lo]),i=n&&(t.keep&&He.l?He.l:s((t.coo||jo.nw/2)-Le(e).c,o.min,o.max)),a=n&&s(i,qo.min,qo.max),r=1.1*t.time;Z(Bo,{time:r,pos:a||0,onEnd:function(){ye(a,!0)}}),fn(ko,A(a,qo.min,qo.max)),He.l=i}}function $e(){Ze(lo),Uo[lo].push(On[lo].addClass(Vt))}function Ze(t){for(var e=Uo[t];e.length;)e.shift().removeClass(Vt)}function en(t){var e=$o[t];o.each(In,function(t,n){delete e[S(n)]}),o.each(e,function(t,n){delete e[t],n.detach()})}function nn(t){Pn=Fn=Lo;var e=On[Ke];e&&(Ze(Ke),Uo[Ke].push(e.addClass(Vt)),t||co.show.onEnd(!0),b(yo,0,!0),en(Ke),xe(In),G(),et())}function an(t,e){t&&o.each(e,function(e,n){n&&o.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:U(t.ratio)})})}function rn(e,n){t.trigger(lt+":"+e,[co,n])}function sn(){clearTimeout(ln.t),ro=1,i.stopautoplayontouch?co.stopAutoplay():oo=!0}function ln(){ro&&(i.stopautoplayontouch||(cn(),un()),ln.t=setTimeout(function(){ro=0},qe+Ne))}function cn(){oo=!(!En&&!io)}function un(){if(clearTimeout(un.t),P.stop(un.w),!i.autoplay||oo)return void(co.autoplay&&(co.autoplay=!1,rn("stopautoplay")));co.autoplay||(co.autoplay=!0,rn("startautoplay"));var t=Lo,e=On[Ke].data();un.w=P(function(){return e.state||t!==Lo},function(){un.t=setTimeout(function(){if(!oo&&t===Lo){var e=Ln,n=Tn[e][Ke].data();un.w=P(function(){return n.state||e!==Ln},function(){oo||e!==Ln||co.show(jn?J(!Jn):Ln)})}},i.autoplay)})}function dn(){co.fullScreen&&(co.fullScreen=!1,Ae&&be.cancel(ho),Ee.removeClass(ct),Me.removeClass(ct),t.removeClass(Jt).insertAfter(go),jo=o.extend({},ao),hn(En,!0,!0),wn("x",!1),co.resize(),Nt(In,"stage"),q(Oe,eo,to),rn("fullscreenexit"))}function fn(t,e){Qn&&(t.removeClass(Xt+" "+Yt),e&&!En&&t.addClass(e.replace(/^|\s/g," "+$t+"--")))}function hn(t,e,n){e&&(wo.removeClass(ht),En=!1,m()),t&&t!==En&&(t.remove(),rn("unloadvideo")),n&&(cn(),un())}function mn(t){wo.toggleClass(vt,t)}function pn(t){if(!zo.flow){var e=t?t.pageX:pn.x,n=e&&!Ce(Se(e))&&i.click;pn.p!==n&&xo.toggleClass(Mt,n)&&(pn.p=n,pn.x=e)}}function vn(t){clearTimeout(vn.t),i.clicktransition&&i.clicktransition!==i.transition?setTimeout(function(){var e=i.transition;co.setOptions({transition:i.clicktransition}),Kn=e,vn.t=setTimeout(function(){co.show(t)},10)},0):co.show(t)}function gn(t,e){var n=t.target,a=o(n);a.hasClass(fe)?co.playVideo():n===Po?co.toggleFullScreen():En?n===Wo&&hn(En,!0,!0):e?mn():i.click&&vn({index:t.shiftKey||J(Se(t._x)),slow:t.altKey,user:!0})}function wn(t,e){zo[t]=qo[t]=e}function xn(t){var e=o(this).data().eq;vn({index:e,slow:t.altKey,user:!0,coo:t._x-ko.offset().left})}function yn(t){vn({index:Co.index(this)?">":"<",slow:t.altKey,user:!0})}function bn(t){K(t,function(){setTimeout(function(){q(xo)},0),mn(!1)})}function _n(){if(f(),y(),!_n.i){_n.i=!0;var t=i.startindex;(t||i.hash&&n.hash)&&(Rn=L(t||n.hash.replace(/^#/,""),Tn,0===co.index||t,t)),Lo=Pn=Fn=Dn=Rn=T(Rn)||0}if(kn){if(Sn())return;En&&hn(En,!0),In=[],en(Ke),_n.ok=!0,co.show({index:Lo,time:0}),co.resize()}else co.destroy()}function Sn(){return!Sn.f===Jn?(Sn.f=Jn,Lo=kn-1-Lo,co.reverse(),!0):void 0}function Cn(){Cn.ok||(Cn.ok=!0,rn("ready"))}Me=o("html"),Ee=o("body");var Tn,kn,Bn,Mn,En,On,In,Pn,Fn,Dn,Wn,An,Ln,Rn,jn,zn,Nn,qn,Hn,Un,$n,Xn,Yn,Vn,Kn,Qn,Jn,Gn,Zn,to,eo,no,oo,io,ao,ro,so,lo,co=this,uo=o.now(),fo=lt+uo,ho=t[0],mo=1,po=t.data(),vo=o("<style></style>"),go=o(j(Qt)),wo=o(j(ut)),xo=o(j(St)).appendTo(wo),yo=(xo[0],o(j(kt)).appendTo(xo)),bo=o(),_o=o(j(Et+" "+It+ge)),So=o(j(Et+" "+Pt+ge)),Co=_o.add(So).appendTo(xo),To=o(j(Dt)),ko=o(j(Ft)).appendTo(To),Bo=o(j(Wt)).appendTo(ko),Mo=o(),Eo=o(),Oo=(yo.data(),
Bo.data(),o(j(ce)).appendTo(Bo)),Io=o(j(Gt+ge)),Po=Io[0],Fo=o(j(fe)),Do=o(j(he)).appendTo(xo),Wo=Do[0],Ao=o(j(ve)),Lo=!1,Ro={},jo={},zo={},No={},qo={},Ho={},Uo={},$o={},Xo=0,Yo=[];wo[Ke]=o(j(Ct)),wo[Je]=o(j(Rt+" "+zt+ge,j(le))),wo[Qe]=o(j(Rt+" "+jt+ge,j(se))),Uo[Ke]=[],Uo[Je]=[],Uo[Qe]=[],$o[Ke]={},wo.addClass(De?ft:dt).toggleClass(vt,!i.controlsonstart),po.fotorama=this,co.startAutoplay=function(t){return co.autoplay?this:(oo=io=!1,x(t||i.autoplay),un(),this)},co.stopAutoplay=function(){return co.autoplay&&(oo=io=!0,un()),this},co.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?Fn+1:"<"===e?Fn-1:"<<"===e?0:">>"===e?kn-1:e,e=isNaN(e)?L(e,Tn,!0):e,e="undefined"==typeof e?Lo||0:e,co.activeIndex=Lo=T(e),Wn=O(Lo),An=X(Lo),Ln=S(Lo+(Jn?-1:1)),In=[Lo,Wn,An],Fn=jn?e:Lo;var n=Math.abs(Dn-Fn),o=_(t.time,function(){return Math.min(Vn*(1+(n-1)/12),2*Vn)}),a=t.overPos;t.slow&&(o*=10);var r=On;co.activeFrame=On=Tn[Lo];var l=r===On&&!t.user;hn(En,On.i!==Tn[S(Pn)].i),de(In,"stage"),xe(Re?[Fn]:[Fn,O(Fn),X(Fn)]),wn("go",!0),l||rn("show",{user:t.user,time:o}),oo=!0;var c=co.show.onEnd=function(e){if(!c.ok){if(c.ok=!0,e||nn(!0),l||rn("showend",{user:t.user}),!e&&Kn&&Kn!==i.transition)return co.setOptions({transition:Kn}),void(Kn=!1);Ut(),Nt(In,"stage"),wn("go",!1),Fe(),pn(),cn(),un()}};if($n){var u=On[Ke],d=Lo!==Dn?Tn[Dn][Ke]:null;tt(u,d,bo,{time:o,method:i.transition,onEnd:c},Yo)}else Z(yo,{pos:-g(Fn,jo.w,i.margin,Pn),overPos:a,time:o,onEnd:c});if(Pe(),zn){$e();var f=C(Lo+s(Fn-Dn,-1,1));He({time:o,coo:f!==Lo&&t.coo,guessIndex:"undefined"!=typeof t.coo?f:Lo,keep:l}),Nn&&ze(o)}return no="undefined"!=typeof Dn&&Dn!==Lo,Dn=Lo,i.hash&&no&&!co.eq&&F(On.id||Lo+1),this},co.requestFullScreen=function(){return Hn&&!co.fullScreen&&(to=Oe.scrollTop(),eo=Oe.scrollLeft(),q(Oe),wn("x",!0),ao=o.extend({},jo),t.addClass(Jt).appendTo(Ee.addClass(ct)),Me.addClass(ct),hn(En,!0,!0),co.fullScreen=!0,Un&&be.request(ho),co.resize(),Nt(In,"stage"),Ut(),rn("fullscreenenter")),this},co.cancelFullScreen=function(){return Un&&be.is()?be.cancel(e):dn(),this},co.toggleFullScreen=function(){return co[(co.fullScreen?"cancel":"request")+"FullScreen"]()},$(e,be.event,function(){!Tn||be.is()||En||dn()}),co.resize=function(t){if(!Tn)return this;var e=arguments[1]||0,n=arguments[2];an(co.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:H(t),[jo,n||co.fullScreen||i]);var o=jo.width,a=jo.height,r=jo.ratio,l=Oe.height()-(zn?ko.height():0);return v(o)&&(wo.addClass(yt).css({width:o,minWidth:jo.minwidth||0,maxWidth:jo.maxwidth||tn}),o=jo.W=jo.w=wo.width(),jo.nw=zn&&p(i.navwidth,o)||o,i.glimpse&&(jo.w-=Math.round(2*(p(i.glimpse,o)||0))),yo.css({width:jo.w,marginLeft:(jo.W-jo.w)/2}),a=p(a,l),a=a||r&&o/r,a&&(o=Math.round(o),a=jo.h=Math.round(s(a,p(jo.minheight,l),p(jo.maxheight,l))),xo.stop().animate({width:o,height:a},e,function(){wo.removeClass(yt)}),nn(),zn&&(ko.stop().animate({width:jo.nw},e),He({guessIndex:Lo,time:e,keep:!0}),Nn&&_e.nav&&ze(e)),Zn=n||!0,Cn())),Xo=xo.offset().left,this},co.setOptions=function(t){return o.extend(i,t),_n(),this},co.shuffle=function(){return Tn&&z(Tn)&&_n(),this},co.destroy=function(){return co.cancelFullScreen(),co.stopAutoplay(),Tn=co.data=null,c(),In=[],en(Ke),_n.ok=!1,this},co.playVideo=function(){var t=On,e=t.video,n=Lo;return"object"==typeof e&&t.videoReady&&(Un&&co.fullScreen&&co.cancelFullScreen(),P(function(){return!be.is()||n!==Lo},function(){n===Lo&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[Ke]),wo.addClass(ht),En=t.$video,m(),Co.blur(),Io.blur(),rn("loadvideo"))})),this},co.stopVideo=function(){return hn(En,!0,!0),this},xo.on("mousemove",pn),zo=ot(yo,{onStart:sn,onMove:function(t,e){fn(xo,e.edge)},onTouchEnd:ln,onEnd:function(t){fn(xo);var e=(je&&!so||t.touch)&&i.arrows&&"always"!==i.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var n=w(t.newPos,jo.w,i.margin,Pn);co.show({index:n,time:$n?Vn:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||gn(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+Kt+", ."+Kt+" *",$wrap:xo}),qo=ot(Bo,{onStart:sn,onMove:function(t,e){fn(ko,e.edge)},onTouchEnd:ln,onEnd:function(t){function e(){He.l=t.newPos,cn(),un(),ye(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(oo=!0,Z(Bo,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),ye(t.newPos),Qn&&fn(ko,A(t.newPos,qo.min,qo.max))):e();else{var n=t.$target.closest("."+Rt,Bo)[0];n&&xn.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:ko}),No=it(xo,{shift:!0,onEnd:function(t,e){sn(),ln(),co.show({index:e,slow:t.altKey})}}),Ho=it(ko,{onEnd:function(t,e){sn(),ln();var n=b(Bo)+.25*e;Bo.css(u(s(n,qo.min,qo.max))),Qn&&fn(ko,A(n,qo.min,qo.max)),Ho.prevent={"<":n>=qo.max,">":n<=qo.min},clearTimeout(Ho.t),Ho.t=setTimeout(function(){He.l=n,ye(n,!0)},Ne),ye(n)}}),wo.hover(function(){setTimeout(function(){ro||mn(!(so=!0))},0)},function(){so&&mn(!(so=!1))}),R(Co,function(t){Q(t),yn.call(this,t)},{onStart:function(){sn(),zo.control=!0},onTouchEnd:ln}),Co.each(function(){V(this,function(t){yn.call(this,t)}),bn(this)}),V(Po,co.toggleFullScreen),bn(Po),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){co[e]=function(){return Tn=Tn||[],"load"!==e?Array.prototype[e].apply(Tn,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Tn=N(arguments[0])),_n(),co}}),_n()},o.fn.fotorama=function(e){return this.each(function(){var n=this,i=o(this),a=i.data(),r=a.fotorama;r?r.setOptions(e,!0):P(function(){return!O(n)},function(){a.urtext=i.html(),new o.Fotorama(i,o.extend({},nn,t.fotoramaDefaults,e,a))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},o=o||{},o.Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e,n="";return xe.escape,n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){function e(){n+=o.call(arguments,"")}var n="",o=(xe.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',e(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),n+='" frameborder="0" allowfullscreen></iframe></div>\n'},o(function(){o("."+lt+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(t){!function(e){var n="function"==typeof define&&define.amd,o="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",a="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";n||(o?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+i+"//"+a+"%3E%3C/script%3E"))),e()}(function(){var e,n="mCustomScrollbar",o="mCS",i=".mCustomScrollbar",a={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(e){var e=t.extend(!0,{},a,e),n=f.call(this);if(e.live){var l=e.liveSelector||this.selector||i,c=t(l);if("off"===e.live)return void m(l);s[l]=setTimeout(function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&m(l)},500)}else m(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":p(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=v(e.scrollButtons.scrollType),h(e),t(n).each(function(){var n=t(this);if(!n.data(o)){n.data(o,{idx:++r,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var i=n.data(o),a=i.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(a.axis=s),l&&(a.scrollbarPosition=l),c&&(a.theme=c,h(a)),g.call(this),i&&a.callbacks.onCreate&&"function"==typeof a.callbacks.onCreate&&a.callbacks.onCreate.call(this),t("#mCSB_"+i.idx+"_container img:not(."+u[2]+")").addClass(u[2]),d.update.call(null,n)}})},update:function(e,n){var i=e||f.call(this);return t(i).each(function(){var e=t(this);if(e.data(o)){var i=e.data(o),a=i.opt,r=t("#mCSB_"+i.idx+"_container"),s=t("#mCSB_"+i.idx),l=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(!r.length)return;i.tweenRunning&&V(e),n&&i&&a.callbacks.onBeforeUpdate&&"function"==typeof a.callbacks.onBeforeUpdate&&a.callbacks.onBeforeUpdate.call(this),e.hasClass(u[3])&&e.removeClass(u[3]),e.hasClass(u[4])&&e.removeClass(u[4]),s.css("max-height","none"),s.height()!==e.height()&&s.css("max-height",e.height()),x.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||r.css("width",w(r)),i.overflowed=C.call(this),M.call(this),a.autoDraggerLength&&b.call(this),_.call(this),k.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==a.axis&&(i.overflowed[0]?l[0].height()>l[0].parent().height()?T.call(this):(K(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(T.call(this),"y"===a.axis?B.call(this):"yx"===a.axis&&i.overflowed[1]&&K(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(i.overflowed[1]?l[1].width()>l[1].parent().width()?T.call(this):(K(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(T.call(this),"x"===a.axis?B.call(this):"yx"===a.axis&&i.overflowed[0]&&K(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&i&&(2===n&&a.callbacks.onImageLoad&&"function"==typeof a.callbacks.onImageLoad?a.callbacks.onImageLoad.call(this):3===n&&a.callbacks.onSelectorChange&&"function"==typeof a.callbacks.onSelectorChange?a.callbacks.onSelectorChange.call(this):a.callbacks.onUpdate&&"function"==typeof a.callbacks.onUpdate&&a.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(e,n){if("undefined"!=typeof e&&null!=e){var i=f.call(this);return t(i).each(function(){var i=t(this);if(i.data(o)){var a=i.data(o),r=a.opt,s={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},s,n),c=U.call(this,e),u=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=$.call(this,c[0],"y"),c[1]=$.call(this,c[1],"x"),l.moveDragger&&(c[0]*=a.scrollRatio.y,c[1]*=a.scrollRatio.x),l.dur=it()?0:u,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&a.overflowed[0]&&(l.dir="y",l.overwrite="all",K(i,c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&a.overflowed[1]&&(l.dir="x",l.overwrite="none",K(i,c[1].toString(),l))},l.timeout)}})}},stop:function(){var e=f.call(this);return t(e).each(function(){var e=t(this);e.data(o)&&V(e)})},disable:function(e){var n=f.call(this);return t(n).each(function(){var n=t(this);if(n.data(o)){n.data(o);X.call(this,"remove"),B.call(this),e&&T.call(this),M.call(this,!0),n.addClass(u[3])}})},destroy:function(){var e=f.call(this);return t(e).each(function(){var i=t(this);if(i.data(o)){var a=i.data(o),r=a.opt,s=t("#mCSB_"+a.idx),l=t("#mCSB_"+a.idx+"_container"),c=t(".mCSB_"+a.idx+"_scrollbar");r.live&&m(r.liveSelector||t(e).selector),X.call(this,"remove"),B.call(this),T.call(this),i.removeData(o),Z(this,"mcs"),c.remove(),l.find("img."+u[2]).removeClass(u[2]),s.replaceWith(l.contents()),i.removeClass(n+" _"+o+"_"+a.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},f=function(){return"object"!=typeof t(this)||t(this).length<1?i:this},h=function(e){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],o=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],a=["minimal","minimal-dark"],r=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,n)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,o)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,i)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,a)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,r)>-1?"outside":e.scrollbarPosition},m=function(t){s[t]&&(clearTimeout(s[t]),Z(s,t))},p=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},v=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},g=function(){var e=t(this),i=e.data(o),a=i.opt,r=a.autoExpandScrollbar?" "+u[1]+"_expand":"",s=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===a.axis?s[0]+s[1]:"x"===a.axis?s[1]:s[0],d="yx"===a.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=a.autoHideScrollbar?" "+u[6]:"",h="x"!==a.axis&&"rtl"===i.langDir?" "+u[7]:"";a.setWidth&&e.css("width",a.setWidth),a.setHeight&&e.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===i.langDir?"989999px":a.setLeft,e.addClass(n+" _"+o+"_"+i.idx+f+h).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+l+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir='"+i.langDir+"' /></div>");var m=t("#mCSB_"+i.idx),p=t("#mCSB_"+i.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||p.css("width",w(p)),"outside"===a.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(d)),y.call(this);var v=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];v[0].css("min-height",v[0].height()),v[1].css("min-width",v[1].width())},w=function(e){var n=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],o=e.parent().width();return n[0]>o?n[0]:n[1]>o?n[1]:"100%"},x=function(){var e=t(this),n=e.data(o),i=n.opt,a=t("#mCSB_"+n.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis){a.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(a[0].scrollWidth);3===i.advanced.autoExpandHorizontalScroll||2!==i.advanced.autoExpandHorizontalScroll&&r>a.parent().width()?a.css({width:r,"min-width":"100%","overflow-x":"inherit"}):a.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(a[0].getBoundingClientRect().right+.4)-Math.floor(a[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},y=function(){var e=t(this),n=e.data(o),i=n.opt,a=t(".mCSB_"+n.idx+"_scrollbar:first"),r=nt(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+u[13]+"' "+r+" />","<a href='#' class='"+u[14]+"' "+r+" />","<a href='#' class='"+u[15]+"' "+r+" />","<a href='#' class='"+u[16]+"' "+r+" />"],l=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&a.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},b=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),r=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[i.height()/a.outerHeight(!1),i.width()/a.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(s[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(s[1]*r[1].parent().width())],u=l&&c[1]<c[0]?c[0]:c[1],d=l&&c[3]<c[2]?c[2]:c[3];r[0].css({height:u,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:d,"max-width":r[1].parent().width()-10})},_=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),r=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[a.outerHeight(!1)-i.height(),a.outerWidth(!1)-i.width()],l=[s[0]/(r[0].parent().height()-r[0].height()),s[1]/(r[1].parent().width()-r[1].width())];n.scrollRatio={y:l[0],x:l[1]}},S=function(t,e,n){var o=n?u[0]+"_expanded":"",i=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(u[0]+" "+o),i.toggleClass(u[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(u[0]),i.removeClass(u[1])):(t.addClass(u[0]),i.addClass(u[1])))},C=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),r=null==n.overflowed?a.height():a.outerHeight(!1),s=null==n.overflowed?a.width():a.outerWidth(!1),l=a[0].scrollHeight,c=a[0].scrollWidth;return l>r&&(r=l),c>s&&(s=c),[r>i.height(),s>i.width()]},T=function(){var e=t(this),n=e.data(o),i=n.opt,a=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(V(e),("x"!==i.axis&&!n.overflowed[0]||"y"===i.axis&&n.overflowed[0])&&(s[0].add(r).css("top",0),K(e,"_resetY")),"y"!==i.axis&&!n.overflowed[1]||"x"===i.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=a.width()-r.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),r.css("left",l),s[1].css("left",dx),K(e,"_resetX")}},k=function(){function e(){r=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(r),F.call(n[0])):e()},100)}var n=t(this),i=n.data(o),a=i.opt;if(!i.bindEvents){if(O.call(this),a.contentTouchScroll&&I.call(this),P.call(this),a.mouseWheel.enable){var r;e()}R.call(this),z.call(this),a.advanced.autoScrollOnFocus&&j.call(this),a.scrollButtons.enable&&N.call(this),a.keyboard.enable&&q.call(this),i.bindEvents=!0}},B=function(){var e=t(this),n=e.data(o),i=n.opt,a=o+"_"+n.idx,r=".mCSB_"+n.idx+"_scrollbar",s=t("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+r+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+r+">a"),l=t("#mCSB_"+n.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(t(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&s.add(t(i.advanced.extraDraggableSelectors)),n.bindEvents&&(t(document).add(t(!W()||top.document)).unbind("."+a),s.each(function(){t(this).unbind("."+a)}),clearTimeout(e[0]._focusTimeout),Z(e[0],"_focusTimeout"),clearTimeout(n.sequential.step),Z(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Z(l[0],"onCompleteTimeout"),n.bindEvents=!1)},M=function(e){var n=t(this),i=n.data(o),a=i.opt,r=t("#mCSB_"+i.idx+"_container_wrapper"),s=r.length?r:t("#mCSB_"+i.idx+"_container"),l=[t("#mCSB_"+i.idx+"_scrollbar_vertical"),t("#mCSB_"+i.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==a.axis&&(i.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(u[8]+" "+u[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(u[10])):(l[0].css("display","none"),s.addClass(u[10])),s.addClass(u[8]))),"y"!==a.axis&&(i.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(u[9]+" "+u[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(u[11])):(l[1].css("display","none"),s.addClass(u[11])),s.addClass(u[9]))),i.overflowed[0]||i.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},E=function(e){var n=e.type,o=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,i=W()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return o?[e.originalEvent.pageY-o[0]+i[0],e.originalEvent.pageX-o[1]+i[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[a.screenY,a.screenX,r>1]:[a.pageY,a.pageX,r>1];default:return o?[e.pageY-o[0]+i[0],e.pageX-o[1]+i[1],!1]:[e.pageY,e.pageX,!1]}},O=function(){function e(t,e,o,i){if(h[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===f[1])var a="x",l=(n[0].offsetLeft-e+i)*s.scrollRatio.x;else var a="y",l=(n[0].offsetTop-t+o)*s.scrollRatio.y;K(r,l.toString(),{dir:a,drag:!0})}var n,i,a,r=t(this),s=r.data(o),u=s.opt,d=o+"_"+s.idx,f=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],h=t("#mCSB_"+s.idx+"_container"),m=t("#"+f[0]+",#"+f[1]),p=u.advanced.releaseDraggableSelectors?m.add(t(u.advanced.releaseDraggableSelectors)):m,v=u.advanced.extraDraggableSelectors?t(!W()||top.document).add(t(u.advanced.extraDraggableSelectors)):t(!W()||top.document);m.bind("contextmenu."+d,function(t){t.preventDefault()}).bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),tt(e)){c=!0,l&&(document.onselectstart=function(){return!1}),A.call(h,!1),V(r),n=t(this);var o=n.offset(),s=E(e)[0]-o.top,d=E(e)[1]-o.left,f=n.height()+o.top,m=n.width()+o.left;s<f&&s>0&&d<m&&d>0&&(i=s,a=d),S(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+d,function(t){t.stopImmediatePropagation(),t.preventDefault();var o=n.offset(),r=E(t)[0]-o.top,s=E(t)[1]-o.left;e(i,a,r,s)}),t(document).add(v).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(t){if(n){var o=n.offset(),r=E(t)[0]-o.top,s=E(t)[1]-o.left;if(i===r&&a===s)return;e(i,a,r,s)}}).add(p).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(t){n&&(S(n,"active",u.autoExpandScrollbar),n=null),c=!1,l&&(document.onselectstart=null),A.call(h,!0)})},I=function(){function n(t){if(!et(t)||c||E(t)[2])return void(e=0);e=1,_=0,S=0,u=1,C.removeClass("mCS_touch_action");var n=O.offset();d=E(t)[0]-n.top,f=E(t)[1]-n.left,L=[E(t)[0],E(t)[1]]}function i(t){if(et(t)&&!c&&!E(t)[2]&&(k.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!S||_)&&u)){v=J();var e=M.offset(),n=E(t)[0]-e.top,o=E(t)[1]-e.left,i="mcsLinearOut";if(P.push(n),F.push(o),L[2]=Math.abs(E(t)[0]-L[0]),L[3]=Math.abs(E(t)[1]-L[1]),T.overflowed[0])var a=I[0].parent().height()-I[0].height(),r=d-n>0&&n-d>-(a*T.scrollRatio.y)&&(2*L[3]<L[2]||"yx"===k.axis);if(T.overflowed[1])var s=I[1].parent().width()-I[1].width(),h=f-o>0&&o-f>-(s*T.scrollRatio.x)&&(2*L[2]<L[3]||"yx"===k.axis);r||h?(z||t.preventDefault(),_=1):(S=1,C.addClass("mCS_touch_action")),z&&t.preventDefault(),y="yx"===k.axis?[d-n,f-o]:"x"===k.axis?[null,f-o]:[d-n,null],O[0].idleTimer=250,T.overflowed[0]&&l(y[0],D,i,"y","all",!0),T.overflowed[1]&&l(y[1],D,i,"x",A,!0)}}function a(t){if(!et(t)||c||E(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),V(C),p=J();var n=M.offset();h=E(t)[0]-n.top,m=E(t)[1]-n.left,P=[],F=[]}function r(t){if(et(t)&&!c&&!E(t)[2]){u=0,t.stopImmediatePropagation(),_=0,S=0,g=J();var e=M.offset(),n=E(t)[0]-e.top,o=E(t)[1]-e.left;if(!(g-v>30)){x=1e3/(g-p);var i="mcsEaseOut",a=x<2.5,r=a?[P[P.length-2],F[F.length-2]]:[0,0];w=a?[n-r[0],o-r[1]]:[n-h,o-m];var d=[Math.abs(w[0]),Math.abs(w[1])];x=a?[Math.abs(w[0]/4),Math.abs(w[1]/4)]:[x,x];var f=[Math.abs(O[0].offsetTop)-w[0]*s(d[0]/x[0],x[0]),Math.abs(O[0].offsetLeft)-w[1]*s(d[1]/x[1],x[1])];y="yx"===k.axis?[f[0],f[1]]:"x"===k.axis?[null,f[1]]:[f[0],null],b=[4*d[0]+k.scrollInertia,4*d[1]+k.scrollInertia];var C=parseInt(k.contentTouchScroll)||0;y[0]=d[0]>C?y[0]:0,y[1]=d[1]>C?y[1]:0,T.overflowed[0]&&l(y[0],b[0],i,"y",A,!1),T.overflowed[1]&&l(y[1],b[1],i,"x",A,!1)}}}function s(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function l(t,e,n,o,i,a){t&&K(C,t.toString(),{dur:e,scrollEasing:n,dir:o,overwrite:i,drag:a})}var u,d,f,h,m,p,v,g,w,x,y,b,_,S,C=t(this),T=C.data(o),k=T.opt,B=o+"_"+T.idx,M=t("#mCSB_"+T.idx),O=t("#mCSB_"+T.idx+"_container"),I=[t("#mCSB_"+T.idx+"_dragger_vertical"),t("#mCSB_"+T.idx+"_dragger_horizontal")],P=[],F=[],D=0,A="yx"===k.axis?"none":"all",L=[],R=O.find("iframe"),j=["touchstart."+B+" pointerdown."+B+" MSPointerDown."+B,"touchmove."+B+" pointermove."+B+" MSPointerMove."+B,"touchend."+B+" pointerup."+B+" MSPointerUp."+B],z=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;O.bind(j[0],function(t){n(t)}).bind(j[1],function(t){i(t)}),M.bind(j[0],function(t){a(t)}).bind(j[2],function(t){r(t)}),R.length&&R.each(function(){t(this).bind("load",function(){W(this)&&t(this.contentDocument||this.contentWindow.document).bind(j[0],function(t){n(t),a(t)}).bind(j[1],function(t){i(t)}).bind(j[2],function(t){r(t)})})})},P=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(t,e,n){u.type=n&&a?"stepped":"stepless",u.scrollAmount=10,H(r,t,e,"mcsLinearOut",n?60:null)}var a,r=t(this),s=r.data(o),l=s.opt,u=s.sequential,d=o+"_"+s.idx,f=t("#mCSB_"+s.idx+"_container"),h=f.parent();f.bind("mousedown."+d,function(t){e||a||(a=1,c=!0)}).add(document).bind("mousemove."+d,function(t){if(!e&&a&&n()){var o=f.offset(),r=E(t)[0]-o.top+f[0].offsetTop,c=E(t)[1]-o.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?u.step&&i("off",null,"stepped"):("x"!==l.axis&&s.overflowed[0]&&(r<0?i("on",38):r>h.height()&&i("on",40)),"y"!==l.axis&&s.overflowed[1]&&(c<0?i("on",37):c>h.width()&&i("on",39)))}}).bind("mouseup."+d+" dragend."+d,function(t){e||(a&&(a=0,i("off",null)),c=!1)})},F=function(){function e(e,o){if(V(n),!L(n,e.target)){var r="auto"!==a.mouseWheel.deltaFactor?parseInt(a.mouseWheel.deltaFactor):l&&e.deltaFactor<100?100:e.deltaFactor||100,u=a.scrollInertia;if("x"===a.axis||"x"===a.mouseWheel.axis)var d="x",f=[Math.round(r*i.scrollRatio.x),parseInt(a.mouseWheel.scrollAmount)],h="auto"!==a.mouseWheel.scrollAmount?f[1]:f[0]>=s.width()?.9*s.width():f[0],m=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,v=c[1].parent().width()-c[1].width(),g="y"===a.mouseWheel.axis?e.deltaY||o:e.deltaX;else var d="y",f=[Math.round(r*i.scrollRatio.y),parseInt(a.mouseWheel.scrollAmount)],h="auto"!==a.mouseWheel.scrollAmount?f[1]:f[0]>=s.height()?.9*s.height():f[0],m=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,v=c[0].parent().height()-c[0].height(),g=e.deltaY||o;"y"===d&&!i.overflowed[0]||"x"===d&&!i.overflowed[1]||((a.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(g=-g),a.mouseWheel.normalizeDelta&&(g=g<0?-1:1),(g>0&&0!==p||g<0&&p!==v||a.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!a.mouseWheel.normalizeDelta&&(h=e.deltaFactor,u=17),K(n,(m-g*h).toString(),{dir:d,dur:u}))}}if(t(this).data(o)){var n=t(this),i=n.data(o),a=i.opt,r=o+"_"+i.idx,s=t("#mCSB_"+i.idx),c=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],u=t("#mCSB_"+i.idx+"_container").find("iframe");u.length&&u.each(function(){t(this).bind("load",function(){W(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(t,n){e(t,n)})})}),s.bind("mousewheel."+r,function(t,n){e(t,n)})}},D=new Object,W=function(e){var n=!1,o=!1,i=null;if(void 0===e?o="#empty":void 0!==t(e).attr("id")&&(o=t(e).attr("id")),o!==!1&&void 0!==D[o])return D[o];if(e){try{var a=e.contentDocument||e.contentWindow.document;i=a.body.innerHTML}catch(r){}n=null!==i}else{try{var a=top.document;i=a.body.innerHTML}catch(r){}n=null!==i}return o!==!1&&(D[o]=n),n},A=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},L=function(e,n){var i=n.nodeName.toLowerCase(),a=e.data(o).opt.mouseWheel.disableOver,r=["select","textarea"];return t.inArray(i,a)>-1&&!(t.inArray(i,r)>-1&&!t(n).is(":focus"))},R=function(){var e,n=t(this),i=n.data(o),a=o+"_"+i.idx,r=t("#mCSB_"+i.idx+"_container"),s=r.parent(),l=t(".mCSB_"+i.idx+"_scrollbar ."+u[12]);l.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,function(n){c=!0,t(n.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,function(t){c=!1}).bind("click."+a,function(o){if(e&&(e=0,t(o.target).hasClass(u[12])||t(o.target).hasClass("mCSB_draggerRail"))){V(n);var a=t(this),l=a.find(".mCSB_dragger");if(a.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var c="x",d=o.pageX>l.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-d*(.9*s.width())}else{if(!i.overflowed[0])return;var c="y",d=o.pageY>l.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-d*(.9*s.height())}K(n,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},j=function(){var e=t(this),n=e.data(o),i=n.opt,a=o+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container"),s=r.parent();r.bind("focusin."+a,function(n){var o=t(document.activeElement),a=r.find(".mCustomScrollBox").length,l=0;o.is(i.advanced.autoScrollOnFocus)&&(V(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=a?(l+17)*a:0,e[0]._focusTimeout=setTimeout(function(){var t=[ot(o)[0],ot(o)[1]],n=[r[0].offsetTop,r[0].offsetLeft],a=[n[0]+t[0]>=0&&n[0]+t[0]<s.height()-o.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<s.width()-o.outerWidth(!1)],c="yx"!==i.axis||a[0]||a[1]?"all":"none";"x"===i.axis||a[0]||K(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",
overwrite:c,dur:l}),"y"===i.axis||a[1]||K(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l})},e[0]._focusTimer))})},z=function(){var e=t(this),n=e.data(o),i=o+"_"+n.idx,a=t("#mCSB_"+n.idx+"_container").parent();a.bind("scroll."+i,function(e){0===a.scrollTop()&&0===a.scrollLeft()||t(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},N=function(){var e=t(this),n=e.data(o),i=n.opt,a=n.sequential,r=o+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",l=t(s+">a");l.bind("contextmenu."+r,function(t){t.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(o){function r(t,n){a.scrollAmount=i.scrollButtons.scrollAmount,H(e,t,n)}if(o.preventDefault(),tt(o)){var s=t(this).attr("class");switch(a.type=i.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;c=!0,n.tweenRunning=!1,r("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;c=!1,a.dir&&r("off",s);break;case"click":if("stepped"!==a.type||n.tweenRunning)return;r("on",s)}}})},q=function(){function e(e){function o(t,e){r.type=a.keyboard.scrollType,r.scrollAmount=a.keyboard.scrollAmount,"stepped"===r.type&&i.tweenRunning||H(n,t,e)}switch(e.type){case"blur":i.tweenRunning&&r.dir&&o("off",null);break;case"keydown":case"keyup":var s=e.keyCode?e.keyCode:e.which,l="on";if("x"!==a.axis&&(38===s||40===s)||"y"!==a.axis&&(37===s||39===s)){if((38===s||40===s)&&!i.overflowed[0]||(37===s||39===s)&&!i.overflowed[1])return;"keyup"===e.type&&(l="off"),t(document.activeElement).is(d)||(e.preventDefault(),e.stopImmediatePropagation(),o(l,s))}else if(33===s||34===s){if((i.overflowed[0]||i.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){V(n);var f=34===s?-1:1;if("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*u.width());else var h="y",m=Math.abs(c[0].offsetTop)-f*(.9*u.height());K(n,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!t(document.activeElement).is(d)&&((i.overflowed[0]||i.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0])var h="x",m=35===s?Math.abs(u.width()-c.outerWidth(!1)):0;else var h="y",m=35===s?Math.abs(u.height()-c.outerHeight(!1)):0;K(n,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var n=t(this),i=n.data(o),a=i.opt,r=i.sequential,s=o+"_"+i.idx,l=t("#mCSB_"+i.idx),c=t("#mCSB_"+i.idx+"_container"),u=c.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+s+" keydown."+s+" keyup."+s];f.length&&f.each(function(){t(this).bind("load",function(){W(this)&&t(this.contentDocument||this.contentWindow.document).bind(h[0],function(t){e(t)})})}),l.attr("tabindex","0").bind(h[0],function(t){e(t)})},H=function(e,n,i,a,r){function s(t){d.snapAmount&&(f.scrollAmount=d.snapAmount instanceof Array?"x"===f.dir[0]?d.snapAmount[1]:d.snapAmount[0]:d.snapAmount);var n="stepped"!==f.type,o=r?r:t?n?p/1.5:v:1e3/60,i=t?n?7.5:40:2.5,l=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],u=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?l[1]+f.dir[1]*(u[1]*i):l[0]+f.dir[1]*(u[0]*i),g="x"===f.dir[0]?l[1]+f.dir[1]*parseInt(f.scrollAmount):l[0]+f.dir[1]*parseInt(f.scrollAmount),w="auto"!==f.scrollAmount?g:m,x=a?a:t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",y=!!t;return t&&o<17&&(w="x"===f.dir[0]?l[1]:l[0]),K(e,w.toString(),{dir:f.dir[0],scrollEasing:x,dur:o,onComplete:y}),t?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){s()},o)))}function l(){clearTimeout(f.step),Z(f,"step"),V(e)}var c=e.data(o),d=c.opt,f=c.sequential,h=t("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=d.scrollInertia<26?26:d.scrollInertia,v=d.scrollInertia<1?17:d.scrollInertia;switch(n){case"on":if(f.dir=[i===u[16]||i===u[15]||39===i||37===i?"x":"y",i===u[13]||i===u[15]||38===i||37===i?-1:1],V(e),nt(i)&&"stepped"===f.type)return;s(m);break;case"off":l(),(m||c.tweenRunning&&f.dir)&&s(!0)}},U=function(e){var n=t(this).data(o).opt,i=[];return"function"==typeof e&&(e=e()),e instanceof Array?i=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(i[0]=e.y?e.y:e.x||"x"===n.axis?null:e,i[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},$=function(e,n){if(null!=e&&"undefined"!=typeof e){var i=t(this),a=i.data(o),r=a.opt,s=t("#mCSB_"+a.idx+"_container"),l=s.parent(),c=typeof e;n||(n="x"===r.axis?"x":"y");var u="x"===n?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),f="x"===n?s[0].offsetLeft:s[0].offsetTop,h="x"===n?"left":"top";switch(c){case"function":return e();case"object":var m=e.jquery?e:t(e);if(!m.length)return;return"x"===n?ot(m)[1]:ot(m)[0];case"string":case"number":if(nt(e))return Math.abs(e);if(e.indexOf("%")!==-1)return Math.abs(u*parseInt(e)/100);if(e.indexOf("-=")!==-1)return Math.abs(f-parseInt(e.split("-=")[1]));if(e.indexOf("+=")!==-1){var p=f+parseInt(e.split("+=")[1]);return p>=0?0:Math.abs(p)}if(e.indexOf("px")!==-1&&nt(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-s.outerHeight(!1));if("right"===e)return Math.abs(l.width()-s.outerWidth(!1));if("first"===e||"last"===e){var m=s.find(":"+e);return"x"===n?ot(m)[1]:ot(m)[0]}return t(e).length?"x"===n?ot(t(e))[1]:ot(t(e))[0]:(s.css(h,e),void d.update.call(null,i[0]))}}},X=function(e){function n(){return clearTimeout(f[0].autoUpdate),0===s.parents("html").length?void(s=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(l.poll.change.n=a(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(l.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+f[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(l.poll.img.n=f.find("img").length,l.poll.img.n===l.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&n()):(l.poll.img.o=l.poll.img.n,void f.find("img").each(function(){i(this)}))},c.advanced.autoUpdateTimeout))}function i(e){function n(t,e){return function(){return e.apply(t,arguments)}}function o(){this.onload=null,t(e).addClass(u[2]),r(2)}if(t(e).hasClass(u[2]))return void r();var i=new Image;i.onload=n(i,o),i.src=e.src}function a(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var t=0,e=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}function r(t){clearTimeout(f[0].autoUpdate),d.update.call(null,s[0],t)}var s=t(this),l=s.data(o),c=l.opt,f=t("#mCSB_"+l.idx+"_container");return e?(clearTimeout(f[0].autoUpdate),void Z(f[0],"autoUpdate")):void n()},Y=function(t,e,n){return Math.round(t/e)*e-n},V=function(e){var n=e.data(o),i=t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");i.each(function(){G.call(this)})},K=function(e,n,i){function a(t){return l&&c.callbacks[t]&&"function"==typeof c.callbacks[t]}function r(){return[c.callbacks.alwaysTriggerOffsets||y>=b[0]+C,c.callbacks.alwaysTriggerOffsets||y<=-T]}function s(){var t=[h[0].offsetTop,h[0].offsetLeft],n=[w[0].offsetTop,w[0].offsetLeft],o=[h.outerHeight(!1),h.outerWidth(!1)],a=[f.height(),f.width()];e[0].mcs={content:h,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(o[0])-a[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(o[1])-a[1])),direction:i.dir}}var l=e.data(o),c=l.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=t.extend(u,i),d=[i.dur,i.drag?0:i.dur],f=t("#mCSB_"+l.idx),h=t("#mCSB_"+l.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?U.call(e,c.callbacks.onTotalScrollOffset):[0,0],v=c.callbacks.onTotalScrollBackOffset?U.call(e,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=i.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(t(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==n||l.contentReset.y||(a("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(e[0]),l.contentReset.y=1),"_resetX"!==n||l.contentReset.x||(a("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(e[0]),l.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!l.contentReset.y&&e[0].mcs||!l.overflowed[0]||(a("onOverflowY")&&c.callbacks.onOverflowY.call(e[0]),l.contentReset.x=null),!l.contentReset.x&&e[0].mcs||!l.overflowed[1]||(a("onOverflowX")&&c.callbacks.onOverflowX.call(e[0]),l.contentReset.x=null),c.snapAmount){var g=c.snapAmount instanceof Array?"x"===i.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;n=Y(n,g,c.snapOffset)}switch(i.dir){case"x":var w=t("#mCSB_"+l.idx+"_dragger_horizontal"),x="left",y=h[0].offsetLeft,b=[f.width()-h.outerWidth(!1),w.parent().width()-w.width()],_=[n,0===n?0:n/l.scrollRatio.x],C=p[1],T=v[1],k=C>0?C/l.scrollRatio.x:0,B=T>0?T/l.scrollRatio.x:0;break;case"y":var w=t("#mCSB_"+l.idx+"_dragger_vertical"),x="top",y=h[0].offsetTop,b=[f.height()-h.outerHeight(!1),w.parent().height()-w.height()],_=[n,0===n?0:n/l.scrollRatio.y],C=p[0],T=v[0],k=C>0?C/l.scrollRatio.y:0,B=T>0?T/l.scrollRatio.y:0}_[1]<0||0===_[0]&&0===_[1]?_=[0,0]:_[1]>=b[1]?_=[b[0],b[1]]:_[0]=-_[0],e[0].mcs||(s(),a("onInit")&&c.callbacks.onInit.call(e[0])),clearTimeout(h[0].onCompleteTimeout),Q(w[0],x,Math.round(_[1]),d[1],i.scrollEasing),!l.tweenRunning&&(0===y&&_[0]>=0||y===b[0]&&_[0]<=b[0])||Q(h[0],x,Math.round(_[0]),d[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!l.tweenRunning&&(a("onScrollStart")&&(s(),c.callbacks.onScrollStart.call(e[0])),l.tweenRunning=!0,S(w),l.cbOffsets=r())},onUpdate:function(){i.callbacks&&i.onUpdate&&a("whileScrolling")&&(s(),c.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var t=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){a("onScroll")&&(s(),c.callbacks.onScroll.call(e[0])),a("onTotalScroll")&&_[1]>=b[1]-k&&l.cbOffsets[0]&&(s(),c.callbacks.onTotalScroll.call(e[0])),a("onTotalScrollBack")&&_[1]<=B&&l.cbOffsets[1]&&(s(),c.callbacks.onTotalScrollBack.call(e[0])),l.tweenRunning=!1,h[0].idleTimer=0,S(w,"hide")},t)}}})}},Q=function(t,e,n,o,i,a,r){function s(){b.stop||(w||m.call(),w=J()-g,l(),w>=b.time&&(b.time=w>b.time?w+f-(w-b.time):w+f-1,b.time<w+1&&(b.time=w+1)),b.time<o?b.id=h(s):v.call())}function l(){o>0?(b.currVal=d(b.time,x,_,o,i),y[e]=Math.round(b.currVal)+"px"):y[e]=n+"px",p.call()}function c(){f=1e3/60,b.time=w+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},b.id=h(s)}function u(){null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null)}function d(t,e,n,o,i){switch(i){case"linear":case"mcsLinear":return n*t/o+e;case"mcsLinearOut":return t/=o,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=o/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=o/2,t<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(-Math.pow(2,-10*t)+2)+e);case"easeInOut":case"mcsEaseInOut":return t/=o/2,t<1?n/2*t*t*t+e:(t-=2,n/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=o,t--,-n*(t*t*t*t-1)+e;case"easeOutStrong":return n*(-Math.pow(2,-10*t/o)+1)+e;case"easeOut":case"mcsEaseOut":default:var a=(t/=o)*t,r=a*t;return e+n*(.499999999999997*r*a+-2.5*a*a+5.5*r+-6.5*a+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},v=r.onComplete||function(){},g=J(),w=0,x=t.offsetTop,y=t.style,b=t._mTween[e];"left"===e&&(x=t.offsetLeft);var _=n-x;b.stop=0,"none"!==a&&u(),c()},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},G=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var o=e[n];t._mTween[o].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[o].id):clearTimeout(t._mTween[o].id),t._mTween[o].id=null,t._mTween[o].stop=1)}},Z=function(t,e){try{delete t[e]}catch(n){t[e]=null}},tt=function(t){return!(t.which&&1!==t.which)},et=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},nt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ot=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},it=function(){function t(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}var e=t();return!!e&&document[e]};t.fn[n]=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):d.init.apply(this,arguments)},t[n]=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):d.init.apply(this,arguments)},t[n].defaults=a,window[n]=!0,t(window).bind("load",function(){t(i)[n](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,o,i=t(e),a=i.parents(".mCSB_container");if(a.length)return n=a.parent(),o=[a[0].offsetTop,a[0].offsetLeft],o[0]+ot(i)[0]>=0&&o[0]+ot(i)[0]<n.height()-i.outerHeight(!1)&&o[1]+ot(i)[1]>=0&&o[1]+ot(i)[1]<n.width()-i.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,n,o){var i,a,r,s,l=t(e),c=l.parents(".mCSB_container"),u="exact"===o[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return i=[l.outerHeight(!1),l.outerWidth(!1)],r=[c[0].offsetTop+ot(l)[0],c[0].offsetLeft+ot(l)[1]],a=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],s=[i[0]<a[0]?u[0]:u[1],i[1]<a[1]?u[0]:u[1]],r[0]-a[0]*s[0][0]<0&&r[0]+i[0]-a[0]*s[0][1]>=0&&r[1]-a[1]*s[1][0]<0&&r[1]+i[1]-a[1]*s[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data(o);if(n)return n.overflowed[0]||n.overflowed[1]}})})})}),function(t,e){fontSpy=function(t,n){var o=e("html"),i=e("body"),a=t;if("string"!=typeof a||""===a)throw"A valid fontName is required. fontName must be a string and must not be an empty string.";var r={font:a,fontClass:a.toLowerCase().replace(/\s/g,""),success:function(){},failure:function(){},testFont:"Courier New",testString:"QW@HhsXJ",glyphs:"",delay:50,timeOut:1e3,callback:e.noop},s=e.extend(r,n),l=e("<span>"+s.testString+s.glyphs+"</span>").css("position","absolute").css("top","-9999px").css("left","-9999px").css("visibility","hidden").css("fontFamily",s.testFont).css("fontSize","250px");i.append(l);var c=l.outerWidth();l.css("fontFamily",s.font+","+s.testFont);var u=function(){o.addClass("no-"+s.fontClass),s&&s.failure&&s.failure(),s.callback(new Error("FontSpy timeout")),l.remove()},d=function(){s.callback(),o.addClass(s.fontClass),s&&s.success&&s.success(),l.remove()},f=function(){setTimeout(h,s.delay),s.timeOut=s.timeOut-s.delay},h=function(){var t=l.outerWidth();c!==t?d():s.timeOut<0?u():f()};h()}}(this,jQuery),function(t){t(".js-fullscreen").click(function(){t(".b-page").toggleClass("is-full")});var e={init:function(){fontSpy("MyriadProRegular",{success:e.make})},make:function(){var e,n,o,i=t(".b-menu--top");i.append("<div class='b-menu__border'></div>");var a=t(".b-menu__border");a.width(t(".is-selected").outerWidth()).css("left",t(".is-selected").position().left).data("origLeft",a.position().left).data("origWidth",a.outerWidth()),t(".b-menu--top .b-menu__item").hover(function(){e=t(this),n=e.position().left,o=e.outerWidth(),a.stop().animate({left:n,width:o})},function(){a.stop().animate({left:a.data("origLeft"),width:a.data("origWidth")})})}};t(function(){e.init(),t(".js-scrollbar").mCustomScrollbar({theme:"rounded-dark",mouseWheelPixels:200,advanced:{updateOnContentResize:!0}}),t(".js-more").click(function(e){e.preventDefault();var n=t(this).parents(".js-slide");n.toggleClass("is-visible");var o=t(e.currentTarget).attr("data-handler");t(".is-visible").length?(t(".js-slide:not(.is-visible)").toggleClass("is-hidden"),t(".js-footer, .weather--content").fadeOut("fast",function(){o&&t(".js-scrollbar").mCustomScrollbar("scrollTo",t(".js-slide h2").eq(o),"top")})):(t(".js-slide").removeClass("is-hidden"),t(".js-footer, .weather--content").fadeIn())}),t(".js-slide h2").click(function(){var e=t(this).parents(".js-slide").find(".js-more"),n=t(this).index("h2");t(e).attr("data-handler",n),t(e).click()})})}(jQuery);